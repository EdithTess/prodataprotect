(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{hktz:function(t,e,a){"use strict";a.r(e),a.d(e,"ReportingAndNotificationModule",function(){return on});var n=a("ofXK"),i=a("tyNb"),o=a("M9IT"),s=a("Dh3D"),c=a("+0xr"),r=a("jtHE"),l=a("LRne"),d=a("pbD1");class u{}class b{}class m{}class p{}class h{}const f=[{cause:"Malicious internal act",code:"CA9238",id:"5"},{cause:"Accidental internal act",code:"C2333",id:"2"},{cause:"Malicious external act",code:"CA0002",id:"1"},{cause:"Unknown",code:"CA0003",id:"4"},{cause:"Other",code:"CA0005",id:"6"}],g=[{id:"1",rating:"1",impact:"Affected Data subject will be required to submit information afresh or fill forms again"},{id:"2",rating:"1",impact:"Affected Data subject may receive unsolicited email as a result of the breach"},{id:"3",rating:"1",impact:"Affected Data subject may be inconvenienced by marketing ads"},{id:"4",rating:"1",impact:"Affected Data subject may be inconvenienced by marketing ads"},{id:"5",rating:"1",impact:"Affected Data subject may experience loss of privacy but without risk of financial, psycological or physical harm"},{id:"2",rating:"1",impact:"Affected Data Subject may suffer fines or additional cost to renew a service as a result of the breach"},{id:"2",rating:"2",impact:"Affected Data subject may receive unsolicited targeted mailings likely to damage theire reputation"},{id:"2",rating:"2",impact:"Affected Data Subject may suffer targeted online advertising on a private aspect that the individual wanted to keep confidential (e.g. pregnancy advertising, drug treatment).  "},{id:"4",rating:"2",impact:"Affected Data Subject may suffer intimidation on social networks or cyber bullying"},{id:"4",rating:"2",impact:"Affected Data Subject may suffer defamation or loss of reputation"},{id:"3",rating:"3",impact:"Data Subjects may suffer financial loss as a result of a fraud (e.g. after an attempted phishing);       "},{id:"3",rating:"3",impact:"Data Subjects may suffer violation of fundametal human rights as a result of a breach e.g Discrimination, Persecution"},{id:"3",rating:"3",impact:"Data Subject may lose opportunities as a result of the breach e.g loss of scholarship"},{id:"3",rating:"3",impact:"Data Subject may suffer damage to property"},{id:"4",rating:"4",impact:"Data subject may fail to work or lose a job."},{id:"4",rating:"4",impact:"Data subject may suffer long-term or permanent psychological ailments;           "},{id:"4",rating:"4",impact:"Data subject may suffer financial risk        "},{id:"4",rating:"4",impact:" The data breach will result in loss of access to vital infrastructure e.g water, electricity"},{id:"4",rating:"4",impact:"The data breach exposed data belonging to chidren"},{id:"4",rating:"4",impact:"Data Breach exposed name, NIN and other personal data"}],C=[{id:"1",code:"LOC001",consquence:"Loss of Confidentiality"},{id:"1",code:"PC9234",consquence:"Loss of Integrity"},{id:"1",code:"LOC003",consquence:"Loss of availablity"}],y=[{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"A paper file or equipment is lost or stolen."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Paper or equipment left accessible in an unsecured location.  "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Mail lost or opened before being returned to sender.    "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Hacking, malware (e.g. ransomware) and/ or phishing.    "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Disposal of paper documents containing personal data without physical destruction.          "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Disposal of equipment containing personal data without secure erasure.      "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Non-voluntary publication of information"},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Data from the wrong person displayed on the customer portal.  "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"An e-mail with personal data has been wrongly sent to a number of known recipients."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Some customers could access other customers\u2019 accounts in an online service.        "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Data is published on a social media page."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"An employee sold or lost hardware, such as, laptop with customer data."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"A wrongly configured website makes publically accessible on internet, data from internal users."},{id:"",potentialConsquence:"Loss of Integrity",additional:"Data altered but without any identified incorrect or illegal use, e.g.  The records of a database with personal data have been wrongly updatedbut the original has been obtained before any use of the altered data occurred."},{id:"",potentialConsquence:"Loss of Integrity",additional:"Data has been altered and possibly used in an incorrect or illegal way but with possibility to recover and restore the correct data     "},{id:"",potentialConsquence:"Loss of Integrity",additional:"Data altered and possibly used in an incorrect or illegal way without possibility to recover e.g Back up is corrupted and original has been altered "},{id:"1",potentialConsquence:"Loss of availablity",additional:"A copy of file is lost but other copies are available."},{id:"1",potentialConsquence:"Loss of availablity",additional:"A database is corrupted but can be easily reconstructed from other databases.                   "},{id:"1",potentialConsquence:"Loss of availablity",additional:"A database is corrupted but can be reconstructed from other databases, although some processing is required."},{id:"1",potentialConsquence:"Loss of availablity",additional:"A file is lost but the information can be provided again by the individual.      "},{id:"1",potentialConsquence:"Loss of availablity",additional:"A file is lost/database corrupted, there is not back up of this information, and it cannot be provided by the individual. "}];class v{}const w=[{id:"1",code:"C932",name:"Inventory and Control of Hardware Assets"},{id:"1",code:"C2938",name:"Inventory and Control of software Assets"},{id:"1",code:"C9823",name:"Continuous Vulnerability Management"},{id:"12",code:"C938",name:"Controlled Use of Administrative Privileges"},{id:"1",code:"C2389",name:"Secure Configuration for Hardware and Software on Mobile Devices, Laptops, Workstations and Servers"}],O=[{id:"1",code:"C932",controlName:"Inventory and Control of Hardware Assets",subCategoryName:"Utilize an Active Discovery",subCategoryDesc:"ToolUtilize an active discovery tool to identify devices connected to the organization's network and update the hardware asset inventory."},{id:"1",code:"C932",controlName:"Inventory and Control of Hardware Assets",subCategoryName:"Use a Passive Asset Discovery Tool",subCategoryDesc:"Utilize a passive discovery tool to identify devices connected to the organization's network and automatically update the organization's hardware asset inventory."},{id:"1",code:"C932",controlName:"Inventory and Control of Hardware Assets",subCategoryName:"Use DHCP Logging to Update Asset Inventory",subCategoryDesc:"Use Dynamic Host Configuration Protocol (DHCP) logging on all DHCP servers or IP address management tools to update the organization's hardware asset inventory."},{id:"1",code:"C932",controlName:"Inventory and Control of Hardware Assets",subCategoryName:"Maintain Detailed Asset Inventory",subCategoryDesc:"Maintain an accurate and up-to-date inventory of all technology assets with the potential to store or process information. This inventory shall include all hardware assets, whether connected to the organization's network or not."},{id:"1",code:"C932",controlName:"Inventory and Control of Hardware Assets",subCategoryName:"Maintain Asset Inventory Information",subCategoryDesc:"Ensure that the hardware asset inventory records the network address, hardware address, machine name, data asset owner, and department for each asset and whether the hardware asset has been approved to connect to the network."},{id:"1",code:"C932",controlName:"Inventory and Control of Hardware Assets",subCategoryName:"Address Unauthorized Assets",subCategoryDesc:"Ensure that unauthorized assets are either removed from the network, quarantined, or the inventory is updated in a timely manner."},{id:"1",code:"C932",controlName:"Inventory and Control",subCategoryName:"Deploy Port Level Access Control",subCategoryDesc:"Utilize port level access control, following 802.1x standards, to control which devices can authenticate to the network. The authentication system shall be tied into the hardware asset inventory data to ensure only authorized devices can connect to the network."},{id:"1",code:"C932",controlName:"Inventory and Control of Hardware Assets",subCategoryName:"Utilize Client Certificates to Authenticate Hardware Assets",subCategoryDesc:"Use client certificates to authenticate hardware assets connecting to the organization's trusted network."},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Maintain Inventory of Authorized Software",subCategoryDesc:"Maintain an up-to-date list of all authorized software that is required in the enterprise for any business purpose on any business system."},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Ensure Software is Supported by Vendor",subCategoryDesc:"Ensure that only software applications or operating systems currently supported and receiving vendor updates are added to the organization's authorized software inventory. Unsupported software should be tagged as unsupported in the inventory system."},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Utilize Software Inventory Tools",subCategoryDesc:"Utilize software inventory tools throughout the organization to automate the documentation of all software on business systems."},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Track Software Inventory Information",subCategoryDesc:"The software inventory system should track the name, version, publisher, and install date for all software, including operating systems authorized by the organization."},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Integrate Software and Hardware Asset Inventories",subCategoryDesc:"The software inventory system should be tied into the hardware asset inventory so all devices and associated software are tracked from a single location."},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Address unapproved software Ensure",subCategoryDesc:"that unauthorized software is either removed or the inventory is updated in a timely manner"},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Utilize Application Whitelisting",subCategoryDesc:"Utilize application whitelisting technology on all assets to ensure that only authorized software executes and all unauthorized software is blocked from executing on assets."},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Implement Application Whitelisting of Libraries",subCategoryDesc:"The organization's application whitelisting software must ensure that only authorized software libraries (such as *.dll, *.ocx, *.so, etc.) are allowed to load into a system process."},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Implement Application Whitelisting of Scripts",subCategoryDesc:"The organization's application whitelisting software must ensure that only authorized, digitally signed scripts (such as *.ps1,  *.py, macros, etc.) are allowed to run on a system."},{id:"1",code:"",controlName:"Inventory and Control of software Assets",subCategoryName:"Physically or Logically Segregate High Risk Applications",subCategoryDesc:"Physically or logically segregated systems should be used to isolate and run software that is required for business operations but incurs higher risk for the organization."},{id:"1",code:"C9823",controlName:"Continuous Vulnerability Management",subCategoryName:"Run Automated Vulnerability Scanning Tools",subCategoryDesc:"Utilize an up-to-date Security Content Automation Protocol (SCAP) compliant vulnerability scanning tool to automatically scan all systems on the network on a weekly or more frequent basis to identify all potential vulnerabilities on the organization's systems."},{id:"1",code:"C9823",controlName:"Continuous Vulnerability Management",subCategoryName:"Perform Authenticated Vulnerability Scanning",subCategoryDesc:"Perform authenticated vulnerability scanning with agents running locally on each system or with remote scanners that are configured with elevated rights on the system being tested."},{id:"1",code:"C9823",controlName:"Continuous Vulnerability Management",subCategoryName:"Protect Dedicated Assessment Accounts",subCategoryDesc:"Use a dedicated account for authenticated vulnerability scans, which should not be used for any other administrative activities and should be tied to specific machines at specific IP addresses."},{id:"1",code:"C9823",controlName:"Continuous Vulnerability Management",subCategoryName:"Deploy Automated Operating System Patch Management Tools",subCategoryDesc:"Deploy automated software update tools in order to ensure that the operating systems are running the most recent security updates provided by the software vendor."},{id:"1",code:"C9823",controlName:"Continuous Vulnerability Management",subCategoryName:"Deploy Automated Software Patch Management Tools",subCategoryDesc:"Deploy automated software update tools in order to ensure that third-party software on all systems is running the most recent security updates provided by the software vendor."},{id:"1",code:"C9823",controlName:"Continuous Vulnerability Management",subCategoryName:"Compare Back-to-Back Vulnerability Scans",subCategoryDesc:"Regularly compare the results from consecutive vulnerability scans to verify that vulnerabilities have been remediated in a timely manner."},{id:"1",code:"C9823",controlName:"Continuous Vulnerability Management",subCategoryName:"Utilize a Risk-Rating Process",subCategoryDesc:"Utilize a risk-rating process to prioritize the remediation of discovered vulnerabilities."},{id:"12",code:"C9238",controlName:"Controlled Use of Administrative Privileges",subCategoryName:"Maintain Inventory of Administrative Accounts",subCategoryDesc:"Use automated tools to inventory all administrative accounts, including domain and local accounts, to ensure that only authorized individuals have elevated privileges."},{id:"12",code:"C9238",controlName:"Controlled Use of Administrative Privileges",subCategoryName:"Change Default Passwords",subCategoryDesc:"Before deploying any new asset, change all default passwords to have values consistent with administrative level accounts."},{id:"12",code:"C9238",controlName:"Controlled Use of Administrative Privileges",subCategoryName:"Ensure the use of  Dedicated Administrative Accounts",subCategoryDesc:"nsure that all users with administrative account access use a dedicated or secondary account for elevated activities. This account should only be used for administrative activities and not internet browsing, email, or similar activities."},{id:"12",code:"C9238",controlName:"Controlled Use of Administrative Privileges",subCategoryName:"Use Unique Passwords",subCategoryDesc:"Where multi-factor authentication is not supported (such as local administrator, root, or service accounts), accounts will use passwords that are unique to that system."},{id:"12",code:"C9238",controlName:"Controlled Use of Administrative Privileges",subCategoryName:"Use Multi-Factor Authentication for All Administrative Access",subCategoryDesc:"Use multi-factor authentication and encrypted channels for all administrative account access."},{id:"12",code:"C9238",controlName:"Controlled Use of Administrative Privileges",subCategoryName:"Use Dedicated Workstations For All Administrative Tasks",subCategoryDesc:"Ensure administrators use a dedicated machine for all administrative tasks or tasks requiring administrative access. This machine will be segmented from the organization's primary network and not be allowed Internet access. This machine will not be used for reading e-mail, composing documents, or browsing the Internet."},{id:"12",code:"C9238",controlName:"Controlled Use of Administrative Privileges",subCategoryName:"Limit Access to Script Tools",subCategoryDesc:"Limit access to scripting tools (such as Microsoft\xae PowerShell and Python) to only administrative or development users with the need to access those capabilities."},{id:"12",code:"C9238",controlName:"Controlled Use of Administrative Privileges",subCategoryName:"Log and Alert on Changes to Administrative Group Membership",subCategoryDesc:"Configure systems to issue a log entry and alert when an account is added to or removed from any group assigned administrative privileges."},{id:"12",code:"C9238",controlName:"Controlled Use of Administrative Privileges",subCategoryName:"Log and Alert on Unsuccessful Administrative Account Login",subCategoryDesc:"Configure systems to issue a log entry and alert on unsuccessful logins to an administrative account."},{id:"1",code:"C2387",controlName:"Secure Configuration for Hardware and Software on Mobile Devices, Laptops, Workstations and Servers",subCategoryName:"Establish Secure Configurations",subCategoryDesc:"Maintain documented security configuration standards for all authorized operating systems and software."},{id:"1",code:"C2387",controlName:"Secure Configuration for Hardware and Software on Mobile Devices, Laptops, Workstations and Servers",subCategoryName:"Maintain Secure Images",subCategoryDesc:"Maintain secure images or templates for all systems in the enterprise based on the organization's approved configuration standards. Any new system deployment or existing system that becomes compromised should be imaged using one of those images or templates."},{id:"1",code:"C2387",controlName:"Secure Configuration for Hardware and Software on Mobile Devices, Laptops, Workstations and Servers",subCategoryName:"Securely Store Master Images",subCategoryDesc:"Store the master images and templates on securely configured servers, validated with integrity monitoring tools, to ensure that only authorized changes to the images are possible."},{id:"1",code:"C2387",controlName:"Secure Configuration for Hardware and Software on Mobile Devices, Laptops, Workstations and Servers",subCategoryName:"Deploy System Configuration Management Tools",subCategoryDesc:"Deploy system configuration management tools that will automatically enforce and redeploy configuration settings to systems at regularly scheduled intervals."},{id:"1",code:"C2387",controlName:"Secure Configuration for Hardware and Software on Mobile Devices, Laptops, Workstations and Servers",subCategoryName:"Implement Automated Configuration Monitoring Systems",subCategoryDesc:"Utilize a Security Content Automation Protocol (SCAP) compliant configuration monitoring system to verify all security configuration elements, catalog approved exceptions, and alert when unauthorized changes occur."}],T=[{id:"DAB/16/10/21/4651",incidentDate:"2021-02-02T21:00:00.000Z",howIncidentHappened:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",delayInReporting:!0,reasonForDelay:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",measuresInPlace:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",status:"SUBMITTED",policies:[{id:1,policy:"",explanation:"",implementationDate:"2021-02-02T21:00:00.000Z"}],personalDataAffected:[{dataCategory:{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},dataSubCategory:[],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0},{dataCategory:{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},dataSubCategory:[],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0}],containmentAndRecovery:{actionTaken:!0,detailsOfActionTaken:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",hasDataBeenRecovered:!0,detailsOfRecovery:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",dateOfRecovery:"2021-02-02T21:00:00.000Z",preventionSteps:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"},miscellaneous:{medialCoverageOfIncident:!0,regulatoryBodiesNotified:!0},registrationDate:"2021-02-02T21:00:00.000Z",impactOfBreach:[{id:"1",rating:"1",impact:"Affected Data subject will be required to submit information afresh or fill forms again"},{id:"2",rating:"1",impact:"Affected Data subject may receive unsolicited email as a result of the breach"}],potentialConsequences:[{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"A paper file or equipment is lost or stolen."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Paper or equipment left accessible in an unsecured location.  "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Mail lost or opened before being returned to sender.    "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Hacking, malware (e.g. ransomware) and/ or phishing.    "}],controls:[],causes:[{cause:"Malicious internal act",code:"CA9238",id:"5"},{cause:"Accidental internal act",code:"C2333",id:"2"}],reportedBy:"enockm15",companyReporting:"MTN Uganda",assignedTo:"angella",lastModifiedDate:"2021-02-02T21:00:00.000Z"}],D={id:"DAB/16/10/21/4651",incidentDate:"2021-02-02T21:00:00.000Z",howIncidentHappened:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",delayInReporting:!0,reasonForDelay:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",measuresInPlace:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",status:"SUBMITTED",policies:[{id:1,policy:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",explanation:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",implementationDate:"2021-02-02T21:00:00.000Z"}],personalDataAffected:[{dataCategory:{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},dataSubCategory:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"5",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0},{dataCategory:{id:"3",name:"Individual Commercial Information",subCategories:[{id:"1",value:"Records of personal propert"},{id:"2",value:"Purchasing habits."}]},dataSubCategory:[{id:"1",value:"Records of personal propert"},{id:"2",value:"Purchasing habits."}],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"5",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0}],containmentAndRecovery:{actionTaken:!0,detailsOfActionTaken:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",hasDataBeenRecovered:!0,detailsOfRecovery:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",dateOfRecovery:"2021-02-02T21:00:00.000Z",preventionSteps:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"},miscellaneous:{medialCoverageOfIncident:!0,regulatoryBodiesNotified:!0},registrationDate:"2021-02-02T21:00:00.000Z",impactOfBreach:[{id:"1",rating:"1",impact:"Affected Data subject will be required to submit information afresh or fill forms again"},{id:"2",rating:"1",impact:"Affected Data subject may receive unsolicited email as a result of the breach"}],potentialConsequences:[{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"A paper file or equipment is lost or stolen."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Paper or equipment left accessible in an unsecured location.  "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Mail lost or opened before being returned to sender.    "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Hacking, malware (e.g. ransomware) and/ or phishing.    "}],controls:[],causes:[{cause:"Malicious internal act",code:"CA9238",id:"5"},{cause:"Accidental internal act",code:"C2333",id:"2"}],reportedBy:"enockm15",companyReporting:"MTN Uganda",assignedTo:"angella",lastModifiedDate:"2021-02-02T21:00:00.000Z"};var x=a("Ku73"),U=a("nStZ"),P=a("pLZG"),I=a("fXoL"),S=a("0IaG"),k=a("xBcV"),A=a("Hbgg"),F=a("rnAf"),R=a("rvYj"),q=a("a+RD"),M=a("bSwM"),Q=a("bTqV"),E=a("STbY"),L=a("NFeN");function B(t,e){1&t&&(I.Ub(0,"th",13),I.Ub(1,"mat-checkbox",14),I.cc("click",function(t){return t.stopPropagation()}),I.Tb(),I.Tb())}function N(t,e){1&t&&(I.Ub(0,"td",15),I.Ub(1,"mat-checkbox",14),I.cc("click",function(t){return t.stopPropagation()}),I.Tb(),I.Tb())}function z(t,e){if(1&t&&(I.Ub(0,"th",20),I.Qc(1),I.Tb()),2&t){const t=I.gc(2).$implicit;I.Cb(1),I.Sc(" ",t.name,"")}}function _(t,e){if(1&t&&(I.Ub(0,"td",21),I.Qc(1),I.Tb()),2&t){const t=e.$implicit,a=I.gc(2).$implicit;I.Cb(1),I.Sc(" ",t[a.property]," ")}}function V(t,e){if(1&t&&(I.Sb(0,17),I.Oc(1,z,2,1,"th",18),I.Oc(2,_,2,1,"td",19),I.Rb()),2&t){const t=I.gc().$implicit;I.nc("matColumnDef",t.property)}}function G(t,e){if(1&t&&(I.Sb(0),I.Oc(1,V,3,1,"ng-container",16),I.Rb()),2&t){const t=e.$implicit;I.Cb(1),I.nc("ngIf",t.isModelProperty)}}function $(t,e){1&t&&I.Pb(0,"th",22)}const H=function(){return["/reporting-and-notification/view/"]};function j(t,e){if(1&t&&(I.Ub(0,"td",15),I.Ub(1,"button",23),I.cc("click",function(t){return t.stopPropagation()}),I.Ub(2,"mat-icon"),I.Qc(3,"more_vert"),I.Tb(),I.Tb(),I.Ub(4,"mat-menu",24,25),I.Ub(6,"a",26),I.Ub(7,"mat-icon"),I.Qc(8,"visibility"),I.Tb(),I.Ub(9,"span"),I.Qc(10,"View"),I.Tb(),I.Tb(),I.Ub(11,"button",27),I.Ub(12,"mat-icon"),I.Qc(13,"settings"),I.Tb(),I.Ub(14,"span"),I.Qc(15,"Manage"),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&t){const t=I.Ac(5);I.Cb(1),I.nc("matMenuTriggerFor",t),I.Cb(5),I.nc("routerLink",I.qc(2,H))}}function W(t,e){1&t&&I.Pb(0,"tr",28)}function J(t,e){1&t&&I.Pb(0,"tr",29)}const Z=function(){return["Breaches"]};let K=(()=>{class t{constructor(t,e){this.dialog=t,this.route=e,this.subject$=new r.a(1),this.data$=this.subject$.asObservable(),this.statusList=[],this.columns=[{name:"Tracking No / Reference",property:"id",visible:!0,isModelProperty:!0},{name:"Data Collector/Controller/Processor",property:"companyReporting",visible:!0,isModelProperty:!0},{name:"Incident Date",property:"incidentDate",visible:!0,isModelProperty:!0},{name:"Status",property:"status",visible:!0,isModelProperty:!0},{name:"Reported By",property:"reportedBy",visible:!0,isModelProperty:!0},{name:"Assigned To",property:"assignedTo",visible:!0,isModelProperty:!0},{name:"Last Modified At",property:"lastModifiedDate",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}ngOnInit(){this.getData().subscribe(t=>{this.subject$.next(t)}),this.dataSource=new c.o,this.data$.pipe(Object(P.a)(t=>!!t)).subscribe(t=>{this.breaches=t,this.dataSource.data=t}),this.defineSearchFields()}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}getData(){return Object(l.a)(T.map(t=>t))}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}onFilterChange(t){this.dataSource&&(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}ngOnDestroy(){}defineSearchFields(){this.searchFields=[{label:"Breach Reference #",fieldName:"breachReference",operators:d.e,dataType:d.a.TEXT},{label:"Delay In Reporting",fieldName:"delayInReporting",operators:d.d,dataType:d.a.BOOLEAN,lookupOptions:this.statusList,multiple:!0},{label:"Status",fieldName:"status",operators:d.d,dataType:d.a.TEXT,lookupOptions:this.statusList,multiple:!0},{label:"Registration date",fieldName:" v",operators:d.c,dataType:d.a.DATETIME}]}}return t.\u0275fac=function(e){return new(e||t)(I.Ob(S.b),I.Ob(i.a))},t.\u0275cmp=I.Ib({type:t,selectors:[["fury-find-reported-breaches"]],viewQuery:function(t,e){if(1&t&&(I.Jc(o.a,!0),I.Jc(s.a,!0)),2&t){let t;I.zc(t=I.dc())&&(e.paginator=t.first),I.zc(t=I.dc())&&(e.sort=t.first)}},inputs:{columns:"columns"},decls:16,vars:11,consts:[["mode","card"],["current","Find",3,"crumbs"],["name","Breaches","finderDialogTitle","Breaches Finder",3,"columns","searchFields","filterChange"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","","routerLinkActive","router-link-active",3,"routerLink"],["mat-menu-item",""],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(t,e){1&t&&(I.Ub(0,"fury-page-layout",0),I.Ub(1,"fury-page-layout-header"),I.Pb(2,"fury-breadcrumbs",1),I.Tb(),I.Ub(3,"fury-page-layout-content"),I.Ub(4,"fury-list",2),I.cc("filterChange",function(t){return e.onFilterChange(t)}),I.Ub(5,"table",3),I.Sb(6,4),I.Oc(7,B,2,0,"th",5),I.Oc(8,N,2,0,"td",6),I.Rb(),I.Oc(9,G,2,1,"ng-container",7),I.Sb(10,8),I.Oc(11,$,1,0,"th",9),I.Oc(12,j,16,3,"td",6),I.Rb(),I.Oc(13,W,1,0,"tr",10),I.Oc(14,J,1,0,"tr",11),I.Tb(),I.Pb(15,"mat-paginator",12),I.Tb(),I.Tb(),I.Tb()),2&t&&(I.Cb(2),I.nc("@fadeInRight",void 0)("crumbs",I.qc(10,Z)),I.Cb(1),I.nc("@fadeInUp",void 0),I.Cb(1),I.nc("columns",e.columns)("searchFields",e.searchFields),I.Cb(1),I.nc("dataSource",e.dataSource),I.Cb(4),I.nc("ngForOf",e.columns),I.Cb(4),I.nc("matHeaderRowDef",e.visibleColumns),I.Cb(1),I.nc("matRowDefColumns",e.visibleColumns),I.Cb(1),I.nc("pageSize",e.pageSize))},directives:[k.a,A.a,F.a,R.a,q.a,c.n,s.a,c.c,c.i,c.b,n.n,c.k,c.m,o.a,c.h,M.a,c.a,n.o,s.b,Q.a,E.e,L.a,E.a,i.i,E.c,i.h,c.j,c.l],styles:[""],data:{animation:[x.a,U.a]}}),t})();var X=a("sF9m"),Y=a("3Pt+"),tt=a("M2Gj"),et=a("KGtp"),at=a("3eU1"),nt=a("j7tn"),it=a("aTx8"),ot=a("dNgK"),st=a("xHqg"),ct=a("XiUz"),rt=a("kmnG"),lt=a("qFsG"),dt=a("iadO"),ut=a("ihCf"),bt=a("d3UM"),mt=a("9Ku7"),pt=a("Qu3c"),ht=a("znSr");function ft(t,e){if(1&t){const t=I.Vb();I.Ub(0,"div",31),I.Ub(1,"button",32),I.cc("click",function(){I.Ec(t);const e=I.gc(2);return e.addOrUpdatePolicy(e.isEditingPolicy?2:1)}),I.Ub(2,"mat-icon"),I.Qc(3),I.Tb(),I.Ub(4,"span"),I.Qc(5),I.Tb(),I.Tb(),I.Qc(6,"\xa0 "),I.Pb(7,"span",33),I.Ub(8,"button",34),I.cc("click",function(){return I.Ec(t),I.gc(2).resetPolicy()}),I.Ub(9,"mat-icon"),I.Qc(10,"cancel"),I.Tb(),I.Ub(11,"span"),I.Qc(12,"Cancel"),I.Tb(),I.Tb(),I.Tb()}if(2&t){const t=I.gc(2);I.Cb(1),I.nc("disabled",!t.isValidForm()),I.Cb(2),I.Rc(t.buttonIcon),I.Cb(2),I.Rc(t.buttonLabel)}}function gt(t,e){if(1&t){const t=I.Vb();I.Sb(0),I.Ub(1,"form",19),I.Ub(2,"div",20),I.Ub(3,"mat-form-field",21),I.Ub(4,"mat-label"),I.Qc(5,"Policy or Procedure"),I.Tb(),I.Pb(6,"input",22),I.Ub(7,"mat-hint"),I.Qc(8,"Policy considered relevant to this incident"),I.Tb(),I.Tb(),I.Ub(9,"mat-form-field",23),I.Ub(10,"mat-label"),I.Qc(11,"Explanation"),I.Tb(),I.Pb(12,"textarea",24,25),I.Ub(14,"mat-hint"),I.Qc(15,"Explain the mentioned policy or procedure in existence at the time of this incident. "),I.Tb(),I.Tb(),I.Ub(16,"mat-form-field",26),I.Ub(17,"mat-label"),I.Qc(18,"Select date of policy/procedure implementation"),I.Tb(),I.Ub(19,"input",27),I.cc("click",function(){return I.Ec(t),I.Ac(24).open()})("focus",function(){return I.Ec(t),I.Ac(24).open()}),I.Tb(),I.Pb(20,"mat-datepicker-toggle",28),I.Ub(21,"mat-hint"),I.Qc(22,"Date of implementation."),I.Tb(),I.Pb(23,"mat-datepicker",null,29),I.Tb(),I.Tb(),I.Tb(),I.Oc(25,ft,13,3,"div",30),I.Rb()}if(2&t){const t=I.Ac(24),e=I.gc();I.Cb(1),I.nc("formGroup",e.policyForm),I.Cb(18),I.nc("matDatepicker",t),I.Cb(1),I.nc("for",t),I.Cb(5),I.nc("ngIf",!e.isViewOnly)}}function Ct(t,e){1&t&&(I.Ub(0,"th",35),I.Qc(1,"# "),I.Tb())}function yt(t,e){if(1&t&&(I.Ub(0,"td",36),I.Qc(1),I.Tb()),2&t){const t=e.index;I.Cb(1),I.Sc(" ",t+1," ")}}function vt(t,e){1&t&&(I.Ub(0,"th",37),I.Qc(1," Policy"),I.Tb())}function wt(t,e){if(1&t&&(I.Ub(0,"td",38),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.policy,"")}}function Ot(t,e){1&t&&(I.Ub(0,"th",37),I.Qc(1," Implementation Date "),I.Tb())}function Tt(t,e){if(1&t&&(I.Ub(0,"td",38),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.implementationDate,"")}}function Dt(t,e){1&t&&(I.Ub(0,"th",37),I.Qc(1," Explanation"),I.Tb())}function xt(t,e){if(1&t&&(I.Ub(0,"td",38),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.explanation,"")}}function Ut(t,e){1&t&&I.Pb(0,"th",39)}function Pt(t,e){if(1&t){const t=I.Vb();I.Sb(0),I.Ub(1,"a",41),I.cc("click",function(){I.Ec(t);const e=I.gc().index;return I.gc().managePolicy(2,e)}),I.Ub(2,"mat-icon",42),I.Qc(3,"edit "),I.Tb(),I.Tb(),I.Qc(4,"\xa0\xa0 "),I.Ub(5,"a",41),I.cc("click",function(){I.Ec(t);const e=I.gc().index;return I.gc().deleteItem(e)}),I.Ub(6,"mat-icon",43),I.Qc(7,"delete "),I.Tb(),I.Tb(),I.Rb()}}function It(t,e){if(1&t&&(I.Ub(0,"td",40),I.Oc(1,Pt,8,0,"ng-container",0),I.Tb()),2&t){const t=I.gc();I.Cb(1),I.nc("ngIf",!t.isViewOnly)}}function St(t,e){1&t&&(I.Ub(0,"td",44),I.Qc(1," There is no data! "),I.Tb())}function kt(t,e){1&t&&I.Pb(0,"tr",45)}function At(t,e){1&t&&I.Pb(0,"tr",46)}const Ft=function(t){return{hide:t}};function Rt(t,e){if(1&t&&I.Pb(0,"tr",47),2&t){const t=I.gc();I.nc("ngClass",I.rc(1,Ft,!(0==(null==t.list?null:t.list.length))))}}const qt=function(){return["noData"]};let Mt=(()=>{class t{constructor(t,e,a){this._formBuilder=t,this.auth=e,this.snackBar=a,this.policyEvent=new I.o,this.policy=new b,this.subscriptions=[],this.errors=[],this.list=[],this.$processingEvent=new I.o,this.$errorsEvent=new I.o,this.displayedColumns=["nber","policy","explanation","dataOfImplementation","actions"],this.isEditingPolicy=!1,this.tableEditable=!0,this.buttonIcon="add_circle_outline",this.buttonLabel="Add",this.policyIndex=0,this.policyNumber=1,this.policyId=0}ngOnInit(){this.initForms(),this.policies&&this.policies.forEach(t=>{this.list.push(t)}),this.initMainObject()}initMainObject(){this.policy=new b}initForms(){this.policyForm=this._formBuilder.group({policy:[null,Y.u.required],implementationDate:[null,Y.u.required],explanation:[null,Y.u.required]})}addOrUpdatePolicy(t){console.log("isEditing ->"+this.isEditingPolicy),this.policyForm.valid&&(this.mapFromControlToControl(1),1===t?(console.log("add"),this.list.push(this.policy),this.policies.push(this.policy),this.list=[...this.list]):(console.log("update"),this.list[this.policyIndex]=this.policy,this.policies[this.policyIndex]=this.policy,this.list=[...this.policies]),this.resetPolicy())}resetPolicy(){this.policyForm.reset(),this.policy=new b,this.validatePolicyLabels(1),this.managePolicy(1)}managePolicy(t,e){2===t?(this.policy=this.policies[e],this.isEditingPolicy=!0,this.policyIndex=e,this.mapFromControlToControl(t)):(this.isEditingPolicy=!1,this.policy=new b,this.policyIndex=0),this.validatePolicyLabels(t)}validatePolicyLabels(t){1===t?(this.buttonIcon="add_circle_outline",this.buttonLabel="Add new policy"):(this.buttonIcon="save",this.buttonLabel="Save")}updateItemId(){this.policyNumber=this.policies?this.policies.length+1:1,this.policies.forEach((t,e)=>{t.id=e+1})}checkForDuplicates(t){const e=this.policyForm.get("policy").value;return 1===t?!!this.policies.find(t=>e.indexOf(t.policy)>=0):null}editItem(t){this.policyIndex=t,this.policy=this.policies[this.policyIndex],this.isEditingPolicy=!0,this.mapFromControlToControl(t),this.validatePolicyLabels(2)}deleteItem(t){this.list.splice(t,1),this.policies.splice(t,1),this.list=[...this.list],this.policyEvent.emit(this.policies),this.isEditingPolicy=!1}mapFromControlToControl(t){1===t?(this.policy.policy=this.policyForm.get("policy").value,this.policy.explanation=this.policyForm.get("explanation").value,this.policy.implementationDate=this.policyForm.get("implementationDate").value):(this.policyForm.get("policy").setValue(this.policy.policy),this.policyForm.get("explanation").setValue(this.policy.explanation),this.policyForm.get("implementationDate").setValue(this.policy.implementationDate))}isValidForm(){return this.policyForm.valid}}return t.\u0275fac=function(e){return new(e||t)(I.Ob(Y.d),I.Ob(mt.a),I.Ob(ot.b))},t.\u0275cmp=I.Ib({type:t,selectors:[["fury-data-breach-policy-item"]],inputs:{policies:"policies",isViewOnly:"isViewOnly"},outputs:{policyEvent:"policyEvent"},decls:27,vars:7,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["mat-table","",3,"dataSource"],["matColumnDef","nber"],["mat-header-cell","","style","width: 5%","class","tableFontSize firstColumnTable alignCenter",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize firstColumnTable alignCenter",4,"matCellDef"],["matColumnDef","policy"],["mat-header-cell","","class","tableFontSize ","style","width: 20%",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize ",4,"matCellDef"],["matColumnDef","dataOfImplementation"],["matColumnDef","explanation"],["matColumnDef","actions"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-cell","","class","actions",4,"matCellDef"],["matColumnDef","noData"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],[3,"formGroup"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","auto"],["formControlName","policy","matInput",""],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","explanation","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["fxFlex",""],["formControlName","implementationDate","matInput","","readonly","",3,"matDatepicker","click","focus"],["matSuffix","",3,"for"],["formDatepickerRef2",""],["style","text-align: right; padding-top: 5px; padding-bottom: 5px;",4,"ngIf"],[2,"text-align","right","padding-top","5px","padding-bottom","5px"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"example-spacer"],["mat-raised-button","","color","warn",3,"click"],["mat-header-cell","",1,"tableFontSize","firstColumnTable","alignCenter",2,"width","5%"],["mat-cell","",1,"tableFontSize","firstColumnTable","alignCenter"],["mat-header-cell","",1,"tableFontSize",2,"width","20%"],["mat-cell","",1,"tableFontSize"],["mat-header-cell","",2,"width","5%"],["mat-cell","",1,"actions"],[1,"link",3,"click"],["color","primary","matTooltip","Edit item",1,"material-icons-outlined"],["color","warn","matTooltip","Delete item",1,"material-icons-outlined"],["mat-footer-cell","","colspan","7"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",3,"ngClass"]],template:function(t,e){1&t&&(I.Sb(0),I.Ub(1,"fieldset"),I.Ub(2,"legend"),I.Qc(3,"Policies in place related to the incidence"),I.Tb(),I.Oc(4,gt,26,4,"ng-container",0),I.Ub(5,"div",1),I.Ub(6,"table",2),I.Sb(7,3),I.Oc(8,Ct,2,0,"th",4),I.Oc(9,yt,2,1,"td",5),I.Rb(),I.Sb(10,6),I.Oc(11,vt,2,0,"th",7),I.Oc(12,wt,2,1,"td",8),I.Rb(),I.Sb(13,9),I.Oc(14,Ot,2,0,"th",7),I.Oc(15,Tt,2,1,"td",8),I.Rb(),I.Sb(16,10),I.Oc(17,Dt,2,0,"th",7),I.Oc(18,xt,2,1,"td",8),I.Rb(),I.Sb(19,11),I.Oc(20,Ut,1,0,"th",12),I.Oc(21,It,2,1,"td",13),I.Rb(),I.Sb(22,14),I.Oc(23,St,2,0,"td",15),I.Rb(),I.Oc(24,kt,1,0,"tr",16),I.Oc(25,At,1,0,"tr",17),I.Oc(26,Rt,1,3,"tr",18),I.Tb(),I.Tb(),I.Tb(),I.Rb()),2&t&&(I.Cb(4),I.nc("ngIf",!e.isViewOnly),I.Cb(2),I.nc("dataSource",e.list),I.Cb(18),I.nc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),I.Cb(1),I.nc("matRowDefColumns",e.displayedColumns),I.Cb(1),I.nc("matFooterRowDef",I.qc(6,qt)))},directives:[n.o,ct.e,ct.f,c.n,c.c,c.i,c.b,c.e,c.k,c.m,c.g,Y.v,Y.o,Y.h,rt.d,ct.b,rt.h,Y.c,lt.b,Y.n,Y.g,rt.g,ut.b,dt.b,dt.d,rt.j,dt.a,Q.a,L.a,c.h,c.a,pt.a,c.d,c.j,c.l,c.f,n.m,ht.a],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}legend[_ngcontent-%COMP%]{padding:5px}.hide[_ngcontent-%COMP%]{display:none}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}"]}),t})();const Qt=[{id:"1",name:"Identifiers",subCategories:[{id:"1",value:"Name"},{id:"2",value:"Nationality"},{id:"3",value:"Age"},{id:"4",value:"Marital Status"},{id:"5",value:"Postal address"},{id:"6",value:"E-mail address"},{id:"7",value:"Unique personal or online identifie"},{id:"8",value:"Account name"},{id:"9",value:"Identification number, symbol or  other  particulars  assigned to a person"},{id:"10",value:"Social Security numbe"},{id:"11",value:"Driver's license or passport number; or"},{id:"12",value:"Another  form  of  persistent  or probabilistic identifier that can  identify  a  particular  data subject."}]},{id:"2",name:"Individual Commercial Information",subCategories:[{id:"1",value:"Records of personal propert"},{id:"2",value:"Purchasing habits."}]},{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},{id:"4",name:"Sensory Data",subCategories:[{id:"1",value:"Audio"},{id:"2",value:"Visual."},{id:"3",value:"Olfactory."},{id:"4",value:"Biological characteristics."}]},{id:"5",name:"Internet or similar network activity",subCategories:[{id:"1",value:"Browsing history"},{id:"2",value:"Search history"},{id:"3",value:"Olfactory."},{id:"4",value:"Interaction with a website, application or advertisement"}]},{id:"6",name:"Geolocation data",subCategories:[{id:"1",value:"Geolocation  data  means  data  taken from a user's device or online activity (web  or  app)  which  indicates  the geographical location of that device, including GPS data."}]},{id:"7",name:"Education information",subCategories:[{id:"1",value:"Educational level"},{id:"2",value:"Educational qualifications"}]},{id:"8",name:"Professional or Employment related information",subCategories:[{id:"1",value:"Professional association membership detail"},{id:"2",value:"Performance evaluations"},{id:"3",value:"Disciplinary action"}]},{id:"9",name:"Inferences drawn from other personal data to create Individual profiles",subCategories:[{id:"1",value:"Preferences"},{id:"2",value:"Characteristics"},{id:"3",value:"Psychological trends"},{id:"3",value:"Predispositions"},{id:"3",value:"Behaviour"},{id:"3",value:"Attitudes"},{id:"3",value:"Intelligence"},{id:"3",value:"Abilities"},{id:"3",value:"Aptitudes"}]},{id:"10",name:"Special personal data",subCategories:[{id:"1",value:"Religious or philosophical beliefs"},{id:"2",value:"Political opinion"},{id:"3",value:"Sexual life"},{id:"3",value:"Predispositions"},{id:"3",value:"Financial information"},{id:"3",value:"Health status or medical records of an individual"}]}];var Et=a("zqeb"),Lt=a("aViL"),Bt=a("FKr1");function Nt(t,e){1&t&&I.Qc(0,"Personal Data")}function zt(t,e){if(1&t&&(I.Ub(0,"mat-option",44),I.Qc(1),I.Tb()),2&t){const t=e.$implicit,a=I.gc(2);I.nc("disabled",a.disableSubCategories())("value",t),I.Cb(1),I.Sc("",t.name," ")}}function _t(t,e){if(1&t&&(I.Ub(0,"mat-option",45),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.nc("value",t),I.Cb(1),I.Sc("",t.value," ")}}function Vt(t,e){if(1&t){const t=I.Vb();I.Ub(0,"div",46),I.Ub(1,"button",47),I.cc("click",function(){I.Ec(t);const e=I.gc(2);return e.addOrUpdatePersonalData(e.isEditingPersonalData?2:1)}),I.Ub(2,"mat-icon"),I.Qc(3),I.Tb(),I.Ub(4,"span"),I.Qc(5),I.Tb(),I.Tb(),I.Qc(6,"\xa0 "),I.Pb(7,"span",48),I.Ub(8,"button",49),I.cc("click",function(){return I.Ec(t),I.gc(2).resetPolicy()}),I.Ub(9,"mat-icon"),I.Qc(10,"cancel"),I.Tb(),I.Ub(11,"span"),I.Qc(12,"Cancel"),I.Tb(),I.Tb(),I.Tb()}if(2&t){const t=I.gc(2);I.Cb(1),I.nc("disabled",!t.isValidForm()),I.Cb(2),I.Rc(t.buttonIcon),I.Cb(2),I.Rc(t.buttonLabel)}}function Gt(t,e){if(1&t){const t=I.Vb();I.Sb(0),I.Ub(1,"form",26),I.Oc(2,Nt,1,0,"ng-template",27),I.Ub(3,"div",1),I.Ub(4,"div",28),I.Ub(5,"mat-form-field",29),I.Ub(6,"mat-label"),I.Qc(7,"Affected Data Category"),I.Tb(),I.Ub(8,"mat-select",30),I.cc("selectionChange",function(e){return I.Ec(t),I.gc().onSelectCategory(e)}),I.Oc(9,zt,2,3,"mat-option",31),I.Tb(),I.Ub(10,"mat-hint"),I.Qc(11,"Please specify if any financial or sensitive personal data (special categories*) has been affected "),I.Tb(),I.Tb(),I.Ub(12,"mat-form-field",29),I.Ub(13,"mat-label"),I.Qc(14,"SubCategories"),I.Tb(),I.Ub(15,"mat-select",32),I.Oc(16,_t,2,2,"mat-option",33),I.Tb(),I.Ub(17,"mat-hint"),I.Qc(18,"Please specify if any financial or sensitive personal data has been affected "),I.Tb(),I.Tb(),I.Tb(),I.Ub(19,"div",34),I.Ub(20,"mat-form-field",29),I.Ub(21,"mat-label"),I.Qc(22,"Details To What Extent"),I.Tb(),I.Pb(23,"textarea",35,36),I.Ub(25,"mat-hint"),I.Qc(26,"Provide details of the extent has the data been affected "),I.Tb(),I.Tb(),I.Ub(27,"mat-form-field",37),I.Ub(28,"mat-label"),I.Qc(29,"Affected Individuals"),I.Tb(),I.Pb(30,"input",38),I.Ub(31,"mat-hint",39),I.Qc(32,"How many Individuals have been affected ?"),I.Tb(),I.Tb(),I.Ub(33,"mat-form-field",37),I.Ub(34,"mat-label"),I.Qc(35,"Records Involved"),I.Tb(),I.Pb(36,"input",40),I.Ub(37,"mat-hint",39),I.Qc(38,"How many data records are involved?"),I.Tb(),I.Tb(),I.Tb(),I.Ub(39,"div",1),I.Ub(40,"mat-checkbox",41),I.Qc(41," Are the affected individuals aware that the incident has occurred? "),I.Tb(),I.Ub(42,"mat-checkbox",42),I.Qc(43," Have any affected individuals complained to the Company about the incident? "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(44,Vt,13,3,"div",43),I.Rb()}if(2&t){const t=I.gc();I.Cb(1),I.nc("formGroup",t.personalDataFormGroup),I.Cb(8),I.nc("ngForOf",t.$dataCategories),I.Cb(7),I.nc("ngForOf",t.$subCategories),I.Cb(24),I.nc("checked",!1),I.Cb(2),I.nc("checked",!1),I.Cb(2),I.nc("ngIf",!t.isViewOnly)}}function $t(t,e){1&t&&(I.Ub(0,"th",50),I.Qc(1,"# "),I.Tb())}function Ht(t,e){if(1&t&&(I.Ub(0,"td",51),I.Qc(1),I.Tb()),2&t){const t=e.index;I.Cb(1),I.Sc(" ",t+1," ")}}function jt(t,e){1&t&&(I.Ub(0,"th",52),I.Qc(1," Data Category"),I.Tb())}function Wt(t,e){if(1&t&&(I.Ub(0,"td",53),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.dataCategory.name,"")}}function Jt(t,e){1&t&&(I.Ub(0,"th",52),I.Qc(1," Data SucCategories "),I.Tb())}function Zt(t,e){if(1&t&&(I.Ub(0,"div"),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.value,", ")}}function Kt(t,e){if(1&t&&(I.Ub(0,"td",53),I.Oc(1,Zt,2,1,"div",54),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.nc("ngForOf",t.dataSubCategory)}}function Xt(t,e){1&t&&(I.Ub(0,"th",52),I.Qc(1," Affected Individuals "),I.Tb())}function Yt(t,e){if(1&t&&(I.Ub(0,"td",53),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.affectedIndividuals,"")}}function te(t,e){1&t&&(I.Ub(0,"th",52),I.Qc(1," Affected Records "),I.Tb())}function ee(t,e){if(1&t&&(I.Ub(0,"td",53),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.recordsInvolved,"")}}function ae(t,e){1&t&&(I.Ub(0,"th",52),I.Qc(1,"Extent Of the Breach "),I.Tb())}function ne(t,e){if(1&t&&(I.Ub(0,"td",53),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.toWhatExtent,"")}}function ie(t,e){1&t&&(I.Ub(0,"th",52),I.Qc(1," Any Complaints? "),I.Tb())}function oe(t,e){if(1&t&&(I.Ub(0,"td",53),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.individualAwareness,"")}}function se(t,e){1&t&&(I.Ub(0,"th",52),I.Qc(1,"Individual Awareness ? "),I.Tb())}function ce(t,e){if(1&t&&(I.Ub(0,"td",53),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.individualComplain,"")}}function re(t,e){1&t&&I.Pb(0,"th",55)}function le(t,e){if(1&t){const t=I.Vb();I.Sb(0),I.Ub(1,"a",57),I.cc("click",function(){I.Ec(t);const e=I.gc().index;return I.gc().managePersonalData(2,e)}),I.Ub(2,"mat-icon",58),I.Qc(3,"edit "),I.Tb(),I.Tb(),I.Qc(4,"\xa0\xa0 "),I.Ub(5,"a",57),I.cc("click",function(){I.Ec(t);const e=I.gc().index;return I.gc().deleteItem(e)}),I.Ub(6,"mat-icon",59),I.Qc(7,"delete "),I.Tb(),I.Tb(),I.Rb()}}function de(t,e){if(1&t&&(I.Ub(0,"td",56),I.Oc(1,le,8,0,"ng-container",0),I.Tb()),2&t){const t=I.gc();I.Cb(1),I.nc("ngIf",!t.isViewOnly)}}function ue(t,e){1&t&&(I.Ub(0,"td",60),I.Qc(1," There is no data! "),I.Tb())}function be(t,e){1&t&&I.Pb(0,"tr",61)}function me(t,e){1&t&&I.Pb(0,"tr",62)}const pe=function(t){return{hide:t}};function he(t,e){if(1&t&&I.Pb(0,"tr",63),2&t){const t=I.gc();I.nc("ngClass",I.rc(1,pe,!(0==(null==t.list?null:t.list.length))))}}const fe=function(){return["noData"]};let ge=(()=>{class t{constructor(t,e,a,n){this.fb=t,this.auth=e,this.utilService=a,this.snackBar=n,this.subject$=new r.a(1),this.data$=this.subject$.asObservable(),this.personalDataEvent=new I.o,this.personalData=new m,this.subscriptions=[],this.errors=[],this.list=[],this.displayColumns=["nber","personalDataCategory","personalDataSubCategory","toWhatExtent","affectedIndividuals","affectedRecords","complaintsMade","individualAwareness","actions"],this.dataCategories=[],this.$dataCategories=[],this.$subCategories=[],this.$processingEvent=new I.o,this.$errorsEvent=new I.o,this.buttonIcon="add_circle_outline",this.buttonLabel="Add",this.isEditingPersonalData=!1,this.tableEditable=!0,this.personalDataIndex=0,this.personalNumber=1}ngOnInit(){this.initForms(),this.personalDataList&&this.personalDataList.forEach(t=>this.list.push(t)),this.getSampleJson.subscribe(t=>{this.$dataCategories=t}),this.initMainObject()}initMainObject(){this.personalData=new m}initForms(){this.personalDataFormGroup=this.fb.group({dataCategory:[null,Y.u.required],dataSubCategory:[null,Y.u.required],toWhatExtent:[null,Y.u.required],affectedIndividuals:[null,Y.u.required],recordsInvolved:[null,Y.u.required],individualAwareness:[null,Y.u.required],individualComplain:[null,Y.u.required]})}addOrUpdatePersonalData(t){this.personalDataFormGroup.valid&&(this.checkForDuplicates(t)?this.snackBar.snackBarAlert("Error","Potential Consquence Already exist in the Table, Please Update",{duration:3e3}):(this.mapFormControlToControl(1),1===t?(this.list.push(this.personalData),this.personalDataList.push(this.personalData),this.list=[...this.list]):(this.list[this.personalDataIndex]=this.personalData,this.personalDataList[this.personalDataIndex]=this.personalData,this.list=[...this.personalDataList]),this.resetPersonalData()),console.log(this.list))}resetPersonalData(){this.personalDataFormGroup.reset(),this.personalData=new m,this.validatePolicyLabels(1),this.managePersonalData(1)}validatePolicyLabels(t){1===t?(this.buttonIcon="add_circle_outline",this.buttonLabel="Add new personal data"):(this.buttonIcon="save",this.buttonLabel="Save")}onSelectCategory(t){this.$subCategories=[],this.$dataCategories.find(e=>e===t.value).subCategories.forEach(t=>this.$subCategories.push(t)),this.personalDataFormGroup.get("dataSubCategory").enable()}disableSubCategories(){0===this.$subCategories.length&&this.personalDataFormGroup.get("dataSubCategory").disable()}managePersonalData(t,e){2===t?(this.personalData=this.personalDataList[e],this.isEditingPersonalData=!0,this.personalDataIndex=e,this.mapFormControlToControl(t)):(this.isEditingPersonalData=!1,this.personalData=new m,this.personalDataIndex=0),this.validatePolicyLabels(t)}checkForDuplicates(t){const e=this.personalDataFormGroup.get("dataCategory").value,a=this.personalDataFormGroup.get("dataSubCategory").value;return console.log(a),1===t?!!this.personalDataList.find(t=>t.dataCategory===e):null}editItem(t){this.personalDataIndex=t,this.personalData=this.personalDataList[this.personalDataIndex],this.isEditingPersonalData=!0,this.mapFormControlToControl(t),this.validatePolicyLabels(2)}deleteItem(t){this.list.splice(t,1),this.personalDataList.splice(t,1),this.list=[...this.list],this.personalDataEvent.emit(this.personalDataList),this.isEditingPersonalData=!1}mapFormControlToControl(t){1===t?(this.personalData.dataCategory=this.personalDataFormGroup.get("dataCategory").value,this.personalData.dataSubCategory=this.personalDataFormGroup.get("dataSubCategory").value,this.personalData.toWhatExtent=this.personalDataFormGroup.get("toWhatExtent").value,this.personalData.affectedIndividuals=this.personalDataFormGroup.get("affectedIndividuals").value,this.personalData.recordsInvolved=this.personalDataFormGroup.get("recordsInvolved").value,this.personalData.individualAwareness=this.personalDataFormGroup.get("individualAwareness").value,this.personalData.individualComplain=this.personalDataFormGroup.get("individualComplain").value):(this.personalDataFormGroup.get("dataCategory").setValue(this.personalData.dataCategory),this.personalDataFormGroup.get("dataSubCategory").setValue(this.personalData.dataSubCategory),this.personalDataFormGroup.get("toWhatExtent").setValue(this.personalData.toWhatExtent),this.personalDataFormGroup.get("affectedIndividuals").setValue(this.personalData.affectedIndividuals),this.personalDataFormGroup.get("recordsInvolved").setValue(this.personalData.recordsInvolved),this.personalDataFormGroup.get("individualAwareness").setValue(this.personalData.individualAwareness),this.personalDataFormGroup.get("individualComplain").setValue(this.personalData.individualComplain))}isValidForm(){return this.personalDataFormGroup.valid}get getSampleJson(){return Object(l.a)(Qt.map(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(I.Ob(Y.d),I.Ob(it.c),I.Ob(Et.a),I.Ob(Lt.a))},t.\u0275cmp=I.Ib({type:t,selectors:[["fury-data-breach-personal-data-itemised"]],inputs:{personalDataList:"personalDataList",isViewOnly:"isViewOnly",personalDataEvent:"personalDataEvent"},decls:46,vars:8,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["mat-table","",3,"dataSource"],["matColumnDef","nber"],["mat-header-cell","","style","width: 5%","class","tableFontSize firstColumnTable alignCenter",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize firstColumnTable alignCenter",4,"matCellDef"],["matColumnDef","personalDataCategory"],["mat-header-cell","","class","tableFontSize ","style","width: 20%",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize ",4,"matCellDef"],["matColumnDef","personalDataSubCategory"],["matColumnDef","affectedIndividuals"],["matColumnDef","affectedRecords"],["matColumnDef","toWhatExtent"],["matColumnDef","complaintsMade"],["matColumnDef","individualAwareness"],["matColumnDef","actions"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-cell","","class","actions",4,"matCellDef"],["matColumnDef","noData"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-button","","matStepperPrevious","","type","button"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled"],[3,"formGroup"],["matStepLabel",""],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["formControlName","dataCategory",3,"selectionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["formControlName","dataSubCategory","multiple",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","column","fxLayout","row","fxLayoutGap","8px"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","toWhatExtent","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["fxFlex","2 1 auto"],["formControlName","affectedIndividuals","matInput",""],["align","end"],["formControlName","recordsInvolved","matInput",""],["formControlName","individualAwareness",3,"checked"],["formControlName","individualComplain",3,"checked"],["style","text-align: right; padding-top: 5px; padding-bottom: 5px;",4,"ngIf"],[3,"disabled","value"],[3,"value"],[2,"text-align","right","padding-top","5px","padding-bottom","5px"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"example-spacer"],["mat-raised-button","","color","warn",3,"click"],["mat-header-cell","",1,"tableFontSize","firstColumnTable","alignCenter",2,"width","5%"],["mat-cell","",1,"tableFontSize","firstColumnTable","alignCenter"],["mat-header-cell","",1,"tableFontSize",2,"width","20%"],["mat-cell","",1,"tableFontSize"],[4,"ngFor","ngForOf"],["mat-header-cell","",2,"width","5%"],["mat-cell","",1,"actions"],[1,"link",3,"click"],["color","primary","matTooltip","Edit item",1,"material-icons-outlined"],["color","warn","matTooltip","Delete item",1,"material-icons-outlined"],["mat-footer-cell","","colspan","7"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",3,"ngClass"]],template:function(t,e){1&t&&(I.Sb(0),I.Ub(1,"fieldset"),I.Ub(2,"legend"),I.Qc(3,"Personal Data Affected"),I.Tb(),I.Oc(4,Gt,45,6,"ng-container",0),I.Ub(5,"div",1),I.Ub(6,"table",2),I.Sb(7,3),I.Oc(8,$t,2,0,"th",4),I.Oc(9,Ht,2,1,"td",5),I.Rb(),I.Sb(10,6),I.Oc(11,jt,2,0,"th",7),I.Oc(12,Wt,2,1,"td",8),I.Rb(),I.Sb(13,9),I.Oc(14,Jt,2,0,"th",7),I.Oc(15,Kt,2,1,"td",8),I.Rb(),I.Sb(16,10),I.Oc(17,Xt,2,0,"th",7),I.Oc(18,Yt,2,1,"td",8),I.Rb(),I.Sb(19,11),I.Oc(20,te,2,0,"th",7),I.Oc(21,ee,2,1,"td",8),I.Rb(),I.Sb(22,12),I.Oc(23,ae,2,0,"th",7),I.Oc(24,ne,2,1,"td",8),I.Rb(),I.Sb(25,13),I.Oc(26,ie,2,0,"th",7),I.Oc(27,oe,2,1,"td",8),I.Rb(),I.Sb(28,14),I.Oc(29,se,2,0,"th",7),I.Oc(30,ce,2,1,"td",8),I.Rb(),I.Sb(31,15),I.Oc(32,re,1,0,"th",16),I.Oc(33,de,2,1,"td",17),I.Rb(),I.Sb(34,18),I.Oc(35,ue,2,0,"td",19),I.Rb(),I.Oc(36,be,1,0,"tr",20),I.Oc(37,me,1,0,"tr",21),I.Oc(38,he,1,3,"tr",22),I.Tb(),I.Tb(),I.Pb(39,"br"),I.Tb(),I.Pb(40,"br"),I.Ub(41,"div",23),I.Ub(42,"button",24),I.Qc(43,"PREVIOUS "),I.Tb(),I.Ub(44,"button",25),I.Qc(45,"NEXT "),I.Tb(),I.Tb(),I.Rb()),2&t&&(I.Cb(4),I.nc("ngIf",!e.isViewOnly),I.Cb(2),I.nc("dataSource",e.list),I.Cb(30),I.nc("matHeaderRowDef",e.displayColumns)("matHeaderRowDefSticky",!0),I.Cb(1),I.nc("matRowDefColumns",e.displayColumns),I.Cb(1),I.nc("matFooterRowDef",I.qc(7,fe)),I.Cb(6),I.nc("disabled",(null==e.list?null:e.list.length)<0))},directives:[n.o,ct.e,ct.f,c.n,c.c,c.i,c.b,c.e,c.k,c.m,c.g,ct.d,Q.a,st.f,st.e,Y.v,Y.o,Y.h,st.c,rt.d,ct.b,rt.h,bt.a,Y.n,Y.g,n.n,rt.g,lt.b,ut.b,Y.c,M.a,Bt.m,L.a,c.h,c.a,pt.a,c.d,c.j,c.l,c.f,n.m,ht.a],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}.hide[_ngcontent-%COMP%]{display:none}legend[_ngcontent-%COMP%]{padding:5px}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}"]}),t})();function Ce(t,e){1&t&&I.Qc(0,"Impact Of Breaches")}function ye(t,e){if(1&t&&(I.Ub(0,"mat-option",22),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.nc("value",t),I.Cb(1),I.Sc("",t.impact," ")}}function ve(t,e){if(1&t){const t=I.Vb();I.Ub(0,"div",23),I.Ub(1,"button",24),I.cc("click",function(){I.Ec(t);const e=I.gc(2);return e.addOrUpdateImpactOfBreach(e.isEditingImpactOfBreach?2:1)}),I.Ub(2,"mat-icon"),I.Qc(3),I.Tb(),I.Ub(4,"span"),I.Qc(5),I.Tb(),I.Tb(),I.Qc(6,"\xa0 "),I.Pb(7,"span",25),I.Ub(8,"button",26),I.cc("click",function(){return I.Ec(t),I.gc(2).resetImpactOfBreach()}),I.Ub(9,"mat-icon"),I.Qc(10,"cancel"),I.Tb(),I.Ub(11,"span"),I.Qc(12,"Cancel"),I.Tb(),I.Tb(),I.Tb()}if(2&t){const t=I.gc(2);I.Cb(1),I.nc("disabled",!t.isValidForm()),I.Cb(2),I.Rc(t.buttonIcon),I.Cb(2),I.Rc(t.buttonLabel)}}function we(t,e){if(1&t&&(I.Sb(0),I.Ub(1,"form",15),I.Oc(2,Ce,1,0,"ng-template",16),I.Ub(3,"div",1),I.Ub(4,"div",17),I.Ub(5,"mat-form-field",18),I.Ub(6,"mat-label"),I.Qc(7,"Potential Impact"),I.Tb(),I.Ub(8,"mat-select",19),I.Oc(9,ye,2,2,"mat-option",20),I.Tb(),I.Ub(10,"mat-hint"),I.Qc(11,"Please specify if any financial or sensitive personal data (special categories*) has been affected "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(12,ve,13,3,"div",21),I.Rb()),2&t){const t=I.gc();I.Cb(1),I.nc("formGroup",t.impactOfBreachFormGroup),I.Cb(8),I.nc("ngForOf",t.$impactOfBreaches),I.Cb(3),I.nc("ngIf",!t.isViewOnly)}}function Oe(t,e){1&t&&(I.Ub(0,"th",27),I.Qc(1,"# "),I.Tb())}function Te(t,e){if(1&t&&(I.Ub(0,"td",28),I.Qc(1),I.Tb()),2&t){const t=e.index;I.Cb(1),I.Sc(" ",t+1," ")}}function De(t,e){1&t&&(I.Ub(0,"th",32),I.Qc(1," Potential Impact"),I.Tb())}function xe(t,e){if(1&t&&(I.Ub(0,"div"),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.impact," ")}}function Ue(t,e){if(1&t&&(I.Ub(0,"td",33),I.Oc(1,xe,2,1,"div",34),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.nc("ngForOf",t.impact)}}function Pe(t,e){1&t&&(I.Sb(0,29),I.Oc(1,De,2,0,"th",30),I.Oc(2,Ue,2,1,"td",31),I.Rb())}function Ie(t,e){1&t&&(I.Ub(0,"th",32),I.Qc(1," Potential Impact"),I.Tb())}function Se(t,e){if(1&t&&(I.Ub(0,"td",33),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.impact," ")}}function ke(t,e){1&t&&(I.Sb(0,29),I.Oc(1,Ie,2,0,"th",30),I.Oc(2,Se,2,1,"td",31),I.Rb())}function Ae(t,e){1&t&&(I.Ub(0,"th",35),I.Qc(1,"Actions"),I.Tb())}function Fe(t,e){if(1&t){const t=I.Vb();I.Sb(0),I.Ub(1,"a",37),I.cc("click",function(){I.Ec(t);const e=I.gc().index;return I.gc().manageImpactOfBreach(2,e)}),I.Ub(2,"mat-icon",38),I.Qc(3,"edit "),I.Tb(),I.Tb(),I.Qc(4,"\xa0\xa0 "),I.Ub(5,"a",37),I.cc("click",function(){I.Ec(t);const e=I.gc().index;return I.gc().deleteItem(e)}),I.Ub(6,"mat-icon",39),I.Qc(7,"delete "),I.Tb(),I.Tb(),I.Rb()}}function Re(t,e){if(1&t&&(I.Ub(0,"td",36),I.Oc(1,Fe,8,0,"ng-container",0),I.Tb()),2&t){const t=I.gc();I.Cb(1),I.nc("ngIf",!t.isViewOnly)}}function qe(t,e){1&t&&(I.Ub(0,"td",40),I.Qc(1," There is no data! "),I.Tb())}function Me(t,e){1&t&&I.Pb(0,"tr",41)}function Qe(t,e){1&t&&I.Pb(0,"tr",42)}const Ee=function(t){return{hide:t}};function Le(t,e){if(1&t&&I.Pb(0,"tr",43),2&t){const t=I.gc();I.nc("ngClass",I.rc(1,Ee,!(0==(null==t.list?null:t.list.length))))}}const Be=function(){return["noData"]};let Ne=(()=>{class t{constructor(t,e,a,n){this.fb=t,this.auth=e,this.utilService=a,this.snackBar=n,this.subject$=new r.a(1),this.data$=this.subject$.asObservable(),this.impactOfBreachEvent=new I.o,this.impactOfBreach=new p,this.subscriptions=[],this.errors=[],this.list=[],this.displayColumns=["nber","impact","actions"],this.$impactOfBreaches=[],this.$processingEvent=new I.o,this.$errorsEvent=new I.o,this.buttonIcon="add_circle_outline",this.buttonLabel="Add",this.isEditingImpactOfBreach=!1,this.tableEditable=!0,this.impactOfBreachIndex=0,this.impactOfBreachNumber=1}ngOnInit(){this.initForms(),this.impactOfBreaches&&this.impactOfBreaches.forEach(t=>this.list.push(t)),this.getSampleJson.subscribe(t=>{this.$impactOfBreaches=t}),this.initMainObject()}initMainObject(){this.impactOfBreach=new p}initForms(){this.impactOfBreachFormGroup=this.fb.group({potentialImpact:[null,Y.u.required]})}addOrUpdateImpactOfBreach(t){this.impactOfBreachFormGroup.valid&&(this.checkForDuplicates(t)?this.snackBar.snackBarAlert("Error","Imapact Already Selected !!",{duration:3e3}):(this.mapFormControlToControl(1),1===t?(this.list.push(this.impactOfBreach),this.impactOfBreaches.push(this.impactOfBreach),this.list=[...this.list]):(this.list[this.impactOfBreachIndex]=this.impactOfBreach,this.impactOfBreaches[this.impactOfBreachIndex]=this.impactOfBreach,this.list=[...this.impactOfBreaches]),this.resetImpactOfBreach(),console.log(this.list)))}resetImpactOfBreach(){this.impactOfBreachFormGroup.reset(),this.impactOfBreach=new p,this.validatePolicyLabels(1),this.manageImpactOfBreach(1)}validatePolicyLabels(t){1===t?(this.buttonIcon="add_circle_outline",this.buttonLabel="Add potential Imapact"):(this.buttonIcon="save",this.buttonLabel="Save")}manageImpactOfBreach(t,e){2===t?(this.impactOfBreach=this.impactOfBreaches[e],this.isEditingImpactOfBreach=!0,this.impactOfBreachIndex=e,this.mapFormControlToControl(t)):(this.isEditingImpactOfBreach=!1,this.impactOfBreach=new p,this.impactOfBreachIndex=0),this.validatePolicyLabels(t)}checkForDuplicates(t){const e=this.impactOfBreachFormGroup.get("potentialImpact").value;return 1===t?!!this.impactOfBreaches.find(t=>t.rating===e.rating):null}editItem(t){this.impactOfBreachIndex=t,this.impactOfBreach=this.impactOfBreaches[this.impactOfBreachIndex],this.isEditingImpactOfBreach=!0,this.mapFormControlToControl(t),this.validatePolicyLabels(2)}deleteItem(t){this.list.splice(t,1),this.impactOfBreaches.splice(t,1),this.list=[...this.list],this.impactOfBreachEvent.emit(this.impactOfBreaches),this.isEditingImpactOfBreach=!1}mapFormControlToControl(t){1===t?this.impactOfBreach.impact=this.impactOfBreachFormGroup.get("potentialImpact").value:this.impactOfBreachFormGroup.get("potentialImpact").setValue(this.impactOfBreach.impact)}isValidForm(){return this.impactOfBreachFormGroup.valid}get getSampleJson(){return Object(l.a)(g.map(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(I.Ob(Y.d),I.Ob(it.c),I.Ob(Et.a),I.Ob(Lt.a))},t.\u0275cmp=I.Ib({type:t,selectors:[["fury-data-breach-impact"]],inputs:{impactOfBreaches:"impactOfBreaches",isViewOnly:"isViewOnly",impactOfBreachEvent:"impactOfBreachEvent"},decls:20,vars:9,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["mat-table","",3,"dataSource"],["matColumnDef","nber"],["mat-header-cell","","style","width: 5%","class","tableFontSize firstColumnTable alignCenter",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize firstColumnTable alignCenter",4,"matCellDef"],["matColumnDef","impact",4,"ngIf"],["matColumnDef","actions"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-cell","","class","actions",4,"matCellDef"],["matColumnDef","noData"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],[3,"formGroup"],["matStepLabel",""],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["formControlName","potentialImpact","multiple",""],[3,"value",4,"ngFor","ngForOf"],["style","text-align: right; padding-top: 5px; padding-bottom: 5px;",4,"ngIf"],[3,"value"],[2,"text-align","right","padding-top","5px","padding-bottom","5px"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"example-spacer"],["mat-raised-button","","color","warn",3,"click"],["mat-header-cell","",1,"tableFontSize","firstColumnTable","alignCenter",2,"width","5%"],["mat-cell","",1,"tableFontSize","firstColumnTable","alignCenter"],["matColumnDef","impact"],["mat-header-cell","","class","tableFontSize ","style","width: 20%",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize ",4,"matCellDef"],["mat-header-cell","",1,"tableFontSize",2,"width","20%"],["mat-cell","",1,"tableFontSize"],[4,"ngFor","ngForOf"],["mat-header-cell","",2,"width","5%"],["mat-cell","",1,"actions"],[1,"link",3,"click"],["color","primary","matTooltip","Edit item",1,"material-icons-outlined"],["color","warn","matTooltip","Delete item",1,"material-icons-outlined"],["mat-footer-cell","","colspan","7"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",3,"ngClass"]],template:function(t,e){1&t&&(I.Sb(0),I.Ub(1,"fieldset"),I.Ub(2,"legend"),I.Qc(3,"Impact Of Breaches"),I.Tb(),I.Oc(4,we,13,3,"ng-container",0),I.Ub(5,"div",1),I.Ub(6,"table",2),I.Sb(7,3),I.Oc(8,Oe,2,0,"th",4),I.Oc(9,Te,2,1,"td",5),I.Rb(),I.Oc(10,Pe,3,0,"ng-container",6),I.Oc(11,ke,3,0,"ng-container",6),I.Sb(12,7),I.Oc(13,Ae,2,0,"th",8),I.Oc(14,Re,2,1,"td",9),I.Rb(),I.Sb(15,10),I.Oc(16,qe,2,0,"td",11),I.Rb(),I.Oc(17,Me,1,0,"tr",12),I.Oc(18,Qe,1,0,"tr",13),I.Oc(19,Le,1,3,"tr",14),I.Tb(),I.Tb(),I.Tb(),I.Rb()),2&t&&(I.Cb(4),I.nc("ngIf",!e.isViewOnly),I.Cb(2),I.nc("dataSource",e.list),I.Cb(4),I.nc("ngIf",!e.isViewOnly),I.Cb(1),I.nc("ngIf",e.isViewOnly),I.Cb(6),I.nc("matHeaderRowDef",e.displayColumns)("matHeaderRowDefSticky",!0),I.Cb(1),I.nc("matRowDefColumns",e.displayColumns),I.Cb(1),I.nc("matFooterRowDef",I.qc(8,Be)))},directives:[n.o,ct.e,ct.f,c.n,c.c,c.i,c.b,c.e,c.k,c.m,c.g,Y.v,Y.o,Y.h,st.c,rt.d,ct.b,rt.h,bt.a,Y.n,Y.g,n.n,rt.g,Bt.m,Q.a,L.a,c.h,c.a,pt.a,c.d,c.j,c.l,c.f,n.m,ht.a],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}legend[_ngcontent-%COMP%]{padding:5px}.hide[_ngcontent-%COMP%]{display:none}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}"]}),t})();function ze(t,e){1&t&&I.Qc(0,"Potential Consquences")}function _e(t,e){if(1&t&&(I.Ub(0,"mat-option",27),I.Qc(1),I.Tb()),2&t){const t=e.$implicit,a=I.gc(2);I.nc("disabled",a.disableAdditionalField())("value",t),I.Cb(1),I.Tc("",t.code," | ",t.consquence," ")}}function Ve(t,e){if(1&t&&(I.Ub(0,"mat-option",28),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.nc("value",t.additional),I.Cb(1),I.Sc("",t.additional," ")}}function Ge(t,e){if(1&t){const t=I.Vb();I.Ub(0,"div",29),I.Ub(1,"button",30),I.cc("click",function(){I.Ec(t);const e=I.gc(2);return e.addOrUpdateConsquence(e.isEditingConsquence?2:1)}),I.Ub(2,"mat-icon"),I.Qc(3),I.Tb(),I.Ub(4,"span"),I.Qc(5),I.Tb(),I.Tb(),I.Qc(6,"\xa0 "),I.Pb(7,"span",31),I.Ub(8,"button",32),I.cc("click",function(){return I.Ec(t),I.gc(2).resetConsquence()}),I.Ub(9,"mat-icon"),I.Qc(10,"cancel"),I.Tb(),I.Ub(11,"span"),I.Qc(12,"Cancel"),I.Tb(),I.Tb(),I.Tb()}if(2&t){const t=I.gc(2);I.Cb(1),I.nc("disabled",!t.isValidForm()),I.Cb(2),I.Rc(t.buttonIcon),I.Cb(2),I.Rc(t.buttonLabel)}}function $e(t,e){if(1&t){const t=I.Vb();I.Sb(0),I.Ub(1,"form",18),I.Oc(2,ze,1,0,"ng-template",19),I.Ub(3,"div",1),I.Ub(4,"div",20),I.Ub(5,"mat-form-field",21),I.Ub(6,"mat-label"),I.Qc(7,"Consquence"),I.Tb(),I.Ub(8,"mat-select",22),I.cc("selectionChange",function(e){return I.Ec(t),I.gc().onSelectPotentialConsquence(e)}),I.Oc(9,_e,2,4,"mat-option",23),I.Tb(),I.Ub(10,"mat-hint"),I.Qc(11,"Please specify if any financial or sensitive personal data (special categories*) has been affected "),I.Tb(),I.Tb(),I.Ub(12,"mat-form-field",21),I.Ub(13,"mat-label"),I.Qc(14,"Addional Information On Event"),I.Tb(),I.Ub(15,"mat-select",24),I.Oc(16,Ve,2,2,"mat-option",25),I.Tb(),I.Ub(17,"mat-hint"),I.Qc(18,"Please specify if any financial or sensitive personal data (special categories*) has been affected "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Oc(19,Ge,13,3,"div",26),I.Rb()}if(2&t){const t=I.gc();I.Cb(1),I.nc("formGroup",t.consquenceFormGroup),I.Cb(8),I.nc("ngForOf",t.$consquences),I.Cb(7),I.nc("ngForOf",t.$additionalDetails),I.Cb(3),I.nc("ngIf",!t.isViewOnly)}}function He(t,e){1&t&&(I.Ub(0,"th",33),I.Qc(1,"# "),I.Tb())}function je(t,e){if(1&t&&(I.Ub(0,"td",34),I.Qc(1),I.Tb()),2&t){const t=e.index;I.Cb(1),I.Sc(" ",t+1," ")}}function We(t,e){1&t&&(I.Ub(0,"th",36),I.Qc(1," Potential Consquence"),I.Tb())}function Je(t,e){if(1&t&&(I.Ub(0,"td",37),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.potentialConsquence.consquence," ")}}function Ze(t,e){1&t&&(I.Sb(0,35),I.Oc(1,We,2,0,"th",8),I.Oc(2,Je,2,1,"td",9),I.Rb())}function Ke(t,e){1&t&&(I.Ub(0,"th",36),I.Qc(1," Potential Consquence"),I.Tb())}function Xe(t,e){if(1&t&&(I.Ub(0,"td",37),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.potentialConsquence," ")}}function Ye(t,e){1&t&&(I.Sb(0,35),I.Oc(1,Ke,2,0,"th",8),I.Oc(2,Xe,2,1,"td",9),I.Rb())}function ta(t,e){1&t&&(I.Ub(0,"th",36),I.Qc(1,"Additonal Details"),I.Tb())}function ea(t,e){if(1&t&&(I.Ub(0,"td",37),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.additional,"")}}function aa(t,e){1&t&&(I.Ub(0,"th",38),I.Qc(1,"Actions"),I.Tb())}function na(t,e){if(1&t){const t=I.Vb();I.Sb(0),I.Ub(1,"a",40),I.cc("click",function(){I.Ec(t);const e=I.gc().index;return I.gc().manageConsquence(2,e)}),I.Ub(2,"mat-icon",41),I.Qc(3,"edit "),I.Tb(),I.Tb(),I.Qc(4,"\xa0\xa0 "),I.Ub(5,"a",40),I.cc("click",function(){I.Ec(t);const e=I.gc().index;return I.gc().deleteItem(e)}),I.Ub(6,"mat-icon",42),I.Qc(7,"delete "),I.Tb(),I.Tb(),I.Rb()}}function ia(t,e){if(1&t&&(I.Ub(0,"td",39),I.Oc(1,na,8,0,"ng-container",0),I.Tb()),2&t){const t=I.gc();I.Cb(1),I.nc("ngIf",!t.isViewOnly)}}function oa(t,e){1&t&&(I.Ub(0,"td",43),I.Qc(1," There is no data! "),I.Tb())}function sa(t,e){1&t&&I.Pb(0,"tr",44)}function ca(t,e){1&t&&I.Pb(0,"tr",45)}const ra=function(t){return{hide:t}};function la(t,e){if(1&t&&I.Pb(0,"tr",46),2&t){const t=I.gc();I.nc("ngClass",I.rc(1,ra,!(0==(null==t.list?null:t.list.length))))}}const da=function(){return["noData"]};let ua=(()=>{class t{constructor(t,e,a,n){this.fb=t,this.auth=e,this.utilService=a,this.snackBar=n,this.subject$=new r.a(1),this.data$=this.subject$.asObservable(),this.consquenceEvent=new I.o,this.consquence=new h,this.subscriptions=[],this.errors=[],this.list=[],this.displayColumns=["nber","consquence","details","actions"],this.$consquences=[],this.$potentialConsquences=[],this.$additionalDetails=[],this.$processingEvent=new I.o,this.$errorsEvent=new I.o,this.buttonIcon="add_circle_outline",this.buttonLabel="Add",this.isEditingConsquence=!1,this.tableEditable=!0,this.consquenceIndex=0,this.consquenceNumber=1}ngOnInit(){this.initForms(),this.consquences&&this.consquences.forEach(t=>{this.list.push(t)}),this.getSampleJson.subscribe(t=>{this.$consquences=t}),this.getPotentialConsquences.subscribe(t=>this.$potentialConsquences=t),this.initMainObject()}initMainObject(){this.consquence=new h}initForms(){this.consquenceFormGroup=this.fb.group({potentialConsequence:[null,Y.u.required],details:[null,Y.u.required]})}addOrUpdateConsquence(t){this.consquenceFormGroup.valid&&(this.checkForDuplicates(t)?this.snackBar.snackBarAlert("Error","Potential Consquence Already exist in the Table, Please Update",{duration:3e3}):(this.mapFormControlToControl(1),1===t?(this.list.push(this.consquence),this.consquences.push(this.consquence),this.list=[...this.list]):(this.list[this.consquenceIndex]=this.consquence,this.consquences[this.consquenceIndex]=this.consquence,this.list=[...this.consquences]),console.log(this.list),this.resetConsquence()))}resetConsquence(){this.consquenceFormGroup.reset(),this.consquence=new h,this.validateConsquenceLabels(1),this.manageConsquence(1)}validateConsquenceLabels(t){1===t?(this.buttonIcon="add_circle_outline",this.buttonLabel="Add potential consquence"):(this.buttonIcon="save",this.buttonLabel="Save")}manageConsquence(t,e){2===t?(this.consquence=this.consquences[e],this.isEditingConsquence=!0,this.consquenceIndex=e,this.mapFormControlToControl(t)):(this.isEditingConsquence=!1,this.consquence=new h,this.consquenceIndex=0),this.validateConsquenceLabels(t)}checkForDuplicates(t){const e=this.consquenceFormGroup.get("potentialConsequence").value;return 1===t?!!this.consquences.find(t=>t.potentialConsquence===e):null}editItem(t){this.consquenceIndex=t,this.consquence=this.consquences[this.consquenceIndex],this.isEditingConsquence=!0,this.mapFormControlToControl(t),this.validateConsquenceLabels(2)}deleteItem(t){this.list.splice(t,1),this.consquences.splice(t,1),this.list=[...this.list],this.consquenceEvent.emit(this.consquences),this.isEditingConsquence=!1}mapFormControlToControl(t){1===t?(this.consquence.potentialConsquence=this.consquenceFormGroup.get("potentialConsequence").value,this.consquence.additional=this.consquenceFormGroup.get("details").value):(this.consquenceFormGroup.get("potentialConsequence").setValue(this.consquence.potentialConsquence),this.consquenceFormGroup.get("details").setValue(this.consquence.additional))}isValidForm(){return this.consquenceFormGroup.valid}get getSampleJson(){return Object(l.a)(C.map(t=>t))}get getPotentialConsquences(){return Object(l.a)(y.map(t=>t))}onSelectPotentialConsquence(t){this.$additionalDetails=[],this.$potentialConsquences.filter(e=>e.potentialConsquence===t.value.consquence).forEach(t=>this.$additionalDetails.push(t)),this.consquenceFormGroup.get("details").enable()}disableAdditionalField(){0===this.$potentialConsquences.length&&this.consquenceFormGroup.get("details").disable()}}return t.\u0275fac=function(e){return new(e||t)(I.Ob(Y.d),I.Ob(it.c),I.Ob(Et.a),I.Ob(Lt.a))},t.\u0275cmp=I.Ib({type:t,selectors:[["fury-data-breach-potential-consquences"]],inputs:{consquences:"consquences",isViewOnly:"isViewOnly",consquenceEvent:"consquenceEvent"},decls:23,vars:9,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["mat-table","",3,"dataSource"],["matColumnDef","nber"],["mat-header-cell","","style","width: 5%","class","tableFontSize firstColumnTable alignCenter",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize firstColumnTable alignCenter",4,"matCellDef"],["matColumnDef","consquence",4,"ngIf"],["matColumnDef","details"],["mat-header-cell","","class","tableFontSize ","style","width: 20%",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize ",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-cell","","class","actions",4,"matCellDef"],["matColumnDef","noData"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],[3,"formGroup"],["matStepLabel",""],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["formControlName","potentialConsequence",3,"selectionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["formControlName","details","multiple",""],[3,"value",4,"ngFor","ngForOf"],["style","text-align: right; padding-top: 5px; padding-bottom: 5px;",4,"ngIf"],[3,"disabled","value"],[3,"value"],[2,"text-align","right","padding-top","5px","padding-bottom","5px"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"example-spacer"],["mat-raised-button","","color","warn",3,"click"],["mat-header-cell","",1,"tableFontSize","firstColumnTable","alignCenter",2,"width","5%"],["mat-cell","",1,"tableFontSize","firstColumnTable","alignCenter"],["matColumnDef","consquence"],["mat-header-cell","",1,"tableFontSize",2,"width","20%"],["mat-cell","",1,"tableFontSize"],["mat-header-cell","",2,"width","5%"],["mat-cell","",1,"actions"],[1,"link",3,"click"],["color","primary","matTooltip","Edit item",1,"material-icons-outlined"],["color","warn","matTooltip","Delete item",1,"material-icons-outlined"],["mat-footer-cell","","colspan","7"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",3,"ngClass"]],template:function(t,e){1&t&&(I.Sb(0),I.Ub(1,"fieldset"),I.Ub(2,"legend"),I.Qc(3,"Potential Consequences"),I.Tb(),I.Oc(4,$e,20,4,"ng-container",0),I.Ub(5,"div",1),I.Ub(6,"table",2),I.Sb(7,3),I.Oc(8,He,2,0,"th",4),I.Oc(9,je,2,1,"td",5),I.Rb(),I.Oc(10,Ze,3,0,"ng-container",6),I.Oc(11,Ye,3,0,"ng-container",6),I.Sb(12,7),I.Oc(13,ta,2,0,"th",8),I.Oc(14,ea,2,1,"td",9),I.Rb(),I.Sb(15,10),I.Oc(16,aa,2,0,"th",11),I.Oc(17,ia,2,1,"td",12),I.Rb(),I.Sb(18,13),I.Oc(19,oa,2,0,"td",14),I.Rb(),I.Oc(20,sa,1,0,"tr",15),I.Oc(21,ca,1,0,"tr",16),I.Oc(22,la,1,3,"tr",17),I.Tb(),I.Tb(),I.Tb(),I.Rb()),2&t&&(I.Cb(4),I.nc("ngIf",!e.isViewOnly),I.Cb(2),I.nc("dataSource",e.list),I.Cb(4),I.nc("ngIf",!e.isViewOnly),I.Cb(1),I.nc("ngIf",e.isViewOnly),I.Cb(9),I.nc("matHeaderRowDef",e.displayColumns)("matHeaderRowDefSticky",!0),I.Cb(1),I.nc("matRowDefColumns",e.displayColumns),I.Cb(1),I.nc("matFooterRowDef",I.qc(8,da)))},directives:[n.o,ct.e,ct.f,c.n,c.c,c.i,c.b,c.e,c.k,c.m,c.g,Y.v,Y.o,Y.h,st.c,rt.d,ct.b,rt.h,bt.a,Y.n,Y.g,n.n,rt.g,Bt.m,Q.a,L.a,c.h,c.a,pt.a,c.d,c.j,c.l,c.f,n.m,ht.a],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}legend[_ngcontent-%COMP%]{padding:5px}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}.hide[_ngcontent-%COMP%]{display:none}"]}),t})();function ba(t,e){1&t&&I.Qc(0,"Controls")}function ma(t,e){if(1&t&&(I.Ub(0,"mat-option",34),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.nc("value",t),I.Cb(1),I.Tc("",t.code," | ",t.name," ")}}function pa(t,e){if(1&t&&(I.Ub(0,"mat-option",34),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.nc("value",t),I.Cb(1),I.Sc("",t.subCategoryName," ")}}function ha(t,e){1&t&&(I.Ub(0,"th",35),I.Qc(1,"# "),I.Tb())}function fa(t,e){if(1&t&&(I.Ub(0,"td",36),I.Qc(1),I.Tb()),2&t){const t=e.index;I.Cb(1),I.Sc(" ",t+1," ")}}function ga(t,e){1&t&&(I.Ub(0,"th",37),I.Qc(1," Control"),I.Tb())}function Ca(t,e){if(1&t&&(I.Ub(0,"td",38),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.controlName.name,"")}}function ya(t,e){1&t&&(I.Ub(0,"th",37),I.Qc(1,"Title"),I.Tb())}function va(t,e){if(1&t&&(I.Ub(0,"td",38),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.subCategoryName.subCategoryName,"")}}function wa(t,e){1&t&&(I.Ub(0,"th",37),I.Qc(1," Description"),I.Tb())}function Oa(t,e){if(1&t&&(I.Ub(0,"td",38),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.subCategoryDesc,"")}}function Ta(t,e){1&t&&(I.Ub(0,"th",39),I.Qc(1,"Actions"),I.Tb())}function Da(t,e){if(1&t){const t=I.Vb();I.Ub(0,"td",40),I.Sb(1),I.Ub(2,"a",41),I.cc("click",function(){I.Ec(t);const a=e.index;return I.gc().manageControl(2,a)}),I.Ub(3,"mat-icon",42),I.Qc(4,"edit "),I.Tb(),I.Tb(),I.Qc(5,"\xa0\xa0 "),I.Ub(6,"a",41),I.cc("click",function(){I.Ec(t);const a=e.index;return I.gc().deleteItem(a)}),I.Ub(7,"mat-icon",43),I.Qc(8,"delete "),I.Tb(),I.Tb(),I.Rb(),I.Tb()}}function xa(t,e){1&t&&(I.Ub(0,"td",44),I.Qc(1," There is no data! "),I.Tb())}function Ua(t,e){1&t&&I.Pb(0,"tr",45)}function Pa(t,e){1&t&&I.Pb(0,"tr",46)}const Ia=function(t){return{hide:t}};function Sa(t,e){if(1&t&&I.Pb(0,"tr",47),2&t){const t=I.gc();I.nc("ngClass",I.rc(1,Ia,!(0==(null==t.list?null:t.list.length))))}}const ka=function(){return["noData"]};let Aa=(()=>{class t{constructor(t,e,a,n){this.fb=t,this.auth=e,this.utilService=a,this.snackBar=n,this.subject$=new r.a(1),this.data$=this.subject$.asObservable(),this.breachControlEvent=new I.o,this.breachControl=new v,this.subscriptions=[],this.errors=[],this.list=[],this.displayColumns=["nber","control","title","description","actions"],this.$breachControls=[],this.$breachControlCategories=[],this.$controls=[],this.$controlCategories=[],this.$processingEvent=new I.o,this.$errorsEvent=new I.o,this.buttonIcon="add_circle_outline",this.buttonLabel="Add",this.isEditingControl=!1,this.tableEditable=!0,this.personalDataIndex=0,this.personalNumber=1}ngOnInit(){this.initForms(),this.breachControls&&this.breachControls.forEach(t=>this.list.push(t)),this.getSampleJson.subscribe(t=>{this.$breachControls=t}),this.getBreachControlJson.subscribe(t=>{this.$controls=t}),this.initMainObject()}initMainObject(){this.breachControl=new v}initForms(){this.breachControlFormGroup=this.fb.group({control:[null,Y.u.required],controlCategory:[null,Y.u.required],controlCategoryDesc:[null,Y.u.required]})}addOrUpdateControl(t){this.breachControlFormGroup.valid&&(this.mapFormControlToControl(1),1===t?(this.list.push(this.breachControl),this.breachControls.push(this.breachControl),this.list=[...this.list]):(this.list[this.personalDataIndex]=this.breachControl,this.breachControls[this.personalDataIndex]=this.breachControl,this.list=[...this.breachControls]),this.resetControl()),console.log(this.list)}resetControl(){this.breachControlFormGroup.reset(),this.breachControl=new v,this.validatePolicyLabels(1),this.manageControl(1)}validatePolicyLabels(t){1===t?(this.buttonIcon="add_circle_outline",this.buttonLabel="Add new control data"):(this.buttonIcon="save",this.buttonLabel="Save")}onSelectControl(t){this.$controlCategories=[],this.$controls.filter(e=>e.controlName===t.value.name).forEach(t=>this.$controlCategories.push(t))}onSelectControlCategoryDesc(t){console.log(t),this.breachControlFormGroup.get("controlCategoryDesc").setValue(t.value.subCategoryDesc)}disableSubCategories(){0===this.$controlCategories.length&&(this.breachControlFormGroup.get("controlCategory").disable(),this.breachControlFormGroup.get("controlCategoryDesc").disable())}manageControl(t,e){2===t?(this.breachControl=this.breachControls[e],this.isEditingControl=!0,this.personalDataIndex=e,this.mapFormControlToControl(t)):(this.isEditingControl=!1,this.breachControl=new v,this.personalDataIndex=0),this.validatePolicyLabels(t)}editItem(t){this.personalDataIndex=t,this.breachControl=this.breachControls[this.personalDataIndex],this.isEditingControl=!0,this.mapFormControlToControl(t),this.validatePolicyLabels(2)}deleteItem(t){this.list.splice(t,1),this.breachControls.splice(t,1),this.list=[...this.list],this.breachControlEvent.emit(this.breachControls),this.isEditingControl=!1}mapFormControlToControl(t){1===t?(this.breachControl.controlName=this.breachControlFormGroup.get("control").value,this.breachControl.subCategoryName=this.breachControlFormGroup.get("controlCategory").value,this.breachControl.subCategoryDesc=this.breachControlFormGroup.get("controlCategoryDesc").value):(this.breachControlFormGroup.get("control").setValue(this.breachControl.controlName),this.breachControlFormGroup.get("controlCategory").setValue(this.breachControl.subCategoryName),this.breachControlFormGroup.get("controlCategoryDesc").setValue(this.breachControl.subCategoryDesc))}isValidForm(){return this.breachControlFormGroup.valid}get getSampleJson(){return Object(l.a)(w.map(t=>t))}get getBreachControlJson(){return Object(l.a)(O.map(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(I.Ob(Y.d),I.Ob(it.c),I.Ob(Et.a),I.Ob(Lt.a))},t.\u0275cmp=I.Ib({type:t,selectors:[["fury-data-breach-controls"]],inputs:{breachControls:"breachControls",isViewOnly:"isViewOnly",breachControlEvent:"breachControlEvent"},decls:67,vars:13,consts:[[3,"formGroup"],["matStepLabel",""],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["formControlName","control",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","controlCategory",3,"selectionChange"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","controlCategoryDesc","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],[2,"text-align","right","padding-top","5px","padding-bottom","5px"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"example-spacer"],["mat-raised-button","","color","warn",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","nber"],["mat-header-cell","","style","width: 5%","class","tableFontSize firstColumnTable alignCenter",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize firstColumnTable alignCenter",4,"matCellDef"],["matColumnDef","control"],["mat-header-cell","","class","tableFontSize ","style","width: 20%",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize ",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","description"],["matColumnDef","actions"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-cell","","class","actions",4,"matCellDef"],["matColumnDef","noData"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-button","","matStepperPrevious","","type","button"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled"],[3,"value"],["mat-header-cell","",1,"tableFontSize","firstColumnTable","alignCenter",2,"width","5%"],["mat-cell","",1,"tableFontSize","firstColumnTable","alignCenter"],["mat-header-cell","",1,"tableFontSize",2,"width","20%"],["mat-cell","",1,"tableFontSize"],["mat-header-cell","",2,"width","5%"],["mat-cell","",1,"actions"],[1,"link",3,"click"],["color","primary","matTooltip","Edit item",1,"material-icons-outlined"],["color","warn","matTooltip","Delete item",1,"material-icons-outlined"],["mat-footer-cell","","colspan","7"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",3,"ngClass"]],template:function(t,e){1&t&&(I.Sb(0),I.Ub(1,"fieldset"),I.Ub(2,"legend"),I.Qc(3,"Controls"),I.Tb(),I.Sb(4),I.Ub(5,"form",0),I.Oc(6,ba,1,0,"ng-template",1),I.Ub(7,"div",2),I.Ub(8,"div",3),I.Ub(9,"mat-form-field",4),I.Ub(10,"mat-label"),I.Qc(11,"Control Name"),I.Tb(),I.Ub(12,"mat-select",5),I.cc("selectionChange",function(t){return e.onSelectControl(t)}),I.Oc(13,ma,2,3,"mat-option",6),I.Tb(),I.Pb(14,"mat-hint"),I.Tb(),I.Ub(15,"mat-form-field",4),I.Ub(16,"mat-label"),I.Qc(17,"Title"),I.Tb(),I.Ub(18,"mat-select",7),I.cc("selectionChange",function(t){return e.onSelectControlCategoryDesc(t)}),I.Oc(19,pa,2,2,"mat-option",6),I.Tb(),I.Pb(20,"mat-hint"),I.Tb(),I.Ub(21,"mat-form-field",4),I.Ub(22,"mat-label"),I.Qc(23,"Description"),I.Tb(),I.Pb(24,"textarea",8,9),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(26,"div",10),I.Ub(27,"button",11),I.cc("click",function(){return e.addOrUpdateControl(e.isEditingControl?2:1)}),I.Ub(28,"mat-icon"),I.Qc(29),I.Tb(),I.Ub(30,"span"),I.Qc(31),I.Tb(),I.Tb(),I.Qc(32,"\xa0 "),I.Pb(33,"span",12),I.Ub(34,"button",13),I.cc("click",function(){return e.resetControl()}),I.Ub(35,"mat-icon"),I.Qc(36,"cancel"),I.Tb(),I.Ub(37,"span"),I.Qc(38,"Cancel"),I.Tb(),I.Tb(),I.Tb(),I.Rb(),I.Ub(39,"div",2),I.Ub(40,"table",14),I.Sb(41,15),I.Oc(42,ha,2,0,"th",16),I.Oc(43,fa,2,1,"td",17),I.Rb(),I.Sb(44,18),I.Oc(45,ga,2,0,"th",19),I.Oc(46,Ca,2,1,"td",20),I.Rb(),I.Sb(47,21),I.Oc(48,ya,2,0,"th",19),I.Oc(49,va,2,1,"td",20),I.Rb(),I.Sb(50,22),I.Oc(51,wa,2,0,"th",19),I.Oc(52,Oa,2,1,"td",20),I.Rb(),I.Sb(53,23),I.Oc(54,Ta,2,0,"th",24),I.Oc(55,Da,9,0,"td",25),I.Rb(),I.Sb(56,26),I.Oc(57,xa,2,0,"td",27),I.Rb(),I.Oc(58,Ua,1,0,"tr",28),I.Oc(59,Pa,1,0,"tr",29),I.Oc(60,Sa,1,3,"tr",30),I.Tb(),I.Tb(),I.Tb(),I.Pb(61,"br"),I.Ub(62,"div",31),I.Ub(63,"button",32),I.Qc(64,"PREVIOUS "),I.Tb(),I.Ub(65,"button",33),I.Qc(66,"Update Controls "),I.Tb(),I.Tb(),I.Rb()),2&t&&(I.Cb(5),I.nc("formGroup",e.breachControlFormGroup),I.Cb(8),I.nc("ngForOf",e.$breachControls),I.Cb(6),I.nc("ngForOf",e.$controlCategories),I.Cb(8),I.nc("disabled",!e.isValidForm()),I.Cb(2),I.Rc(e.buttonIcon),I.Cb(2),I.Rc(e.buttonLabel),I.Cb(9),I.nc("dataSource",e.list),I.Cb(18),I.nc("matHeaderRowDef",e.displayColumns)("matHeaderRowDefSticky",!0),I.Cb(1),I.nc("matRowDefColumns",e.displayColumns),I.Cb(1),I.nc("matFooterRowDef",I.qc(12,ka)),I.Cb(5),I.nc("disabled",(null==e.list?null:e.list.length)<0))},directives:[Y.v,Y.o,Y.h,st.c,ct.e,ct.f,rt.d,ct.b,rt.h,bt.a,Y.n,Y.g,n.n,rt.g,lt.b,ut.b,Y.c,Q.a,L.a,c.n,c.c,c.i,c.b,c.e,c.k,c.m,c.g,ct.d,st.f,st.e,Bt.m,c.h,c.a,pt.a,c.d,c.j,c.l,c.f,n.m,ht.a],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}legend[_ngcontent-%COMP%]{padding:5px}.hide[_ngcontent-%COMP%]{display:none}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}"]}),t})();const Fa=["autosize"];function Ra(t,e){1&t&&I.Qc(0,"Breach Details")}function qa(t,e){if(1&t&&(I.Ub(0,"mat-option",41),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.nc("value",t),I.Cb(1),I.Sc("",t.cause," ")}}function Ma(t,e){1&t&&I.Qc(0,"Personal Data Affected")}function Qa(t,e){1&t&&I.Qc(0," Containment and Recovery, Miscellaneous ")}function Ea(t,e){1&t&&I.Qc(0," Additional Info ")}function La(t,e){if(1&t){const t=I.Vb();I.Ub(0,"button",42),I.cc("click",function(){return I.Ec(t),I.gc().submit()}),I.Qc(1," Report Breach "),I.Tb()}if(2&t){const t=I.gc();I.nc("disabled",t.containmentAndRecovery.invalid)}}function Ba(t,e){1&t&&I.Qc(0," Breach Accessment ")}function Na(t,e){if(1&t&&(I.Ub(0,"div"),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.impact," ")}}function za(t,e){if(1&t&&(I.Ub(0,"div"),I.Qc(1),I.Tb()),2&t){const t=e.$implicit;I.Cb(1),I.Sc(" ",t.additional," ")}}function _a(t,e){if(1&t&&(I.Ub(0,"mat-step",5),I.Oc(1,Ba,1,0,"ng-template",7),I.Ub(2,"div",8),I.Ub(3,"table",43),I.Ub(4,"tr"),I.Ub(5,"td",44),I.Qc(6,"Identifying character of data that was breached"),I.Tb(),I.Pb(7,"td",44),I.Tb(),I.Ub(8,"tr"),I.Ub(9,"td",44),I.Qc(10,"Value Does the data that has been breached identify the individuals involved? Assess the identifier of the data by choosing one of the following 4 values: 1 - negligible, 2 - limited, 3 - significant, 4 - maximum. "),I.Tb(),I.Ub(11,"td",44),I.Qc(12,"4"),I.Tb(),I.Tb(),I.Ub(13,"tr"),I.Ub(14,"td",44),I.Qc(15,"Description of each value"),I.Tb(),I.Ub(16,"td",44),I.Qc(17,"4. Maximum: "),I.Oc(18,Na,2,1,"div",45),I.Tb(),I.Tb(),I.Ub(19,"tr"),I.Pb(20,"td",44),I.Pb(21,"td",44),I.Tb(),I.Ub(22,"tr"),I.Ub(23,"td",44),I.Qc(24,"Prejudicial nature of the violation on the persons concerned "),I.Tb(),I.Pb(25,"td",44),I.Tb(),I.Ub(26,"tr"),I.Ub(27,"td",44),I.Qc(28,"Potential Consequences of the Violation What is the potential consequence of the most unlikely violation? Choose from the four (4) scenarios on offer. "),I.Tb(),I.Ub(29,"td",44),I.Qc(30,"Data has been sent to wrong known recepients, e.g. a) An e-mail with personal data has been wrongly sent to a number of known recipients. b) Some customers could access other customers\u2019 accounts in an online service. "),I.Tb(),I.Tb(),I.Ub(31,"tr"),I.Ub(32,"td",44),I.Qc(33,"Value Appreciate the harmfulness of the violation by choosing one of the following values: 1 - negligible, 2 - limited, 3 - significant, 4 - maximum. "),I.Tb(),I.Ub(34,"td",44),I.Qc(35,"4"),I.Tb(),I.Tb(),I.Ub(36,"tr"),I.Ub(37,"td",44),I.Qc(38,"Description of each value"),I.Tb(),I.Ub(39,"td",44),I.Qc(40,"3. Maximum: "),I.Oc(41,za,2,1,"div",45),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb()),2&t){const t=I.gc();I.nc("stepControl",t._controls),I.Cb(18),I.nc("ngForOf",t.application.impactOfBreach),I.Cb(23),I.nc("ngForOf",t.application.potentialConsequences)}}function Va(t,e){1&t&&I.Qc(0," Controls ")}function Ga(t,e){if(1&t){const t=I.Vb();I.Ub(0,"mat-step",5),I.Oc(1,Va,1,0,"ng-template",7),I.Ub(2,"fury-data-breach-controls",46),I.cc("breachControlEvent",function(e){return I.Ec(t),I.gc().onBreachControlEvent(e)}),I.Tb(),I.Pb(3,"br"),I.Tb()}if(2&t){const t=I.gc();I.nc("stepControl",t.controls),I.Cb(2),I.nc("isViewOnly",t.isViewOnly)("breachControls",t.application.controls)}}const $a=function(){return["Breaches"]};let Ha=(()=>{class t extends tt.a{constructor(t,e,a,n,i,o,s){super(n,i,o),this.fb=t,this.cd=e,this.activateRoute=a,this.auth=n,this._workflowService=i,this.registrationService=o,this.snackbar=s,this.subject$=new r.a(1),this.data$=this.subject$.asObservable(),this.application=new u,this.policy=new b,this.policies=[],this.personalData=[],this.personalDataAffected=[],this.impactOfBreaches=[],this.causeOfBreaches=[],this.controls=[],this._controls=[],this.pontentialConsequences=[],this.phonePrefixOptions=["+1","+27","+44","+49","+61","+91"],this.passwordInputType="password",this.list=[],this._displayColumns=["value","details"],this.operationType=a.routeConfig.data.action,"EDIT"===this.operationType?(this.isEditMode=!0,this.application.policies=[],this.application.personalDataAffected=[],this.application.impactOfBreach=[],this.application.controls=[],this.application.potentialConsequences=[]):"CREATE"===this.operationType?(this.isEditMode=!1,this.application.policies=[],this.application.personalDataAffected=[],this.application.impactOfBreach=[],this.application.controls=[],this.application.potentialConsequences=[]):"VIEW"===this.operationType&&(this.isEditMode=!1,this.isViewOnly=!0)}ngOnInit(){this.isOfficer=this.auth.isUserInRole("data-protection-officer-nita"),this.isCompanyOfficer=this.auth.isUserInRole("data-protection-officer"),this.getCauseOfBreachJson.subscribe(t=>{this.causeOfBreaches=t}),this.breachDetails=this.fb.group({incidentDate:[null,Y.u.required],howIncidentHappened:[null,Y.u.required],delayInReporting:[null],reasonForDelay:[null,Y.u.required],causesOfBreach:[],measures:[null,Y.u.required]}),this.containmentAndRecovery=this.fb.group({actionTaken:[null,Y.u.required],detailsOfActionTaken:[null,Y.u.required],hasDataBeenRecovered:[null,Y.u.required],detailsOfRecovery:[null,Y.u.required],dateOfRecovery:[null,Y.u.required],preventionSteps:[null,Y.u.required],medialCoverageOfIncident:[null,Y.u.required],regulatoryBodiesNotified:[null,Y.u.required]}),this.isViewOnly&&(this.disableAllControls(),this.getData.subscribe(t=>{this.application=t,console.log(this.application)}),this.mapFields())}mapFields(){this.breachDetails.get("incidentDate").setValue(this.application.incidentDate),this.breachDetails.get("howIncidentHappened").setValue(this.application.howIncidentHappened),this.breachDetails.get("delayInReporting").setValue(this.application.delayInReporting),this.breachDetails.get("reasonForDelay").setValue(this.application.reasonForDelay),this.breachDetails.get("causesOfBreach").setValue(this.application.causes),this.breachDetails.get("measures").setValue(this.application.measuresInPlace),this.containmentAndRecovery.get("actionTaken").setValue(this.application.containmentAndRecovery.actionTaken),this.containmentAndRecovery.get("detailsOfActionTaken").setValue(this.application.containmentAndRecovery.detailsOfActionTaken),this.containmentAndRecovery.get("hasDataBeenRecovered").setValue(this.application.containmentAndRecovery.hasDataBeenRecovered),this.containmentAndRecovery.get("detailsOfRecovery").setValue(this.application.containmentAndRecovery.detailsOfRecovery),this.containmentAndRecovery.get("dateOfRecovery").setValue(this.application.containmentAndRecovery.dateOfRecovery),this.containmentAndRecovery.get("preventionSteps").setValue(this.application.containmentAndRecovery.preventionSteps),this.containmentAndRecovery.get("medialCoverageOfIncident").setValue(this.application.miscellaneous.medialCoverageOfIncident),this.containmentAndRecovery.get("regulatoryBodiesNotified").setValue(this.application.miscellaneous.regulatoryBodiesNotified)}disableAllControls(){this.breachDetails.disable(),this.containmentAndRecovery.disable()}showPassword(){this.passwordInputType="text",this.cd.markForCheck()}hidePassword(){this.passwordInputType="password",this.cd.markForCheck()}submit(){this.snackbar.open("Breach Submitted Succefully your reference is DAB/16/10/21/4651",null,{duration:5e3})}onPolicyChange(t){this.application.policies=t}onPersonalDataChange(t){this.personalDataAffected=t}onChangeBreachImpact(t){this.impactOfBreaches=t}onChangeConsquenceEvent(t){this.pontentialConsequences=t}onBreachControlEvent(t){this.controls=t}formTriggler(t){switch(t){case"EDIT":case"CREATE":break;case"VIEW":this.isViewOnly=!0}}get getSampleJson(){return Object(l.a)(g.map(t=>t))}get getCauseOfBreachJson(){return Object(l.a)(f.map(t=>t))}get getData(){return Object(l.a)(D)}}return t.\u0275fac=function(e){return new(e||t)(I.Ob(Y.d),I.Ob(I.h),I.Ob(i.a),I.Ob(it.c),I.Ob(at.a),I.Ob(nt.a),I.Ob(ot.b))},t.\u0275cmp=I.Ib({type:t,selectors:[["fury-data-breach-edit"]],viewQuery:function(t,e){if(1&t&&I.Uc(Fa,!0),2&t){let t;I.zc(t=I.dc())&&(e.autosize=t.first)}},features:[I.zb],decls:134,vars:36,consts:[["mode","card"],["current","Notification Breach",3,"crumbs"],[1,""],[3,"linear"],["stepper","matHorizontalStepper"],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex",""],["formControlName","incidentDate","matInput","","readonly","",3,"matDatepicker","click","focus"],["matSuffix","",3,"for"],["formDatepickerRef",""],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","howIncidentHappened","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["formControlName","causesOfBreach","multiple",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","delayInReporting",3,"checked"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","reasonForDelay","cdkAutosizeMaxRows","5"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","measures","cdkAutosizeMaxRows","5"],[3,"policies","isViewOnly","policyEvent"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-button","","type","button",3,"disabled","click"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled"],[3,"personalDataList","isViewOnly","personalDataEvent"],["formControlName","actionTaken",3,"checked"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","detailsOfActionTaken","cdkAutosizeMaxRows","5"],["formControlName","hasDataBeenRecovered",3,"checked"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","detailsOfRecovery","cdkAutosizeMaxRows","5"],["formControlName","dateOfRecovery","matInput","","readonly","",3,"matDatepicker","click","focus"],["formDatepickerRefRecovery",""],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","preventionSteps","cdkAutosizeMaxRows","5"],["formControlName","regulatoryBodiesNotified",3,"checked"],["formControlName","medialCoverageOfIncident",3,"checked"],["color","primary","mat-button","","matStepperPrevious","","type","button"],[3,"impactOfBreaches","isViewOnly","impactOfBreachEvent"],[3,"isViewOnly","consquences","consquenceEvent"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled","click",4,"ngIf"],[3,"stepControl",4,"ngIf"],[3,"value"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled","click"],["cellspacing","0","border","1"],[2,"min-width","50px"],[4,"ngFor","ngForOf"],[3,"isViewOnly","breachControls","breachControlEvent"]],template:function(t,e){if(1&t){const t=I.Vb();I.Ub(0,"fury-page-layout",0),I.Ub(1,"fury-page-layout-header"),I.Pb(2,"fury-breadcrumbs",1),I.Tb(),I.Ub(3,"fury-page-layout-content"),I.Ub(4,"div",2),I.Ub(5,"mat-horizontal-stepper",3,4),I.Ub(7,"mat-step",5),I.Ub(8,"form",6),I.Oc(9,Ra,1,0,"ng-template",7),I.Ub(10,"fieldset"),I.Ub(11,"legend"),I.Qc(12,"Details"),I.Tb(),I.Ub(13,"div",8),I.Ub(14,"div",9),I.Ub(15,"mat-form-field",10),I.Ub(16,"mat-label"),I.Qc(17,"Select date of when incident happen?"),I.Tb(),I.Ub(18,"input",11),I.cc("click",function(){return I.Ec(t),I.Ac(23).open()})("focus",function(){return I.Ec(t),I.Ac(23).open()}),I.Tb(),I.Pb(19,"mat-datepicker-toggle",12),I.Ub(20,"mat-hint"),I.Qc(21,"When did the incident happen?"),I.Tb(),I.Pb(22,"mat-datepicker",null,13),I.Tb(),I.Ub(24,"mat-form-field",14),I.Ub(25,"mat-label"),I.Qc(26,"How did the incident happen ?"),I.Tb(),I.Pb(27,"textarea",15,16),I.Ub(29,"mat-hint"),I.Qc(30,"Explain how the incident happened"),I.Tb(),I.Tb(),I.Ub(31,"mat-form-field",14),I.Ub(32,"mat-label"),I.Qc(33,"Cause of the breach"),I.Tb(),I.Ub(34,"mat-select",17),I.Oc(35,qa,2,2,"mat-option",18),I.Tb(),I.Ub(36,"mat-hint"),I.Qc(37,"Please specify if any financial or sensitive personal data (special categories*) has been affected "),I.Tb(),I.Tb(),I.Tb(),I.Ub(38,"div",9),I.Ub(39,"mat-checkbox",19),I.Qc(40,"Was there a delay in reporting ? "),I.Tb(),I.Ub(41,"mat-form-field",14),I.Ub(42,"mat-label"),I.Qc(43,"Reasons for delay"),I.Tb(),I.Pb(44,"textarea",20,16),I.Ub(46,"mat-hint"),I.Qc(47,"Explain the reasons for this delay"),I.Tb(),I.Tb(),I.Ub(48,"mat-form-field",14),I.Ub(49,"mat-label"),I.Qc(50,"What Measures were in place ?"),I.Tb(),I.Pb(51,"textarea",21,16),I.Ub(53,"mat-hint"),I.Qc(54,"What measures were in place to prevent an incident of this nature occurring?"),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Pb(55,"br"),I.Ub(56,"fury-data-breach-policy-item",22),I.cc("policyEvent",function(t){return e.onPolicyChange(t)}),I.Tb(),I.Pb(57,"br"),I.Ub(58,"div",23),I.Ub(59,"button",24),I.cc("click",function(){return I.Ec(t),I.Ac(6).reset()}),I.Qc(60,"RESET "),I.Tb(),I.Ub(61,"button",25),I.Qc(62," NEXT "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(63,"mat-step",5),I.Oc(64,Ma,1,0,"ng-template",7),I.Ub(65,"fury-data-breach-personal-data-itemised",26),I.cc("personalDataEvent",function(t){return e.onPersonalDataChange(t)}),I.Tb(),I.Tb(),I.Ub(66,"mat-step",5),I.Ub(67,"form",6),I.Oc(68,Qa,1,0,"ng-template",7),I.Ub(69,"fieldset"),I.Ub(70,"legend"),I.Qc(71," Containment & Recovery"),I.Tb(),I.Ub(72,"div",8),I.Ub(73,"mat-checkbox",27),I.Qc(74," Has any action been taken to minimise/mitigate the effect on the affected individuals? "),I.Tb(),I.Ub(75,"div",9),I.Ub(76,"mat-form-field",14),I.Ub(77,"mat-label"),I.Qc(78,"Details Of Action Taken"),I.Tb(),I.Pb(79,"textarea",28,16),I.Ub(81,"mat-hint"),I.Qc(82,"Provide details taken to minimise/mitigate the effect."),I.Tb(),I.Tb(),I.Tb(),I.Ub(83,"mat-checkbox",29),I.Qc(84," Has the data placed at risk now been recovered? "),I.Tb(),I.Ub(85,"div",9),I.Ub(86,"mat-form-field",14),I.Ub(87,"mat-label"),I.Qc(88,"Data recovery details"),I.Tb(),I.Pb(89,"textarea",30,16),I.Ub(91,"mat-hint"),I.Qc(92,"If so, please provide details of how and when this occurred. "),I.Tb(),I.Tb(),I.Tb(),I.Ub(93,"mat-form-field",10),I.Ub(94,"mat-label"),I.Qc(95,"Select date of data recovery"),I.Tb(),I.Ub(96,"input",31),I.cc("click",function(){return I.Ec(t),I.Ac(101).open()})("focus",function(){return I.Ec(t),I.Ac(101).open()}),I.Tb(),I.Pb(97,"mat-datepicker-toggle",12),I.Ub(98,"mat-hint"),I.Qc(99,"When did the recovery occur?"),I.Tb(),I.Pb(100,"mat-datepicker",null,32),I.Tb(),I.Ub(102,"div",9),I.Ub(103,"mat-form-field",14),I.Ub(104,"mat-label"),I.Qc(105,"Prevention Steps"),I.Tb(),I.Pb(106,"textarea",33,16),I.Ub(108,"mat-hint"),I.Qc(109,"What steps have been taken to prevent a recurrence of this incident ? "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Pb(110,"br"),I.Ub(111,"fieldset"),I.Ub(112,"legend"),I.Qc(113," Miscellaneous"),I.Tb(),I.Ub(114,"div",8),I.Ub(115,"mat-checkbox",34),I.Qc(116," Has any action been taken to minimise/mitigate the effect on the affected individuals? "),I.Tb(),I.Ub(117,"mat-checkbox",35),I.Qc(118," Has any action been taken to minimise/mitigate the effect on the affected individuals? "),I.Tb(),I.Tb(),I.Tb(),I.Pb(119,"br"),I.Ub(120,"div",23),I.Ub(121,"button",36),I.Qc(122,"PREVIOUS"),I.Tb(),I.Ub(123,"button",25),I.Qc(124," NEXT "),I.Tb(),I.Tb(),I.Tb(),I.Tb(),I.Ub(125,"mat-step",5),I.Oc(126,Ea,1,0,"ng-template",7),I.Ub(127,"fury-data-breach-impact",37),I.cc("impactOfBreachEvent",function(t){return e.onChangeBreachImpact(t)}),I.Tb(),I.Pb(128,"br"),I.Ub(129,"fury-data-breach-potential-consquences",38),I.cc("consquenceEvent",function(t){return e.onChangeConsquenceEvent(t)}),I.Tb(),I.Pb(130,"br"),I.Oc(131,La,2,1,"button",39),I.Tb(),I.Oc(132,_a,42,3,"mat-step",40),I.Oc(133,Ga,4,3,"mat-step",40),I.Tb(),I.Tb(),I.Tb(),I.Tb()}if(2&t){const t=I.Ac(23),a=I.Ac(101);I.Cb(2),I.nc("@fadeInRight",void 0)("crumbs",I.qc(35,$a)),I.Cb(1),I.nc("@fadeInUp",void 0),I.Cb(1),I.nc("@fadeInUp",void 0),I.Cb(1),I.nc("linear",!0),I.Cb(2),I.nc("stepControl",e.breachDetails),I.Cb(1),I.nc("formGroup",e.breachDetails),I.Cb(10),I.nc("matDatepicker",t),I.Cb(1),I.nc("for",t),I.Cb(16),I.nc("ngForOf",e.causeOfBreaches),I.Cb(4),I.nc("checked",!1),I.Cb(17),I.nc("policies",e.application.policies)("isViewOnly",e.isViewOnly),I.Cb(3),I.nc("disabled",e.breachDetails.pristine),I.Cb(2),I.nc("disabled",e.breachDetails.invalid),I.Cb(2),I.nc("stepControl",e.personalData),I.Cb(2),I.nc("personalDataList",e.application.personalDataAffected)("isViewOnly",e.isViewOnly),I.Cb(1),I.nc("stepControl",e.containmentAndRecovery),I.Cb(1),I.nc("formGroup",e.containmentAndRecovery),I.Cb(6),I.nc("checked",!1),I.Cb(10),I.nc("checked",!1),I.Cb(13),I.nc("matDatepicker",a),I.Cb(1),I.nc("for",a),I.Cb(18),I.nc("checked",!1),I.Cb(2),I.nc("checked",!1),I.Cb(6),I.nc("disabled",e.containmentAndRecovery.invalid),I.Cb(2),I.nc("stepControl",e.additionalInfo),I.Cb(2),I.nc("impactOfBreaches",e.application.impactOfBreach)("isViewOnly",e.isViewOnly),I.Cb(2),I.nc("isViewOnly",e.isViewOnly)("consquences",e.application.potentialConsequences),I.Cb(2),I.nc("ngIf",e.isCompanyOfficer&&!e.isViewOnly),I.Cb(1),I.nc("ngIf",e.isOfficer),I.Cb(1),I.nc("ngIf",e.isOfficer)}},directives:[k.a,A.a,F.a,R.a,st.a,st.b,Y.v,Y.o,Y.h,st.c,ct.e,ct.f,rt.d,ct.b,rt.h,Y.c,lt.b,dt.b,Y.n,Y.g,dt.d,rt.j,rt.g,dt.a,ut.b,bt.a,n.n,M.a,Mt,ct.d,Q.a,st.e,ge,st.f,Ne,ua,n.o,Bt.m,Aa],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}legend[_ngcontent-%COMP%]{padding:5px}.hide[_ngcontent-%COMP%]{display:none}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}"],data:{animation:[x.a,U.a,et.a]}}),t})();const ja=[{path:"find/all",component:K,canActivate:[X.a],data:{roles:["find.breaches","view.breach"],action:"FIND"}},{path:"create",component:Ha,canActivate:[X.a],data:{roles:["report.breach","update.breach"],action:"EDIT"}},{path:"view",component:Ha,canActivate:[X.a],data:{roles:["find.breaches","view.breach"],action:"VIEW"}}];let Wa=(()=>{class t{}return t.\u0275mod=I.Mb({type:t}),t.\u0275inj=I.Lb({factory:function(e){return new(e||t)},imports:[[i.j.forChild(ja)],i.j]}),t})();var Ja=a("KthW"),Za=a("AyUp"),Ka=a("WCGO"),Xa=a("VCcF"),Ya=a("0jmt"),tn=a("QMK6"),en=a("VE2z"),an=a("6BeY"),nn=a("q8Jb");let on=(()=>{class t{}return t.\u0275mod=I.Mb({type:t}),t.\u0275inj=I.Lb({factory:function(e){return new(e||t)},imports:[[n.c,Wa,Y.i,Ja.a,Za.a,Y.s,Ka.a,Xa.a,Ya.a,tn.a,en.a,an.a,nn.a]]}),t})()}}]);