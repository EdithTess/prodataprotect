{"version":3,"sources":["webpack:///src/app/modules/complaints/components/complaint-pending-tasks/complaint-pending-tasks.component.ts","webpack:///src/app/modules/complaints/components/complaint-pending-tasks/complaint-pending-tasks.component.html","webpack:///src/app/modules/complaints/complaints.module.ts","webpack:///src/app/modules/complaints/components/view-complaint/view-complaint.component.ts","webpack:///src/app/modules/complaints/components/view-complaint/view-complaint.component.html","webpack:///src/app/modules/complaints/complaints-model.ts","webpack:///src/app/modules/complaints/components/data-complaint-personal-data-itemised/data-complaint-personal-data-itemised.component.ts","webpack:///src/app/modules/complaints/components/data-complaint-personal-data-itemised/data-complaint-personal-data-itemised.component.html","webpack:///src/app/modules/complaints/components/complaints-edit/complaints-edit.component.ts","webpack:///src/app/modules/complaints/components/complaints-edit/complaints-edit.component.html","webpack:///src/app/modules/complaints/components/complaints-find/complaints-find.component.ts","webpack:///src/app/modules/complaints/components/complaints-find/complaints-find.component.html","webpack:///src/app/modules/complaints/complaints-routing.module.ts"],"names":["$event","stopPropagation","ComplaintPendingTasksComponent","dialog","route","authService","router","_workflowService","registrationService","complaintService","routingService","subject$","data$","asObservable","$processingEvent","$errorsEvent","$resultComplaintsEvent","statusList","pageIndex","complaintsTablePageIndex","pageSize","subscriptions","statuses","code","description","columns","name","property","visible","isModelProperty","dataSource","map","complaint","console","log","getKeycloakInstance","realmRole","realmAccess","roles","paginator","getComplaints","paramMap","subscribe","params","has","getGenericDDL","key","label","defineSearchFields","setTimeout","result","complaints","data","isLoaded","value","trim","toLowerCase","filter","searchFields","fieldName","operators","dataType","TEXT","lookupOptions","multiple","DATETIME","getComplaintPendingTasks","navigate","state","ComplaintTrackingNumber","ComplaintTrackingNo","then","ComplaintSourceID","event","column","onFilterChange","onPaginateChange","selector","templateUrl","styleUrls","animations","sort","autosize","ComplaintsModule","declarations","imports","ViewComplaintComponent","formBuilder","activateRoute","bottomsheet","application","personalData","complaintReasons","list","displayColumns","resolutionComments","_gap","gap","col2","col3","operationType","routeConfig","action","getCurrentNavigation","extras","isEditMode","comments","isViewOnly","initForm","getComplaint","mapFields","disableFieldsByStatus","disableAllControls","isApplicationValid","PersonalDataAffected","ReasonsForComplaint","EvidenceOfComplaint","document","Document","Name","Size","Base64","complaintForm","get","setValue","FullDetailsOfComplaint","RemedialActions","FirstName","LastName","PhoneNumber","EmailAddress","ComplainerCategory","OrganisationComplainedToName","ContactPersonFirstName","ContactPersonLastName","ContactPersonEmailAddress","group","personalDataAffected","compose","required","reasonForTheComplaint","complaintDetails","remedialActions","dataSubjectName","dataSubjectPhone","dataSubjectEmail","ContactFirstName","ContactLastName","ContactEmailAddress","OrganisationComplainedTo","OtherOrganisationComplainedTo","ComplaintCategory","OrganisationComplainedFrom","OtherOrganisationComplainedFrom","lastModificationDate","bottomsheetRef","open","disableClose","panelClass","url","title","status","disable","operation","onReadDocument","ComplaintModel","BreachModel","$DataAffectedCategoryModel","DataAffectedCategoryModel","DataAffectedSubCategoryModel","Complaint","ComplaintID","ComplaintSourceName","EmailAdress","FormName","FormID","HaveComplainedToOrganisationAlready","PhysicalAddress","ReasonForTheComplaint","PersonalDataModel","PersonalData","COMPLAINT_JSON","NATIONALITY","AGE","COMPLAINT_DEMO_DATA","BREACHES_JSON","BREACH_JSON","DataComplaintPersonalDataItemisedComponent","fb","auth","utilService","snackBar","personalDataEvent","errors","dataCategories","$dataCategories","$subCategories","buttonIcon","buttonLabel","isEditingPersonalData","tableEditable","personalDataIndex","personalNumber","initForms","personalDataList","forEach","push","getSampleJson","initMainObject","personalDataFormGroup","dataCategory","dataSubCategory","toWhatExtent","affectedIndividuals","recordsInvolved","individualAwareness","individualComplain","option","valid","checkForDuplicates","snackBarAlert","duration","mapFormControlToControl","resetPersonalData","emit","reset","validatePolicyLabels","managePersonalData","category","categories","find","subCategories","element","enable","length","id","_personalData","item","index","splice","formValid","ComplaintsEditComponent","endpoints","http","service","allDialogRef","sub$","dat$","ActionTakenCheckboxValue","disableResolve","disableForward","processing","isDirector","manageRequestForInfo","RequestedInforamationTrack","DataSubjectsCategories","permittedActions","accesses","resourceAccess","sampleJson","includes","httpSub","GetComplaintRequestForInfo","pipe","handleError","response","error","StatusID","TechnicalComments","LegalComments","MoreInformation","ComplaintEvidence","TechnicalForwardedComments","LegalForwardedComments","MoreInformationRequired","checked","SubjectName","SplitNames","split","ComplainantFirstName","ComplainantLastName","ComplainantEmailAddress","ComplainantPhoneNumber","ComplainantPhysicalAddress","IsCustomerToOrganisation","Organisation","ContactPhoneNumber","width","height","Status","afterClosed","dialogResult","dialogRef","post","updateComplaintStatus","getFormData","message","closeAll","technicalErrorResponse","determineErrorResponse","statusID","updateComplaint","indexOf","row","CheckComplaintRequestForInfo","Comments","RequestedInformation","RequestCategory","download","onPreviewForm","ComplaintsFindComponent","routes","path","component","canActivate","ComplaintsRoutingModule","forChild","exports"],"mappings":"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","file":"modules-complaints-complaints-module-es5.js","sourcesContent":["import {AfterViewInit,EventEmitter, Component, Input, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Complaint, COMPLAINT_DEMO_DATA} from '../../complaints-model';\nimport {\n    DataType,\n    DateFinderOptions,\n    IFinderField,\n    ListColumn,\n    LookupFinderOptions,\n    TextFinderOptions\n} from '../../../../../@fury/shared/list/list-column.model';\nimport { Subscription} from 'rxjs';\nimport {MatTableDataSource} from '@angular/material/table';\nimport {MatPaginator} from '@angular/material/paginator';\nimport {MatSort} from '@angular/material/sort';\nimport {MatDialog} from '@angular/material/dialog';\nimport {Observable, of, ReplaySubject} from 'rxjs';\nimport {filter} from 'rxjs/operators';\nimport {fadeInRightAnimation} from '../../../../../@fury/animations/fade-in-right.animation';\nimport {fadeInUpAnimation} from '../../../../../@fury/animations/fade-in-up.animation';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {BaseFuryForm} from '../../../../../@fury/shared/base-fury-form';\nimport {CdkTextareaAutosize} from '@angular/cdk/text-field';\nimport {KeycloakService} from 'keycloak-angular';\nimport {ComplaintService} from '../../complaints.service';\nimport {WorkflowServiceService} from '../../../../services/workflow-service.service';\nimport {CompanyRegistrationService} from '../../../company-registration/company-registration.service';\nimport { RoutingService } from '../../../../services/routing.service';\n\n\n\n\n@Component({\n  selector: 'fury-complaint-pending-tasks',\n  templateUrl: './complaint-pending-tasks.component.html',\n  styleUrls: ['./complaint-pending-tasks.component.scss'],\n\n  animations: [fadeInRightAnimation, fadeInUpAnimation]\n})\nexport class ComplaintPendingTasksComponent extends BaseFuryForm implements OnInit, AfterViewInit, OnDestroy  {\n\n  // TODO:: Simulating a service with http that returns observables\n  subject$: ReplaySubject<Complaint[]> = new ReplaySubject<Complaint[]>(1);\n  data$: Observable<Complaint[]> = this.subject$.asObservable();\n  complaints: Complaint[];\n  $processingEvent: EventEmitter<boolean> = new EventEmitter();\n  $errorsEvent: EventEmitter<any> = new EventEmitter();\n  $resultComplaintsEvent: EventEmitter<Complaint> = new EventEmitter();\n  statusList: any[] = [];\n  pageIndex = this.routingService.complaintsTablePageIndex\n  pageSize = 10;\n  realmRole: string;\n  subscriptions: Subscription[] = [];\n  statuses: any = [\n      {code: '001', description: 'Form 9'},\n      {code: '002', description: 'FORM 6'},\n      {code: '003', description: 'FORM 11'}\n  ];\n\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\n  @ViewChild(MatSort, {static: true}) sort: MatSort;\n  @Input()\n\n\n\n  columns: ListColumn[] = [\n      {name: 'Complaint Tracking Number', property: 'ComplaintTrackingNo', visible: true, isModelProperty: true},\n      {name: 'Complaint Source', property: 'ComplaintSourceName', visible: true, isModelProperty: true},\n      {name: 'Type of Complaint', property: 'FormName', visible: true, isModelProperty: true},\n      {name: 'Email Address', property: 'EmailAddress', visible: true, isModelProperty: true},\n      {name: 'First Name', property: 'FirstName', visible: true, isModelProperty: true},\n      {name: 'Last Name', property: 'LastName', visible: true, isModelProperty: true},\n      {name: 'Phone Number', property: 'PhoneNumber', visible: true, isModelProperty: true},\n      {name: 'Have Complained to Organisation?', property: 'HaveComplainedToOrganisationAlready', visible: true, isModelProperty: true},\n      {name: 'Organisation Complained To', property: 'OrganisationComplainedToName', visible: true, isModelProperty: true},\n      {name: 'Complaint Timeline', property: 'Status', visible: true, isModelProperty: true},\n      {name: 'Actions', property: 'actions', visible: true},\n  ] as ListColumn[];\n\n  dataSource: MatTableDataSource<Complaint> =  new MatTableDataSource<Complaint>();\n\n  // Search fields\n  searchFields: IFinderField[];\n\n  @ViewChild('autosize') autosize: CdkTextareaAutosize;\n\n  \n  constructor(\n    private dialog: MatDialog,\n    private route: ActivatedRoute, \n    public authService: KeycloakService,\n    private router: Router,\n    public _workflowService: WorkflowServiceService,\n    public registrationService: CompanyRegistrationService,\n    public complaintService: ComplaintService,\n    private routingService : RoutingService\n) {\n    super(\n        authService,\n        _workflowService, registrationService, \n        complaintService\n    );\n}\n\n\n\n\n\n // TODO:: Need to hide addressedTo Column from data controllers its mainly for nita data-protection officers\n get visibleColumns() {\n  return this.columns.filter(column => column.visible).map(column => column.property);\n}\n\ngetData() {\n  return of(COMPLAINT_DEMO_DATA.map(complaint => new Complaint(complaint)));\n}\n\nngOnInit(): void {\n  console.log(this.authService.getKeycloakInstance());\n  this.realmRole = this.authService.getKeycloakInstance().realmAccess.roles[0]\n  console.log(this.realmRole);\n  console.log(this.pageIndex);    \n\n\n  this.dataSource.paginator = this.paginator;\n\n  this.getComplaints();\n  console.log(this.getComplaints);\n\n\n\n\n  this.route.paramMap.subscribe(params => {\n      console.log(params.has('navigationPrams'));\n  });\n\n  this.statusList = this.getGenericDDL(this.statuses, {key: 'code', label: 'description'}, false);\n\n  this.defineSearchFields();\n\n \n  \n\n}\n\nngAfterViewInit() {\n\n  setTimeout(() =>{\n\n      this.paginator.pageIndex = this.pageIndex;\n        // complaints\n      this.subscriptions['$resultComplaintsEvent'] = this.$resultComplaintsEvent.subscribe(result => {\n          if (result) {\n              \n              this.complaints = result;\n      \n\n              this.dataSource.data = result;\n      \n              this.isLoaded = true;\n          }\n          else{\n              console.log(\"expected\");\n          }\n      });\n  }, 0)\n\n}\n\nonFilterChange(value) {\n  if (!this.dataSource) {\n      return;\n  }\n  value = value.trim();\n  value = value.toLowerCase();\n  this.dataSource.filter = value;\n}\n\nngOnDestroy(): void {\n}\n\nprivate defineSearchFields() {\n  this.searchFields = [\n      {\n          label: 'Complaint reference #',\n          fieldName: 'complaintReference',\n          operators: TextFinderOptions,\n          dataType: DataType.TEXT\n      },\n      {\n          label: 'Data subject',\n          fieldName: 'subjectNames',\n          operators: TextFinderOptions,\n          dataType: DataType.TEXT\n      },\n      {\n          label: 'Form Types',\n          fieldName: 'Form',\n          operators: LookupFinderOptions,\n          dataType: DataType.TEXT,\n          lookupOptions: this.statusList,\n          multiple: true\n      },\n      {\n          label: 'Reason for the complaint',\n          fieldName: 'type',\n          operators: TextFinderOptions,\n          dataType: DataType.TEXT\n      },\n      {\n          label: 'Filed Against',\n          fieldName: 'compliantAgainst',\n          operators: TextFinderOptions,\n          dataType: DataType.TEXT\n      },\n      {\n          label: 'Registration date',\n          fieldName: 'registrationDate',\n          operators: DateFinderOptions,\n          dataType: DataType.DATETIME\n      },\n  ];\n}\n\ngetComplaints() {\n  // tslint:disable-next-line:max-line-length\n  this.complaintService.getComplaintPendingTasks(this.$processingEvent, this.$resultComplaintsEvent, this.$errorsEvent, this.realmRole);\n}\n\nviewComplaint(complaint) {\n \n  this.router.navigate(['/complaints/view-complaint'],\n      {state: {ComplaintTrackingNumber: complaint.ComplaintTrackingNo}}).then( );\n}\n\nmanageComplaint (complaint) {\n\n  this.routingService.complaintsTablePageIndex = this.pageIndex;\n \n  this.router.navigate(['/complaints/complaints-edit'],\n      {state: {ComplaintTrackingNumber: complaint.ComplaintTrackingNo,\n                  ComplaintSourceID : complaint.ComplaintSourceID}}).then( );\n    \n}\n\nonPaginateChange(event){\n\n  this.pageIndex =  event.pageIndex;\n  console.log(this.pageIndex);\n\n}\n\n}\n","<fury-page-layout mode=\"card\">\n    <fury-page-layout-header>\n        <fury-breadcrumbs [@fadeInRight] [crumbs]=\"['Complaints']\" current=\"Find\"></fury-breadcrumbs>\n    </fury-page-layout-header>\n\n    <fury-page-layout-content [@fadeInUp]>\n        <fury-list name=\"Complaints\" [columns]=\"columns\" (filterChange)=\"onFilterChange($event)\"\n                   finderDialogTitle=\"Complaints Finder\"\n                   [searchFields]=\"searchFields\">\n            <table [dataSource]=\"dataSource\" mat-table matSort>\n                <ng-container matColumnDef=\"checkbox\">\n                    <th *matHeaderCellDef class=\"actions-cell\" mat-header-cell>\n                        <mat-checkbox color=\"primary\" (click)=\"$event.stopPropagation()\"></mat-checkbox>\n                    </th>\n                    <td *matCellDef=\"let row\" class=\"actions-cell\" mat-cell>\n                        <mat-checkbox color=\"primary\" (click)=\"$event.stopPropagation()\"></mat-checkbox>\n                    </td>\n                </ng-container>\n\n                <!-- fullName Column -->\n                <ng-container *ngFor=\"let column of columns\">\n                    <ng-container *ngIf=\"column.isModelProperty\" [matColumnDef]=\"column.property\">\n                        <th *matHeaderCellDef mat-header-cell mat-sort-header> {{ column.name }}</th>\n                        <td *matCellDef=\"let row\" mat-cell>\n                            {{ row[column.property] }}\n                        </td>\n                    </ng-container>\n                </ng-container>\n\n                <ng-container matColumnDef=\"actions\">\n                    <th *matHeaderCellDef class=\"actions-cell\" mat-header-cell mat-sort-header></th>\n                    <td *matCellDef=\"let row\" class=\"actions-cell\" mat-cell>\n                        <button type=\"button\" mat-icon-button [matMenuTriggerFor]=\"actionsMenu\"\n                                (click)=\"$event.stopPropagation()\">\n                            <mat-icon>more_vert</mat-icon>\n                        </button>\n\n                        <mat-menu #actionsMenu=\"matMenu\" yPosition=\"below\" xPosition=\"before\">\n                            <!-- <button (click)=\"viewComplaint(row)\"  mat-menu-item\n                                routerLinkActive=\"router-link-active\">\n                                <mat-icon>visibility</mat-icon>\n                                <span>View</span>\n                            </button> -->\n                            <button (click)=\"manageComplaint(row, $event)\" mat-menu-item routerLinkActive=\"router-link-active\">\n                                <mat-icon>settings</mat-icon>\n                                <span>Manage</span>\n                            </button>\n                        </mat-menu>\n                    </td>\n                </ng-container>\n                <tr *matHeaderRowDef=\"visibleColumns\" mat-header-row></tr>\n                <tr\n                        *matRowDef=\"let row; columns: visibleColumns;\"\n                        class=\"clickable route-animations-elements\"\n                        mat-row></tr>\n            </table>\n            <mat-paginator  [pageSize]=\"pageSize\" (page)=\"onPaginateChange($event)\"></mat-paginator>\n        </fury-list>\n    </fury-page-layout-content>\n</fury-page-layout>\n\n\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\n\nimport {ComplaintsRoutingModule} from './complaints-routing.module';\nimport {ComplaintsFindComponent} from './components/complaints-find/complaints-find.component';\nimport {ViewComplaintComponent} from './components/view-complaint/view-complaint.component';\nimport {BreadcrumbsModule} from '../../../@fury/shared/breadcrumbs/breadcrumbs.module';\nimport {FurySharedModule} from '../../../@fury/fury-shared.module';\nimport {ListModule} from '../../../@fury/shared/list/list.module';\nimport {CustomerCreateUpdateModule} from '../../pages/tables/all-in-one-table/customer-create-update/customer-create-update.module';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {MaterialModule} from '../../../@fury/shared/material-components.module';\nimport { ComplaintsEditComponent } from './components/complaints-edit/complaints-edit.component';\nimport { FormElementsRoutingModule } from '../../pages/forms/form-elements/form-elements-routing.module';\nimport { MatGridListModule } from '@angular/material/grid-list';\n// import { FormElementsRoutingModule } from 'src/app/pages/forms/form-elements/form-elements-routing.module';\nimport { HighlightModule } from '../../../@fury/shared/highlightjs/highlight.module';\n// import { HighlightModule } from 'src/@fury/shared/highlightjs/highlight.module';\nimport { FuryCardModule } from '../../../@fury/shared/card/card.module';\n// import { FuryCardModule } from 'src/@fury/shared/card/card.module';\nimport {CommentsModule} from '../../layout/comments/comments.module';\nimport {FormWizardRoutingModule} from '../../pages/forms/form-wizard/form-wizard-routing.module';\n// import { DataComplaintPersonalDataItemisedComponent } from './components/data-complaint-personal-data-itemised/data-complaint-personal-data-itemised.component';\n\nimport { MatTableModule } from '@angular/material/table';\nimport { DataComplaintPersonalDataItemisedComponent } from './components/data-complaint-personal-data-itemised/data-complaint-personal-data-itemised.component';\nimport { ComplaintPendingTasksComponent } from './components/complaint-pending-tasks/complaint-pending-tasks.component';\n\n\n\n@NgModule({\n    declarations: [ComplaintsFindComponent, ViewComplaintComponent,ComplaintsEditComponent, DataComplaintPersonalDataItemisedComponent, ComplaintPendingTasksComponent],\n    imports: [\n        MatTableModule,\n        CommonModule,\n        ComplaintsRoutingModule,\n        MaterialModule,\n        FurySharedModule,\n        FormElementsRoutingModule,\n        ReactiveFormsModule,\n        FormWizardRoutingModule,\n        MatGridListModule,\n        // Core\n        ListModule,\n        CommentsModule,\n        HighlightModule,\n        FuryCardModule,\n        CustomerCreateUpdateModule,\n        BreadcrumbsModule\n    ]\n})\nexport class ComplaintsModule {\n}\n","// import { Component, OnInit } from '@angular/core';\nimport {AfterViewInit,EventEmitter, Component, Input, OnDestroy, OnInit, ViewChild} from '@angular/core';\n// import {Component, OnInit, ViewChild} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {BaseFuryForm} from '../../../../../@fury/shared/base-fury-form';\nimport {Complaint, COMPLAINT_JSON, ComplaintModel, PersonalDataAffected, RemedialActions} from '../../complaints-model';\nimport {fadeInRightAnimation} from '../../../../../@fury/animations/fade-in-right.animation';\nimport {fadeInUpAnimation} from '../../../../../@fury/animations/fade-in-up.animation';\nimport {scaleInAnimation} from '../../../../../@fury/animations/scale-in.animation';\nimport {CdkTextareaAutosize} from '@angular/cdk/text-field';\nimport {Observable, of, ReplaySubject} from 'rxjs';\nimport { DocumentComment } from '../../../../../@fury/shared/base-fury-form.model';\nimport {KeycloakService} from 'keycloak-angular';\nimport {WorkflowServiceService} from '../../../../services/workflow-service.service';\nimport {CompanyRegistrationService} from '../../../company-registration/company-registration.service';\nimport { ComplaintService } from '../../complaints.service';\nimport { Subscription} from 'rxjs';\nimport { MatSelect } from '@angular/material/select';\nimport { ThrowStmt } from '@angular/compiler';\nimport {FileUpload} from '../../../../services/api.model';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { ViewPdfDocumentBottomsheetComponent } from '../../../../layout/bottomsheets/view-pdf-document-bottomsheet/view-pdf-document-bottomsheet.component';\n\n\n\n@Component({\n  selector: 'fury-view-complaint',\n  templateUrl: './view-complaint.component.html',\n  styleUrls: ['./view-complaint.component.scss'],\n  animations: [fadeInRightAnimation, fadeInUpAnimation]\n})\nexport class ViewComplaintComponent extends BaseFuryForm implements OnInit {\n\n  // Simulating A Service\n  subject$: ReplaySubject<ComplaintModel> = new ReplaySubject<ComplaintModel>(1);\n  data$: Observable<ComplaintModel> = this.subject$.asObservable();\n  complaints: Complaint[];\n  $processingEvent: EventEmitter<boolean> = new EventEmitter();\n  $errorsEvent: EventEmitter<any> = new EventEmitter();\n  $resultComplaintsEvent: EventEmitter<Complaint> = new EventEmitter();\n  ComplaintTrackingNumber: string;\n  subscriptions: Subscription[] = [];\n  selectedValue: string;\n  document: FileUpload | null;\n  bottomsheetRef;\n\n  complaintForm: FormGroup;\n\n  @ViewChild('autosize') autosize: CdkTextareaAutosize;\n  //MAin object\n  application: ComplaintModel = new ComplaintModel();\n  //array\n  personalData: any[] = [];\n  complaintReasons: any[] = [];\n  list = [];\n  displayColumns: string [] = ['nber', 'impact', 'actions'];\n  resolutionComments: any[] = [];\n\n  private _gap = 16;\n  gap = `${this._gap}px`;\n  col2 = `1 1 calc(50% - ${this._gap / 2}px)`;\n  col3 = `1 1 calc(33.3333% - ${this._gap / 1.5}px)`;\n\n  constructor(\n      private formBuilder: FormBuilder,\n      private activateRoute: ActivatedRoute,\n      private route: Router,\n      private bottomsheet: MatBottomSheet,\n      public authService: KeycloakService,\n      public _workflowService: WorkflowServiceService,\n      public registrationService: CompanyRegistrationService,\n      public complaintService: ComplaintService\n  ) {\n      super(\n          authService,\n          _workflowService,\n          registrationService,\n          complaintService\n      );\n      this.operationType = activateRoute.routeConfig.data.action;\n      this.ComplaintTrackingNumber = this.route.getCurrentNavigation().extras.state.ComplaintTrackingNumber;\n      console.log(this.ComplaintTrackingNumber);\n      console.log(this.operationType);\n      if (this.operationType === 'EDIT') {\n          this.isEditMode = true;\n          this.application.comments = [];\n      } else if (this.operationType === 'CREATE') {\n          this.isEditMode = false;\n          this.application.comments = [];\n      } else if (this.operationType === 'VIEW') {\n          this.isEditMode = false;\n          this.isViewOnly = true;\n      }\n  }\n\n  ngOnInit(): void {\n      // InitForm\n      this.initForm();\n\n      this.getComplaint();\n\n      // complaints\n      this.subscriptions['$resultComplaintsEvent'] = this.$resultComplaintsEvent.subscribe(result => {\n        if (result) {\n \n          this.application= result;\n          console.log(this.application);\n       \n          this.mapFields();\n        }\n      });\n\n     \n      this.disableFieldsByStatus();\n      if (this.isViewOnly) {\n          this.disableAllControls();\n      }\n  }\n\n  mapFields() {\n      this.isApplicationValid = true;\n    \n      this.personalData = this.application.PersonalDataAffected;\n      this.complaintReasons = this.application.ReasonsForComplaint;\n      console.log(this.application.EvidenceOfComplaint);\n\n      this.document = { \n        Document: null, \n        Name: 'Complaint Evidence.pdf', \n        Size: null, \n        Base64: this.application.EvidenceOfComplaint\n    };\n    console.log(this.document);\n     \n   \n\n      this.complaintForm.get('reasonForTheComplaint').setValue(this.application.ReasonsForComplaint);\n      this.complaintForm.get('complaintDetails').setValue(this.application.FullDetailsOfComplaint);\n      this.complaintForm.get('remedialActions').setValue(this.application.RemedialActions);\n      this.complaintForm.get('lastModificationDate').setValue(this.application.FirstName);\n      this.complaintForm.get('dataSubjectName').setValue(this.application.FirstName + ' ' + this.application.LastName);\n      this.complaintForm.get('dataSubjectPhone').setValue(this.application.PhoneNumber);\n      this.complaintForm.get('dataSubjectEmail').setValue(this.application.EmailAddress);\n      this.complaintForm.get('ComplaintCategory').setValue(this.application.ComplainerCategory);\n      this.complaintForm.get('OrganisationComplainedTo').setValue(this.application.OrganisationComplainedToName);\n      this.complaintForm.get('ContactFirstName').setValue(this.application.ContactPersonFirstName);\n      this.complaintForm.get('ContactLastName').setValue(this.application.ContactPersonLastName);\n      this.complaintForm.get('ContactEmailAddress').setValue(this.application.ContactPersonEmailAddress);\n\n      \n  }\n\n  initForm() {\n      this.complaintForm = this.formBuilder.group({\n          personalDataAffected: ['', Validators.compose([Validators.required])],\n          reasonForTheComplaint: ['', Validators.compose([Validators.required])],\n          complaintDetails: ['', Validators.compose([Validators.required])],\n          remedialActions: ['', Validators.compose([Validators.required])],\n          dataSubjectName: ['', Validators.compose([Validators.required])],\n          dataSubjectPhone: ['', Validators.compose([Validators.required])],\n          dataSubjectEmail: ['', Validators.compose([Validators.required])],\n          ContactFirstName: ['', Validators.compose([Validators.required])],\n          ContactLastName: ['', Validators.compose([Validators.required])],\n          ContactEmailAddress: ['', Validators.compose([Validators.required])],\n          OrganisationComplainedTo: ['', Validators.compose([Validators.required])],\n          OtherOrganisationComplainedTo: ['', Validators.compose([Validators.required])],\n          ComplaintCategory: ['', Validators.compose([Validators.required])],\n          OrganisationComplainedFrom: ['', Validators.compose([Validators.required])],\n          OtherOrganisationComplainedFrom: ['', Validators.compose([Validators.required])],\n          lastModificationDate: []\n      });\n  }\n\n  onReadDocument(): void {\n    // console.log('document:', document);\n    this.bottomsheetRef = this.bottomsheet.open(ViewPdfDocumentBottomsheetComponent, {\n        disableClose: true,\n        panelClass: ['view-pdf-document-bottomsheet', 'bottomsheets'],\n        data: {\n          url: this.document.Base64,\n          title: this.document.Name\n        }\n    });      \n}\n\n  disableFieldsByStatus() {\n      if (this.application\n          && this.application.status !== 'NEW' && this.application.status !== 'STORED'\n          && this.application.status === 'ISSUED') {\n          this.disableAllControls();\n      }\n  }\n\n  disableAllControls() {\n      this.complaintForm.disable();\n  }\n\n  onCommentChange(comments: DocumentComment[]) {\n      if (comments) {\n          this.application.comments = comments;\n      }\n  }\n\n  formTriggler(operation: string) {\n      switch (operation) {\n          case 'EDIT':\n              break;\n          case 'CREATE':\n              break;\n          case  'VIEW':\n              this.isViewOnly = true;\n              break;\n      }\n  }\n\n  getComplaint() {\n    // tslint:disable-next-line:max-line-length\n    this.complaintService.getComplaint(this.ComplaintTrackingNumber,this.$processingEvent, this.$resultComplaintsEvent, this.$errorsEvent);\n}\n\n  get getSampleJson() {\n      return of(COMPLAINT_JSON);\n  }\n\n}\n","\n<fury-page-layout mode=\"card\">\n    <fury-page-layout-header>\n        <fury-breadcrumbs [@fadeInRight] [crumbs]=\"['Complaints']\"\n                          current=\"View\"></fury-breadcrumbs>\n    </fury-page-layout-header>\n\n    <fury-page-layout-content [fxLayoutGap]=\"gap\" fxLayout=\"column\">\n        <div [fxLayoutGap]=\"gap\" fxFlex=\"noshrink\" fxLayout=\"column\" fxLayout.gt-sm=\"row\"\n             fxLayoutAlign.gt-sm=\"start stretch\">\n            <fury-card [fxFlex.gt-sm]=\"col2\"\n                       class=\"basic-forms route-animations-elements\"\n                       [@fadeInUp]\n                       fxFlex=\"grow\">\n                <fury-card-header>\n                    <fury-card-header-heading>Complaint Information</fury-card-header-heading>\n                </fury-card-header>\n                <fury-card-content fxLayout=\"column\" class=\"form-padding\">\n\n                    <form [formGroup]=\"complaintForm\">\n\n                        <fieldset>\n                            <legend>Data Subject Details</legend>\n                            <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Data subject name</mat-label>\n                                    <input formControlName=\"dataSubjectName\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Data Subject Email</mat-label>\n                                    <input formControlName=\"dataSubjectEmail\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Data Subject Phone</mat-label>\n                                    <input formControlName=\"dataSubjectPhone\" matInput>\n                                </mat-form-field>\n                            </div>\n                        </fieldset>\n\n                        <fieldset>\n                            <legend>Data Subject Organisation</legend>\n                            <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                            <mat-form-field fxFlex=\"2 1 auto\">\n                                <mat-label>Who are you complaining as</mat-label>\n                                <input formControlName=\"ComplaintCategory\" matInput>\n                            </mat-form-field>\n\n                            <mat-form-field fxFlex=\"2 1 auto\" *ngIf=\"application.ComplainerCategory === 'individual'\">\n                                <mat-label>Organisation Complained From</mat-label>\n                                <input formControlName=\"OrganisationComplainedFrom\" matInput>\n                            </mat-form-field>\n\n                            <mat-form-field fxFlex=\"2 1 auto\" *ngIf=\"application.ComplainerCategory === 'individual'\">\n                                <mat-label>Other Organisation</mat-label>\n                                <input formControlName=\"OtherOrganisationComplainedFrom\" matInput>\n                            </mat-form-field>\n                            </div>\n                        </fieldset>\n\n                        <fieldset>\n                            <legend>Details Organisation complained To</legend>\n                            <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                                <mat-form-field fxFlex=\"2 1 auto\" >\n                                    <mat-label>Organisation Complained To</mat-label>\n                                    <input formControlName=\"OrganisationComplainedTo\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\" *ngIf=\"application.OrganisationComplainedTo == undefined\" >\n                                    <mat-label>Other Organisation Complained To</mat-label>\n                                    <input formControlName=\"OtherOrganisationComplainedTo\" matInput>\n                                </mat-form-field>                                  \n                            </div>\n                        </fieldset>\n\n                        <fieldset>\n                            <legend>Organisation Contact Person Details</legend>\n                            <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Contact First Name</mat-label>\n                                    <input formControlName=\"ContactFirstName\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Contact Last Name</mat-label>\n                                    <input formControlName=\"ContactLastName\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Contact Email</mat-label>\n                                    <input formControlName=\"ContactEmailAddress\" matInput>\n                                </mat-form-field>\n                            </div>\n                        </fieldset>\n\n                        <fieldset>\n                            <legend>Complaint in Brief</legend>\n                            <mat-label>Personal Data Affected</mat-label>\n                            <mat-grid-list cols=\"4\" rowHeight=\"4rem\">\n                                <mat-grid-tile *ngFor=\"let data of personalData\" >\n                                    {{data.DataSubCategoryName}}\n                                </mat-grid-tile>\n                               \n                            </mat-grid-list>\n                         \n                        </fieldset>\n\n                        <fieldset>\n                            <legend>General Complaint Info</legend>\n                            <div class=\"content\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n\n                                <!-- <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                                        \n                                    <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Type of complaint</mat-label>    \n                                    <mat-grid-list cols=\"4\" rowHeight=\"4rem\">\n                                        <mat-grid-tile>\n                                            <input formControlName=\"reasonForTheComplaint\" matInput>\n                                        </mat-grid-tile>\n                                    </mat-grid-list>    \n                                    </mat-form-field>\n                                </div>           -->\n\n                                <fieldset>\n                                    <legend>Complaint Reasons</legend>\n                                    <mat-label>Reasons for complaints</mat-label>\n                                    <mat-grid-list cols=\"4\" rowHeight=\"4rem\">\n                                        <mat-grid-tile *ngFor=\"let data of complaintReasons\" >\n                                            {{data.ComplaintReasonName}}\n                                        </mat-grid-tile>\n                                       \n                                    </mat-grid-list>\n                                 \n                                </fieldset>\n\n                                <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                                    <mat-form-field fxFlex=\"2 1 auto\" appearance=\"fill\">\n                                        <mat-label>Complaint Details</mat-label>\n                                        <textarea matInput\n                                                  cdkTextareaAutosize\n                                                  #autosize=\"cdkTextareaAutosize\"\n                                                  cdkAutosizeMinRows=\"1\"\n                                                  formControlName=\"complaintDetails\"\n                                                  cdkAutosizeMaxRows=\"5\"></textarea>\n                                    </mat-form-field>\n                                    \n                                </div>\n                            </div>\n\n                            <!-- <section class=\"expand-section reduced-properties table-wrapper margin documents\">\n                                <h1 class=\"full-width step-header\">Attach Proof of Complaint</h1> -->\n            \n                                <!-- <div class=\"buttons\">\n                                    <button \n                                        mat-button\n                                        *ngIf=\"proofOfPayment && (!isViewOnly || (_hasRequestMoreInfo && _updateProofOfPayment))\"\n                                        color=\"primary\"\n                                        [disabled]=\"processing\"\n                                        class=\"remove-button\"\n                                        (click)=\"onRemoveProofOfPaymen()\">\n                                        <div class=\"button-label\">\n                                            <mat-icon>clear</mat-icon>\n                                            <span> Remove Document </span>\n                                        </div>\n                                    </button>\n                                </div> -->\n                            <fieldset>\n                                <legend>Evidence Of Complaint</legend>\n                                <div class=\"uploaded-document\" matTooltip=\"Open Document\" (click)=\"onReadDocument()\">\n                                    <img src=\"./assets/img/pdf.png\" alt=\"\" [ngStyle]=\"{width: '100px', height: '100px'}\">\n            \n                                    <span>Document: {{ document.Name }} <span *ngIf=\"document.Size\">  -  {{ document.Size }} Mbs</span> </span>\n                                </div>\n    \n                                <p class=\"no-document-found\" *ngIf=\"document && !document.Base64\">No document found. Please attach</p>\n\n                            </fieldset>    \n            \n                                            \n                            <!-- </section> -->\n                        </fieldset>\n                    </form>\n                </fury-card-content>\n            </fury-card>\n\n        </div>\n\n        <fieldset>\n            <legend>Comments</legend>\n            <div class=\"content\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n\n                <fieldset>\n                    <legend>Forwarded Comments</legend>\n                    <div>\n                        <div>\n                            <mat-form-field fxFlex=\"2 1 auto\">\n                                <mat-label>Technical Comments</mat-label>\n                                <input formControlName=\"TechnicalForwardedComments\" matInput>\n                            </mat-form-field>\n                        </div>\n                        \n                        <div>\n                            <mat-form-field fxFlex=\"2 1 auto\">\n                                <mat-label>Legal Comments</mat-label>\n                                <input formControlName=\"LegalForwardedComments\" matInput>\n                            </mat-form-field>\n                        </div>\n\n                        <div>\n                            <mat-form-field fxFlex=\"2 1 auto\">\n                                <mat-label>More Information Required</mat-label>\n                                <input formControlName=\"MoreInformationRequired\" matInput>\n                            </mat-form-field>\n                        </div>\n                    </div> \n                </fieldset>\n\n                <!-- <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                        \n                    <mat-form-field fxFlex=\"2 1 auto\">\n                    <mat-label>Type of complaint</mat-label>    \n                    <mat-grid-list cols=\"4\" rowHeight=\"4rem\">\n                        <mat-grid-tile>\n                            <input formControlName=\"reasonForTheComplaint\" matInput>\n                        </mat-grid-tile>\n                    </mat-grid-list>    \n                    </mat-form-field>\n                </div>           -->\n\n                <fieldset>\n                    <legend>Investigation Comments</legend>\n                    <textarea matInput\n                        cdkTextareaAutosize\n                        #autosize=\"cdkTextareaAutosize\"\n                        cdkAutosizeMinRows=\"1\"\n                        formControlName=\"complaintDetails\"\n                        cdkAutosizeMaxRows=\"5\"\n                        >{{this.application.InvestigationComments}}</textarea>\n\n                </fieldset>\n\n                <fieldset>\n                    <legend>Resolution Comments</legend>\n                    <textarea matInput\n                        cdkTextareaAutosize\n                        #autosize=\"cdkTextareaAutosize\"\n                        cdkAutosizeMinRows=\"1\"\n                        formControlName=\"complaintDetails\"\n                        cdkAutosizeMaxRows=\"5\">{{this.application.ResolutionComments}}</textarea>\n\n                        <div>\n                            <fieldset>\n                                <legend>Resolution Document</legend>\n                                <div class=\"uploaded-document\" matTooltip=\"Open Document\" (click)=\"onReadDocument()\">\n                                    <img src=\"./assets/img/pdf.png\" alt=\"\" [ngStyle]=\"{width: '100px', height: '100px'}\">\n            \n                                    <span>Document: {{ document.Name }} <span *ngIf=\"document.Size\">  -  {{ document.Size }} Mbs</span> </span>\n                                </div>\n    \n                                <p class=\"no-document-found\" *ngIf=\"document && !document.Base64\">No document found. Please attach</p>\n\n                            </fieldset>\n                        </div>\n                </fieldset>\n\n                <!-- <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                    <mat-form-field fxFlex=\"2 1 auto\" appearance=\"fill\">\n                        <mat-label>Complaint Details</mat-label>\n                        <textarea matInput\n                                  cdkTextareaAutosize\n                                  #autosize=\"cdkTextareaAutosize\"\n                                  cdkAutosizeMinRows=\"1\"\n                                  formControlName=\"complaintDetails\"\n                                  cdkAutosizeMaxRows=\"5\"></textarea>\n                    </mat-form-field>\n                </div> -->\n            </div>\n        </fieldset>\n        <!-- <fieldset>\n            <fury-comments\n                    [applicationComments]=\"this.application.InvestigationComments\"\n                    [isViewOnly]=\"isViewOnly\"\n                    (commentChange)=\"onCommentChange($event)\">\n            </fury-comments>\n        </fieldset> -->\n    </fury-page-layout-content>\n</fury-page-layout>\n","// import {DocumentComment} from 'src/@fury/shared/base-fury-comment.model';\nimport { DocumentComment } from '../../../@fury/shared/base-fury-form.model';\nimport {DataSubjectModel} from '../models/data-subject.model';\n// import { DataAffectedCategoryModel } from '../models/personal-data-affected.model';\n// import { DataAffectedSubCategoryModel } from '../models/personal-data-affected.model';\n\n/*export class ComplaintModel {\n    id: any;\n    regNo:string;\n    personalDataAffected: string[];\n    reasonForTheComplaint: string;\n    complaintDetails: string;\n    remedialAction: string;\n    comments: DocumentComment[];\n    lastModificationDate: string;\n    status: string;\n    dataSubject: DataSubjectModel\n}\n*/\n\nexport class ComplaintModel {\n    ComplaintID: any;\n    ComplaintSourceID:number;\n    ComplaintTrackingNo: string;\n    ComplainerCategory:string;\n    EmailAddress: string;\n    FirstName: string;\n    FormID: number;\n    FullDetailsOfComplaint:string;\n    HaveComplainedToOrganisationAlready: string;\n    LastName: string;\n    OrganisationComplainedTo:number;\n    OrganisationComplainedToName:string;\n    OtherOrganisationComplainedTo: string;\n    ContactPersonFirstName:string;\n    ContactPersonLastName:string;\n    ContactPersonEmailAddress:string;\n    InvestigationComments:string;\n    ResolutionComments:string;\n    ForwardedComments: string;\n    PhoneNumber:string;\n    PhysicalAddress:string;\n    EvidenceOfComplaint:string;\n    ReasonsForComplaint:string[];\n    RemedialActions: string[];\n    PersonalDataAffected: string[];\n    // personalDataAffected?: PersonalDataModel[];\n    comments: DocumentComment[];\n    status: string;\n    StatusID:number;\n    personalDataAffected: string[];\n    reasonForTheComplaint: string;\n    complaintDetails: string;\n    remedialAction: string;\n    LegalComments: string;\n    TechnicalComments: string;\n    MoreInformation: string;\n    lastModificationDate: string;\n    dataSubject: DataSubjectModel\n}\n\nexport class BreachModel {\n    id?: string;\n    incidentDate?: string;\n    howIncidentHappened?: string;\n    delayInReporting?: boolean;\n    reasonForDelay?: string;\n    measuresInPlace?: string;\n    status?: string;\n    // policies?: PolicyModel[];\n    personalDataAffected?: PersonalDataModel[];\n    // containmentAndRecovery?: ContainmentAndRecoveryModel;\n    // miscellaneous?: MiscellaneousModel;\n    registrationDate?: string;\n    // impactOfBreach?: ImpactOfBreachModel[];\n    // potentialConsequences?: PotentialConsequenceModel[];\n    // controls?: BreachControlModel[];\n    // causes?: CauseOfBreach[];\n    companyReporting?: string;\n    reportedBy?: string;\n    assignedTo?: string;\n    lastModifiedDate?: string;\n    BreachStatusID: number;\n    TechnicalComments: string;\n    LegalComments:string;\n    ResolutionComments:string;\n\n}\n\n\nexport class $DataAffectedCategoryModel {\n    id: string;\n    name: string;\n    subCategories:DataAffectedSubCategoryModel[];\n}\n\nexport class DataAffectedCategoryModel {\n    id: string;\n    name: string;\n    subCategories:DataAffectedSubCategoryModel[];\n}\n\nexport class DataAffectedSubCategoryModel {\n    id: string;\n    value: string;\n}\n\n\n/*export class Complaint {\n    id: any;\n    regNo:string;\n    personalDataAffected: string[];\n    reasonForTheComplaint: string;\n    complaintDetails: string;\n    remedialAction: string;\n    comments: DocumentComment[];\n    lastModificationDate: string;\n    status: string;\n    dataSubject: DataSubjectModel;\n    name: string;\n    phone:string;\n    addressedTo:string;\n\n\n    constructor(complaint) {\n        this.id = complaint.id;\n        this.regNo = complaint.regNo;\n        this.remedialAction = complaint.remedialAction;\n        this.reasonForTheComplaint = complaint.reasonForTheComplaint;\n        this.addressedTo = complaint.addressedTo;\n        this.dataSubject = complaint.dataSubject;\n        this.personalDataAffected = complaint.personalDataAffected;\n        this.status = complaint.status;\n        this.complaintDetails = complaint.complaintDetails;\n        this.lastModificationDate = complaint.lastModificationDate;\n        this.name = complaint.dataSubject.name\n        this.phone = complaint.dataSubject.name;\n        this.comments = complaint.comments;\n    }\n} */\n\nexport class Complaint {\n    ComplaintID: any;\n    ComplaintSourceID:number;\n    ComplaintTrackingNo: string;\n    ComplaintSourceName: string;\n    FormName: string;\n    EmailAddress: string;\n    FirstName: string;\n    FormID: number;\n    FullDetailsOfComplaint:string;\n    HaveComplainedToOrganisationAlready: string;\n    LastName: string;\n    OrganisationComplainedTo:number;\n    OtherOrganisationComplainedTo: string;\n    PhoneNumber:string;\n    PhysicalAddress:string;\n    ReasonsForComplaint:string[];\n    RemedialActions: string[];\n    comments: DocumentComment[];\n    PersonalDataAffected: string[];\n\n\n    constructor(complaint) {\n        this.ComplaintID = complaint.ComplaintID;\n        this.ComplaintSourceID = complaint.ComplaintSourceID;\n        this.ComplaintTrackingNo = complaint.ComplaintTrackingNumber;\n        this.ComplaintSourceName = complaint.ComplaintSourceName;\n        this.EmailAddress = complaint.EmailAdress;\n        this.FormName = complaint.FormName;\n        this.FirstName = complaint.FirstName;\n        this.FormID = complaint.FormID;\n        this.FullDetailsOfComplaint = complaint.FullDetailsOfComplaint;\n        this.HaveComplainedToOrganisationAlready = complaint.HaveComplainedToOrganisationAlready;\n        this.LastName = complaint.LastName;\n        this.OrganisationComplainedTo = complaint.OrganisationComplainedTo;\n        this.OtherOrganisationComplainedTo = complaint.OtherOrganisationComplainedTo\n        this.PhoneNumber = complaint.PhoneNumber;\n        this.PhysicalAddress = complaint.PhysicalAddress;\n        this.ReasonsForComplaint = complaint.ReasonForTheComplaint;\n        this.RemedialActions = complaint.RemedialActions;\n        this.PersonalDataAffected = complaint.PersonalDataAffected;\n        this.comments = complaint.comments;\n    }\n} \n\nexport class PersonalDataModel {\n    dataCategory: DataAffectedCategoryModel;\n    dataSubCategory: DataAffectedSubCategoryModel[];\n    \n}\n\nexport class PersonalData {\n    personalDataCategory?: string;\n    extentDetails?: string;\n    \n    \n}\n    \n\nexport enum PersonalDataAffected {\n    NATIONALITY = 'Nationality',\n    AGE = 'Age / Date of Birth',\n    MARITAL_STATUS = 'Marital Status',\n    EDUCATION = 'Education Level',\n    IDENTIFICATION = 'Identification Number e.g NIN, TIN, Driving Permit Number',\n    IDENTITY_DATA = 'Identity Data',\n    PHILOSPHICAL_BELIEFS = 'Philosophical Beliefs',\n    POLITICAL_OPINION = 'Political Opinion',\n    SEXUAL_LIFE = 'Sexual Life',\n    FINANCIAL_INFORMATION = 'Financial Information',\n    MEDICAL = 'Medical Records'\n}\n\nexport enum RemedialActions {\n    CORRECT_THE_INFORMATION = 'Correct the information',\n    DELETE_OR_DESTROY_THE_INFORMATION = ' Delete or Destroy  The information',\n    NOTIFIY_THE_THIRD_PARTIES = 'Write to or notify the third parties whom then data has been shared'\n}\n\nexport const COMPLAINT_JSON = {\n    'id': 1,\n    'regNo':'C202100001',\n    'personalDataAffected': [PersonalDataAffected.NATIONALITY,PersonalDataAffected.AGE],\n    'status': 'Submitted',\n    'reasonForTheComplaint': 'Processing personal data without appropriate security measures',\n    'complaintDetails': 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using \\'Content here, content here\\', making it look like readable English. Many desktop publishing packages and web page editors.',\n    'remedialAction': 'Write to or notify the third parties with whom the data has been shared.',\n    'comments': [\n        {\n            'instanceId': 23,\n            'username': 'enmunyagwa',\n            'creationDate': '23-02-2021 18:20:20',\n            'comment': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'sd  Lorem Ipsum has been the industry'\n        },\n        {\n            'instanceId': 23,\n            'username': 'enmunyagwa',\n            'creationDate': '23-02-2021 18:20:20',\n            'comment': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\ Lorem Ipsum has been the industry'\n        }\n    ],\n    'lastModificationDate': '23-02-2021 18:20:20',\n    'dataSubject': {\n        'id':28372,\n        'name': 'Munyagwa Enock',\n        'phone': '0792310084',\n        'email': 'enmunyagwa@gmail.com'\n    }\n\n};\n\nexport const COMPLAINT_DEMO_DATA = [\n    {\n        'id': 1,\n        'regNo':'C202100001',\n        'addressedTo': 'Uganda Revenue Authority',\n        'personalDataAffected': [PersonalDataAffected.NATIONALITY,PersonalDataAffected.AGE],\n        'status': 'Submitted',\n        'reasonForTheComplaint': 'Processing personal data without appropriate security measures',\n        'complaintDetails': 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using \\'Content here, content here\\', making it look like readable English. Many desktop publishing packages and web page editors.',\n        'remedialAction': 'Write to or notify the third parties with whom the data has been shared.',\n        'comments': [\n            {\n                'instanceId': 23,\n                'username': 'enmunyagwa',\n                'creationDate': '23-02-2021 18:20:20',\n                'comment': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'sd  Lorem Ipsum has been the industry'\n            },\n            {\n                'instanceId': 23,\n                'username': 'enmunyagwa',\n                'creationDate': '23-02-2021 18:20:20',\n                'comment': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\ Lorem Ipsum has been the industry'\n            }\n        ],\n        'lastModificationDate': '23-02-2021 18:20:20',\n        'dataSubject': {\n            'id':28372,\n            'name': 'Munyagwa Enock',\n            'phone': '0792310084',\n            'email': 'enmunyagwa@gmail.com'\n        }\n\n    },\n    {\n        'id': 1,\n        'regNo':'C202100003',\n        'addressedTo': 'Airtel Uganda',\n        'personalDataAffected': [PersonalDataAffected.NATIONALITY,PersonalDataAffected.AGE],\n        'status': 'Submitted',\n        'reasonForTheComplaint': 'Infringement / Violation of Act',\n        'complaintDetails': 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using \\'Content here, content here\\', making it look like readable English. Many desktop publishing packages and web page editors.',\n        'remedialAction': 'Write to or notify the third parties with whom the data has been shared.',\n        'comments': [\n            {\n                'instanceId': 23,\n                'username': 'jkalungi',\n                'creationDate': '23-02-2021 18:20:20',\n                'comment': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'sd  Lorem Ipsum has been the industry'\n            },\n            {\n                'instanceId': 23,\n                'username': 'mkajubi',\n                'creationDate': '23-02-2021 18:20:20',\n                'comment': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\ Lorem Ipsum has been the industry'\n            }\n        ],\n        'lastModificationDate': '23-02-2021 18:20:20',\n        'dataSubject': {\n            'id':28372,\n            'name': 'John Kalungi',\n            'phone': '0792310084',\n            'email': 'jkalungi@gmail.com'\n        }\n    },\n    {\n        'id': 1,\n        'regNo':'C202100004',\n        'addressedTo': 'Airtel Uganda',\n        'personalDataAffected': [PersonalDataAffected.NATIONALITY,PersonalDataAffected.AGE],\n        'status': 'Submitted',\n        'reasonForTheComplaint': 'Inaccurate personal data in the possession of data controllers',\n        'complaintDetails': 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using \\'Content here, content here\\', making it look like readable English. Many desktop publishing packages and web page editors.',\n        'remedialAction': 'Write to or notify the third parties with whom the data has been shared.',\n        'comments': [\n            {\n                'instanceId': 23,\n                'username': 'enmunyagwa',\n                'creationDate': '23-02-2021 18:20:20',\n                'comment': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'sd  Lorem Ipsum has been the industry'\n            },\n            {\n                'instanceId': 23,\n                'username': 'mkajubi',\n                'creationDate': '23-02-2021 18:20:20',\n                'comment': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\ Lorem Ipsum has been the industry'\n            }\n        ],\n        \n        'lastModificationDate': '23-02-2021 18:20:20',\n        'dataSubject': {\n            'id':28372,\n            'name': 'Isaac Akileng',\n            'phone': '0792310084',\n            'email': 'iakileng@gmail.com'\n        }\n    },\n];\n\nexport const BREACHES_JSON = [{\n    \n    'personalDataAffected': [\n        {\n            'dataCategory':\n                {\n                    'id': '3',\n                    'name': 'Biometric Information',\n                    'subCategories': [\n                        {\n                            'id': '1',\n                            'value': 'Genetic'\n                        },\n                        {\n                            'id': '2',\n                            'value': 'Physiological.'\n                        },\n                        {\n                            'id': '3',\n                            'value': 'Behavioural.'\n                        },\n                        {\n                            'id': '4',\n                            'value': 'Biological characteristics.'\n                        }\n                    ]\n                },\n            'dataSubCategory': [],\n            \n        },\n        {\n            'dataCategory':\n                {\n                    'id': '3',\n                    'name': 'Biometric Information',\n                    'subCategories': [\n                        {\n                            'id': '1',\n                            'value': 'Genetic'\n                        },\n                        {\n                            'id': '2',\n                            'value': 'Physiological.'\n                        },\n                        {\n                            'id': '3',\n                            'value': 'Behavioural.'\n                        },\n                        {\n                            'id': '4',\n                            'value': 'Biological characteristics.'\n                        }\n                    ]\n                },\n            'dataSubCategory': [],\n            \n        }\n    ],\n    \n}];\n\nexport const BREACH_JSON = {\n    'id': 'DAB/16/10/21/4651',\n    'incidentDate': '2021-02-02T21:00:00.000Z',\n    'howIncidentHappened': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. ',\n    'delayInReporting': true,\n    'reasonForDelay': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. ',\n    'measuresInPlace': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry.',\n    'status': 'SUBMITTED',\n    'policies': [\n        {\n            'id': 1,\n            'policy': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry.',\n            'explanation': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry.',\n            'implementationDate': '2021-02-02T21:00:00.000Z'\n        }\n    ],\n    'personalDataAffected': [\n        {\n            'dataCategory':\n                {\n                    'id': '3',\n                    'name': 'Biometric Information',\n                    'subCategories': [\n                        {\n                            'id': '1',\n                            'value': 'Genetic'\n                        },\n                        {\n                            'id': '2',\n                            'value': 'Physiological.'\n                        },\n                        {\n                            'id': '3',\n                            'value': 'Behavioural.'\n                        },\n                        {\n                            'id': '4',\n                            'value': 'Biological characteristics.'\n                        }\n                    ]\n                },\n\n            'dataSubCategory': [\n                {\n                    'id': '1',\n                    'value': 'Genetic'\n                },\n                {\n                    'id': '2',\n                    'value': 'Physiological.'\n                },\n                {\n                    'id': '3',\n                    'value': 'Behavioural.'\n                },\n                {\n                    'id': '4',\n                    'value': 'Biological characteristics.'\n                }\n            ],\n            'toWhatExtent': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry',\n            'affectedIndividuals': '5',\n            'recordsInvolved': '5',\n            'individualAwareness': true,\n            'individualComplain': true,\n        },\n        {\n            'dataCategory':\n                {\n                    'id': '3',\n                    'name': 'Individual Commercial Information',\n                    'subCategories': [\n                        {\n                            'id': '1',\n                            'value':  \"Records of personal propert\"\n                        },\n                        {\n                            'id': '2',\n                            'value':\"Purchasing habits.\"\n                        },\n                    ]\n                },\n\n            'dataSubCategory': [\n                {\n                    'id': '1',\n                    'value':  \"Records of personal propert\"\n                },\n                {\n                    'id': '2',\n                    'value':\"Purchasing habits.\"\n                },\n            ],\n            'toWhatExtent': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry',\n            'affectedIndividuals': '5',\n            'recordsInvolved': '5',\n            'individualAwareness': true,\n            'individualComplain': true,\n        },\n    ],\n    'containmentAndRecovery': {\n        'actionTaken': true,\n        'detailsOfActionTaken': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry',\n        'hasDataBeenRecovered': true,\n        'detailsOfRecovery': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry',\n        'dateOfRecovery': '2021-02-02T21:00:00.000Z',\n        'preventionSteps': 'Lorem Ipsum is simply dummy text of the printing and typesetting industry',\n    },\n    'miscellaneous': {\n        'medialCoverageOfIncident': true,\n        'regulatoryBodiesNotified': true\n    },\n    'registrationDate': '2021-02-02T21:00:00.000Z',\n    'impactOfBreach': [\n        {\n            'id': '1',\n            'rating': '1',\n            'impact': 'Affected Data subject will be required to submit information afresh or fill forms again'\n        },\n        {\n            'id': '2',\n            'rating': '1',\n            'impact': 'Affected Data subject may receive unsolicited email as a result of the breach'\n        },\n    ],\n    'potentialConsequences': [\n        {\n            'id': '1',\n            'potentialConsquence': 'Loss of Confidentiality',\n            'additional': 'A paper file or equipment is lost or stolen.'\n        },\n        {\n            'id': '1',\n            'potentialConsquence': 'Loss of Confidentiality',\n            'additional': 'Paper or equipment left accessible in an unsecured location.  '\n        },\n        {\n            'id': '1',\n            'potentialConsquence': 'Loss of Confidentiality',\n            'additional': 'Mail lost or opened before being returned to sender.    '\n        },\n        {\n            'id': '1',\n            'potentialConsquence': 'Loss of Confidentiality',\n            'additional': 'Hacking, malware (e.g. ransomware) and/ or phishing.    '\n        },\n    ],\n    'controls': [],\n    'causes': [\n        {\n            'cause': 'Malicious internal act',\n            'code': 'CA9238',\n            'id': '5'\n        },\n        {\n            'cause': 'Accidental internal act',\n            'code': 'C2333',\n            'id': '2'\n        },\n    ],\n    'reportedBy': 'enockm15',\n    'companyReporting': 'MTN Uganda',\n    'assignedTo': 'angella',\n    'lastModifiedDate': '2021-02-02T21:00:00.000Z'\n};\n\n\n","import {Component, EventEmitter, Input,Output, OnInit} from '@angular/core';\nimport {PersonalDataModel} from '../../complaints-model';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {Observable, of, ReplaySubject, Subscription} from 'rxjs';\nimport {DataServiceError} from '../../../../../@fury/shared/HttpModel';\nimport {KeycloakService} from 'keycloak-angular';\nimport {MatSnackBar} from '@angular/material/snack-bar';\nimport {COMPLAINT_JSON, ComplaintModel} from '../../../complaints/complaints-model';\nimport {\n    $DataAffectedCategoryModel,\n    DataAffectedCategoryModel,\n    DataAffectedSubCategoryModel,\n    PERSONAL_DATA_AFFECTED\n} from '../../../models/personal-data-affected.model';\nimport {UtilService} from '../../../../../@fury/services/util.service';\nimport {DataSubjectModel} from '../../../models/data-subject.model';\nimport {SnackBarService} from '../../../../pages/services/snack-bar.service';\n\n\n@Component({\n  selector: 'fury-data-complaint-personal-data-itemised',\n  templateUrl: './data-complaint-personal-data-itemised.component.html',\n  styleUrls: ['./data-complaint-personal-data-itemised.component.scss']\n})\nexport class DataComplaintPersonalDataItemisedComponent implements OnInit {\n\n  // Simulating A DataCategory and SubCategory\n  subject$: ReplaySubject<DataAffectedCategoryModel> = new ReplaySubject<DataAffectedCategoryModel>(1);\n  data$: Observable<DataAffectedCategoryModel> = this.subject$.asObservable();\n\n  @Input() personalDataList: PersonalDataModel[];\n  @Input() isViewOnly: boolean;\n  @Input() personalDataEvent = new EventEmitter<PersonalDataModel[]>();\n  @Output() PersonalDataAffected = new EventEmitter<PersonalDataModel[]>();\n\n  personalData: PersonalDataModel = new PersonalDataModel();\n\n  personalDataFormGroup: FormGroup;\n\n  subscriptions: Subscription[] = [];\n\n  //arrays\n  errors: string[] = [];\n  list = [];\n  displayColumns: string [] = ['nber', 'personalDataCategory', 'personalDataSubCategory', 'toWhatExtent','affectedIndividuals', 'affectedRecords','complaintsMade','individualAwareness', 'actions'];\n  dataCategories: DataAffectedCategoryModel [] = [];\n  $dataCategories: DataAffectedCategoryModel [] = [];\n  $subCategories: any [] = [];\n\n  //events\n  $processingEvent: EventEmitter<boolean> = new EventEmitter();\n  $errorsEvent: EventEmitter<DataServiceError[]> = new EventEmitter();\n  //Button Config\n  buttonIcon = 'add_circle_outline';\n  buttonLabel = 'Add';\n  //boolean\n  isEditingPersonalData = false;\n  tableEditable: boolean = true;\n  // int\n  personalDataIndex = 0;\n  personalNumber = 1;\n\n\n  constructor(\n\n    private fb: FormBuilder,\n    private auth: KeycloakService,\n    private utilService: UtilService,\n    public snackBar: SnackBarService\n  ) {\n\n    }\n\n  ngOnInit(): void {\n    this.initForms();\n        if (this.personalDataList) {\n            this.personalDataList.forEach(personalData => this.list.push(personalData));\n        }\n        this.getSampleJson.subscribe(dataCategories => {\n            this.$dataCategories = dataCategories;\n        });\n        this.$subCategories;\n        this.initMainObject();\n    }\n\n    private initMainObject() {\n        this.personalData = new PersonalDataModel();\n    }\n\n    private initForms(): void {\n        this.personalDataFormGroup = this.fb.group(\n            {\n                dataCategory: [null, Validators.required],\n                dataSubCategory: [null, Validators.required],\n                toWhatExtent: [null, Validators.required],\n                affectedIndividuals: [null, Validators.required],\n                recordsInvolved: [null, Validators.required],\n                individualAwareness: [null, Validators.required],\n                individualComplain: [null, Validators.required],\n            }\n        );\n    }\n\n    addOrUpdatePersonalData(option: number): void {\n        if (this.personalDataFormGroup.valid) {\n            if (this.checkForDuplicates(option)) {\n                this.snackBar.snackBarAlert(\n                    'Error', 'Potential Consquence Already exist in the Table, Please Update', {\n                        duration: 3000\n                    }\n                );\n            } else {\n                this.mapFormControlToControl(1);\n                if (option === 1) {\n                    this.list.push(this.personalData);\n                    this.personalDataList.push(this.personalData);\n                    this.list = [...this.list];\n                } else {\n                    this.list[this.personalDataIndex] = this.personalData;\n                    this.personalDataList[this.personalDataIndex] = this.personalData;\n                    this.list = [...this.personalDataList];\n                }\n                this.resetPersonalData();\n            }\n            console.log(this.list)\n            this.PersonalDataAffected.emit(this.personalDataList);\n        }\n    }\n\n    resetPersonalData() {\n        this.personalDataFormGroup.reset();\n        this.personalData = new PersonalDataModel();\n        this.validatePolicyLabels(1);\n        this.managePersonalData(1);\n    }\n\n    validatePolicyLabels(option: number) {\n        if (option === 1) {\n            this.buttonIcon = 'add_circle_outline';\n            this.buttonLabel = 'Add new personal data';\n        } else {\n            this.buttonIcon = 'save';\n            this.buttonLabel = 'Save';\n        }\n    }\n\n    onSelectCategory(category) {\n        this.$subCategories = [];\n        var categories = this.$dataCategories.find(categories => categories === category.value);\n        categories.subCategories.forEach(\n            element => this.$subCategories.push(element)\n        );\n        this.personalDataFormGroup.get('dataSubCategory').enable();\n    }\n\n    disableSubCategories() {\n        if (this.$subCategories.length === 0) {\n            this.personalDataFormGroup.get('dataSubCategory').disable();\n        }\n    }\n\n    managePersonalData(option: number, id ?: number) {\n        if (option === 2) {\n            this.personalData = this.personalDataList[id];\n            this.isEditingPersonalData = true;\n            this.personalDataIndex = id;\n            this.mapFormControlToControl(option);\n        } else {\n            this.isEditingPersonalData = false;\n            this.personalData = new PersonalDataModel();\n            this.personalDataIndex = 0;\n        }\n        this.validatePolicyLabels(option);\n    }\n\n\n    private checkForDuplicates(option: number) {\n        const personalData = this.personalDataFormGroup.get('dataCategory').value;\n        const _personalData = this.personalDataFormGroup.get('dataSubCategory').value;\n        console.log(_personalData);\n        if (option === 1) {\n            return !!(this.personalDataList.find(item => item.dataCategory === personalData));\n        } else { return null; }\n    }\n\n    editItem(index: number) {\n        // Store the index of the item to be modified\n        this.personalDataIndex = index;\n        this.personalData = this.personalDataList[this.personalDataIndex];\n        this.isEditingPersonalData = true;\n        // Map item to form fields\n        this.mapFormControlToControl(index);\n        this.validatePolicyLabels(2);\n    }\n\n    deleteItem(index: number) {\n        this.list.splice(index, 1);\n        this.personalDataList.splice(index, 1);\n        this.list = [...this.list];\n        // Send items to parent\n        this.personalDataEvent.emit(this.personalDataList);\n        this.isEditingPersonalData = false;\n    }\n\n    private mapFormControlToControl(option: number) {\n        if (option === 1) {\n            this.personalData.dataCategory = this.personalDataFormGroup.get('dataCategory').value;\n            this.personalData.dataSubCategory = this.personalDataFormGroup.get('dataSubCategory').value;\n            \n        } else {\n            this.personalDataFormGroup.get('dataCategory').setValue(this.personalData.dataCategory);\n            this.personalDataFormGroup.get('dataSubCategory').setValue(this.personalData.dataSubCategory);\n            \n        }\n    }\n\n    isValidForm() {\n        let formValid = this.personalDataFormGroup.valid;\n        return formValid;\n    }\n\n    get getSampleJson() {\n        return of(PERSONAL_DATA_AFFECTED.map(document => document));\n    }\n\n  \n\n}\n","<ng-container >\n\n    <fieldset>\n        <legend>Personal Data Affected</legend>\n        <ng-container *ngIf=\"!isViewOnly\">\n            <form [formGroup]=\"personalDataFormGroup\">\n                <ng-template matStepLabel>Personal Data</ng-template>\n\n                <div class=\"content\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n                    <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                        <mat-form-field fxFlex=\"2 2 auto\" appearance=\"fill\">\n                            <mat-label>Affected Data Category</mat-label>\n                            <mat-select formControlName=\"dataCategory\"  (selectionChange)=\"onSelectCategory($event)\">\n                                <mat-option [disabled]=\"disableSubCategories()\"\n                                            *ngFor=\"let type of $dataCategories\"\n                                            [value]=\"type\">{{ type.name }}\n                                </mat-option>\n                            </mat-select>\n                            <mat-hint>Please specify if any financial or sensitive personal data (special\n                                categories*) has been affected\n                            </mat-hint>\n                        </mat-form-field>\n                        <mat-form-field fxFlex=\"2 2 auto\" appearance=\"fill\">\n                            <mat-label>SubCategories</mat-label>\n                            <mat-select formControlName=\"dataSubCategory\" multiple>\n                                <mat-option\n                                        *ngFor=\"let type of $subCategories\"\n                                        [value]=\"type\">{{ type.value }}\n                                </mat-option>\n                            </mat-select>\n                            <mat-hint>Please specify if any financial or sensitive personal data has been affected\n                            </mat-hint>\n                        </mat-form-field>\n                    </div>\n\n                    <!-- <div fxFlex=\"column\" fxLayout=\"row\" fxLayoutGap=\"8px\">\n                        <mat-form-field fxFlex=\"2 2 auto\" appearance=\"fill\">\n                            <mat-label>Details To What Extent</mat-label>\n                            <textarea matInput\n                                      cdkTextareaAutosize\n                                      #autosize=\"cdkTextareaAutosize\"\n                                      cdkAutosizeMinRows=\"1\"\n                                      formControlName=\"toWhatExtent\"\n                                      cdkAutosizeMaxRows=\"5\"></textarea>\n                            <mat-hint>Provide details of the extent has the data been affected\n                            </mat-hint>\n                        </mat-form-field>\n\n                        <mat-form-field fxFlex=\"2 1 auto\">\n                            <mat-label>Affected Individuals</mat-label>\n                            <input formControlName=\"affectedIndividuals\" matInput>\n                            <mat-hint align=\"end\">How many Individuals have been affected ?</mat-hint>\n                        </mat-form-field>\n\n                        <mat-form-field fxFlex=\"2 1 auto\">\n                            <mat-label>Records Involved</mat-label>\n                            <input formControlName=\"recordsInvolved\" matInput>\n                            <mat-hint align=\"end\">How many data records are involved?</mat-hint>\n                        </mat-form-field>\n                    </div> -->\n\n                    <!-- <div class=\"content\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n                        <mat-checkbox [checked]=\"false\" formControlName=\"individualAwareness\">\n                            Are the affected individuals aware that the incident has occurred?\n                        </mat-checkbox>\n\n                        <mat-checkbox [checked]=\"false\" formControlName=\"individualComplain\">\n                            Have any affected individuals complained to the Company about the incident?\n                        </mat-checkbox>\n                    </div> -->\n                </div>\n\n\n            </form>\n            <div *ngIf=\"!isViewOnly\" style=\"text-align: right; padding-top: 5px; padding-bottom: 5px;\">\n                <button mat-raised-button\n                        (click)=\"addOrUpdatePersonalData(isEditingPersonalData?2:1)\" color=\"primary\"\n                        [disabled]=\"!isValidForm()\">\n                    <mat-icon>{{buttonIcon}}</mat-icon>\n                    <span>{{buttonLabel}}</span>\n                </button>&nbsp;\n                <span class=\"example-spacer\"></span>\n                <button mat-raised-button (click)=\"resetPolicy()\" color=\"warn\">\n                    <mat-icon>cancel</mat-icon>\n                    <span>Cancel</span>\n                </button>\n            </div>\n        </ng-container>\n\n        <div class=\"content\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n            <table mat-table [dataSource]=\"list\">\n                <ng-container matColumnDef=\"nber\">\n                    <th mat-header-cell *matHeaderCellDef style=\"width: 5%\"\n                        class=\"tableFontSize firstColumnTable alignCenter\">#\n                    </th>\n                    <td mat-cell *matCellDef=\"let element; let j=index;\"\n                        class=\"tableFontSize firstColumnTable alignCenter\">\n                        {{j + 1}}\n                    </td>\n                </ng-container>\n                <ng-container matColumnDef=\"personalDataCategory\">\n                    <th mat-header-cell *matHeaderCellDef class=\"tableFontSize \" style=\"width: 20%\"> Data Category</th>\n                    <td mat-cell *matCellDef=\"let element\" class=\"tableFontSize \"> {{element.dataCategory.name}}</td>\n                </ng-container>\n                <ng-container matColumnDef=\"personalDataSubCategory\">\n                    <th mat-header-cell *matHeaderCellDef class=\"tableFontSize \" style=\"width: 20%\"> Data SucCategories\n                    </th>\n                    <td mat-cell *matCellDef=\"let element\"\n                        class=\"tableFontSize \">\n                        <div *ngFor=\"let p of element.dataSubCategory\">\n                            {{p.value}},\n                        </div>\n                    </td>\n                </ng-container>\n                <ng-container matColumnDef=\"affectedIndividuals\">\n                    <th mat-header-cell *matHeaderCellDef class=\"tableFontSize \" style=\"width: 20%\"> Affected\n                        Individuals\n                    </th>\n                    <td mat-cell *matCellDef=\"let element\" class=\"tableFontSize \"> {{element.affectedIndividuals}}</td>\n                </ng-container>\n                <ng-container matColumnDef=\"affectedRecords\">\n                    <th mat-header-cell *matHeaderCellDef class=\"tableFontSize \" style=\"width: 20%\"> Affected Records\n                    </th>\n                    <td mat-cell *matCellDef=\"let element\" class=\"tableFontSize \"> {{element.recordsInvolved}}</td>\n                </ng-container>\n                <ng-container matColumnDef=\"toWhatExtent\">\n                    <th mat-header-cell *matHeaderCellDef class=\"tableFontSize \" style=\"width: 20%\">Extent Of the Breach\n                    </th>\n                    <td mat-cell *matCellDef=\"let element\" class=\"tableFontSize \"> {{element.toWhatExtent}}</td>\n                </ng-container>\n                <ng-container matColumnDef=\"complaintsMade\">\n                    <th mat-header-cell *matHeaderCellDef class=\"tableFontSize \" style=\"width: 20%\"> Any Complaints?\n                    </th>\n                    <td mat-cell *matCellDef=\"let element\" class=\"tableFontSize \"> {{element.individualAwareness }}</td>\n                </ng-container>\n                <ng-container matColumnDef=\"individualAwareness\">\n                    <th mat-header-cell *matHeaderCellDef class=\"tableFontSize \" style=\"width: 20%\">Individual Awareness ?\n                    </th>\n                    <td mat-cell *matCellDef=\"let element\" class=\"tableFontSize \"> {{element.individualComplain}}</td>\n                </ng-container>\n\n                <ng-container matColumnDef=\"actions\">\n                    <th mat-header-cell *matHeaderCellDef style=\"width: 5%\"></th>\n                    <td mat-cell *matCellDef=\"let element; let j=index\" class=\"actions\">\n                        <ng-container *ngIf=\"!isViewOnly\">\n                            <a class=\"link\" (click)=\"managePersonalData(2,j)\">\n                                <mat-icon color=\"primary\" class=\"material-icons-outlined\" matTooltip=\"Edit item\">edit\n                                </mat-icon>\n                            </a>&nbsp;&nbsp;\n                            <a class=\"link\" (click)=\"deleteItem(j)\">\n                                <mat-icon color=\"warn\" class=\"material-icons-outlined\" matTooltip=\"Delete item\">delete\n                                </mat-icon>\n                            </a>\n                        </ng-container>\n                    </td>\n                </ng-container>\n                <ng-container matColumnDef=\"noData\">\n                    <td mat-footer-cell *matFooterCellDef colspan=\"7\">\n                        There is no data!\n                    </td>\n                </ng-container>\n                <tr mat-header-row *matHeaderRowDef=\"displayColumns;sticky:true\"></tr>\n                <tr mat-row *matRowDef=\"let row; columns: displayColumns;\"></tr>\n                <tr mat-footer-row *matFooterRowDef=\"['noData']\" [ngClass]=\"{'hide':!(list?.length==0)}\"></tr>\n            </table>\n        </div>\n        <br>\n    </fieldset>\n    <!-- <br>\n    <div class=\"actions\" fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"8px\">\n        <button color=\"primary\" mat-button matStepperPrevious type=\"button\">PREVIOUS\n        </button>\n        <button [disabled]=\"list?.length < 0\" color=\"primary\" mat-raised-button\n                matStepperNext>NEXT\n        </button>\n    </div> -->\n</ng-container>\n\n\n<!-- LIST OF ITEMS -->\n\n","import {Component, OnInit, EventEmitter,ViewChild, Inject, Input, Output} from '@angular/core';\nimport {FormBuilder,FormControl, FormGroup, Validators} from '@angular/forms';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {BaseFuryForm} from '../../../../../@fury/shared/base-fury-form';\nimport {Complaint, COMPLAINT_JSON, BREACHES_JSON, BREACH_JSON, ComplaintModel, RemedialActions, PersonalDataModel, PersonalData} from '../../complaints-model';\nimport {fadeInRightAnimation} from '../../../../../@fury/animations/fade-in-right.animation';\nimport {fadeInUpAnimation} from '../../../../../@fury/animations/fade-in-up.animation';\nimport {scaleInAnimation} from '../../../../../@fury/animations/scale-in.animation';\nimport {CdkTextareaAutosize} from '@angular/cdk/text-field';\nimport {Observable, of, ReplaySubject} from 'rxjs';\nimport { DocumentComment } from '../../../../../@fury/shared/base-fury-form.model';\nimport {KeycloakService} from 'keycloak-angular';\nimport {WorkflowServiceService} from '../../../../services/workflow-service.service';\nimport {CompanyRegistrationService} from '../../../company-registration/company-registration.service';\nimport { ComplaintService } from '../../complaints.service';\nimport {Action, ActionPerformed, WorkFlowActions, WorkFlowStep, WorkFlowTimeline, ActionMakeaComment} from '../../../models/document-workflow.model';\nimport {Subscription} from 'rxjs';\nimport {MatDialog, MAT_DIALOG_DATA} from '@angular/material/dialog';\nimport {OrgNoticeComponent} from '../../../../layout/dialogs/org-registration/org-notice/org-notice.component';\nimport {ComplaintCommentsComponent} from '../../../../layout/complaint-comments/complaint-comments.component';\nimport { ViewPdfDocumentBottomsheetComponent } from '../../../../layout/bottomsheets/view-pdf-document-bottomsheet/view-pdf-document-bottomsheet.component';\nimport { ApiPayload, FileUpload } from '../../../../services/api.model';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { ForwardMessageDialogComponent } from '../../../../layout/dialogs/forward-message-dialog/forward-message-dialog.component';\nimport { HttpClient } from '@angular/common/http';\nimport { ApiEndpointsService } from '../../../../services/api-endpoints.service';\nimport { catchError } from 'rxjs/operators';\nimport { ApiService } from '../../../../services/api.service';\nimport { environment } from '../../../../../environments/environment';\nimport { ForwardCommentsComponent } from '../../../../layout/dialogs/forward-comments/forward-comments.component';\nimport {\n    $DataAffectedCategoryModel,\n    DataAffectedCategoryModel,\n    DataAffectedSubCategoryModel,\n    PERSONAL_DATA_AFFECTED\n} from '../../../models/personal-data-affected.model';\n\nimport { ComplaintManageMoreInformationComponent } from '../../../../layout/dialogs/complaint-manage-more-information/complaint-manage-more-information.component';\nimport {UtilService} from '../../../../../@fury/services/util.service';\nimport {DataSubjectModel} from '../../../models/data-subject.model';\nimport {SnackBarService} from '../../../../pages/services/snack-bar.service';\nimport { MoreInformationComponent } from '../../../../layout/dialogs/more-information/more-information.component';\nimport { MatCheckbox, MatCheckboxChange } from '@angular/material/checkbox';\nimport { OrgUploadComponent } from '../../../../layout/dialogs/org-upload/org-upload.component';\nimport { SaveMessageComponent } from '../../../../layout/dialogs/save-changes/save-message/save-message.component';\nimport { SuccessfulMessageDialogComponent } from '../../../../layout/dialogs/successful-message-dialog/successful-message-dialog.component';\nimport { DownloadComplaintComponent } from '../../../../layout/dialogs/download-complaint/download-complaint.component';\n@Component({\n    selector: 'fury-complaints-edit',\n    templateUrl: './complaints-edit.component.html',\n    styleUrls: ['./complaints-edit.component.scss'],\n    animations: [fadeInRightAnimation, fadeInUpAnimation, scaleInAnimation]\n})\nexport class ComplaintsEditComponent extends BaseFuryForm implements OnInit {\n\n    // Simulating A Service\n    subject$: ReplaySubject<ComplaintModel> = new ReplaySubject<ComplaintModel>(1);\n    data$: Observable<ComplaintModel> = this.subject$.asObservable();\n\n    // Simulating A DataCategory and SubCategory\n    sub$: ReplaySubject<DataAffectedCategoryModel> = new ReplaySubject<DataAffectedCategoryModel>(1);\n    dat$: Observable<DataAffectedCategoryModel> = this.sub$.asObservable();\n  \n    ComplaintTrackingNumber: string;\n    $processingEvent: EventEmitter<boolean> = new EventEmitter();\n    $errorsEvent: EventEmitter<any> = new EventEmitter();\n    $resultComplaintsEvent: EventEmitter<Complaint> = new EventEmitter();\n    subscriptions: Subscription[] = [];\n    dialogRef;\n    bottomsheetRef;\n    accesses: string[];\n    ActionTakenCheckboxValue = 0;\n    disableResolve = true;\n    disableForward = false;\n    processing = false;\n    httpSub: Subscription;\n    isDirector = false;\n    ComplaintSourceID : number;\n    manageRequestForInfo = false;\n    RequestedInforamationTrack = [];\n    \n    document: FileUpload | null;\n\n    complaintForm: FormGroup;\n\n    ComplaintEvidence: any;\n\n    personalDataFormGroup: FormGroup;\n    @ViewChild('autosize') autosize: CdkTextareaAutosize;\n    //MAin object\n    application: ComplaintModel = new ComplaintModel();\n    //array\n    PersonalData: string [];\n    personalData: string[];\n    DataSubjectsCategories = [];\n    personalDataAffected: PersonalDataModel[] = [];\n    complaintReasons: any[] = [];\n    list = [];\n    displayColumns: string [] = ['nber', 'personalDataCategory', 'personalDataSubCategory', 'actions'];\n    permittedActions: Action[] = [];\n    dataCategories: DataAffectedCategoryModel [] = [];\n    $dataCategories: DataAffectedCategoryModel [] = [];\n    $subCategories: any [] = [];\n    \n    dataCategory = new FormControl;\n    dataSubCategory = new FormControl;\n    //Button Config\n    buttonIcon = 'add_circle_outline';\n    buttonLabel = 'Add';\n    //boolean\n    isEditingPersonalData = false;\n    tableEditable: boolean = true;\n    // int\n    personalDataIndex = 0;\n    personalNumber = 1;\n\n    \n    \n    private _gap = 16;\n    gap = `${this._gap}px`;\n    col2 = `1 1 calc(50% - ${this._gap / 2}px)`;\n    col3 = `1 1 calc(33.3333% - ${this._gap / 1.5}px)`;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private activateRoute: ActivatedRoute,\n        private route: Router,\n        private dialog: MatDialog,\n        private bottomsheet: MatBottomSheet,\n        private endpoints: ApiEndpointsService,\n        private http: HttpClient,\n        private service: ApiService,\n        private allDialogRef: MatDialog,\n        private auth: KeycloakService,\n        private utilService: UtilService,\n        public snackBar: SnackBarService,\n        public authService: KeycloakService,\n        public _workflowService: WorkflowServiceService,\n        public registrationService: CompanyRegistrationService,\n        public complaintService: ComplaintService,\n        \n    ) {\n        super(\n            authService,\n            _workflowService,\n            registrationService,\n            complaintService\n        );\n        this.accesses = authService.getKeycloakInstance().resourceAccess['dps-frontend'].roles;\n        console.log(this.accesses);\n       \n        this.operationType = activateRoute.routeConfig.data.action;\n        this.ComplaintTrackingNumber = this.route.getCurrentNavigation().extras.state.ComplaintTrackingNumber;\n        this.ComplaintSourceID = this.route.getCurrentNavigation().extras.state.ComplaintSourceID;\n        console.log(this.operationType);\n        if (this.operationType === 'EDIT') {\n            this.isEditMode = true;\n            this.application.comments = [];\n            this.application.personalDataAffected = [];\n        } else if (this.operationType === 'CREATE') {\n            this.isEditMode = false;\n            this.application.comments = [];\n            this.application.personalDataAffected = [];\n        } else if (this.operationType === 'VIEW') {\n            if(this.ComplaintSourceID == 1){\n\n                this.isEditMode = true;\n                this.isViewOnly = false;\n                \n            }\n            else{\n                this.isEditMode = false;\n                this.isViewOnly = true;\n            }\n           \n        }\n    }\n\n    ngOnInit(): void {\n\n      this.initForm();\n\n        //if (this.personalDataList) {\n            //this.personalDataList.forEach(personalData => this.list.push(personalData));\n       // }\n       console.log(this.sampleJson);\n        this.sampleJson().subscribe(dataCategories => {\n            this.$dataCategories = dataCategories;\n        });\n        this.$subCategories;\n        \n\n        if(this.accesses.includes('resolve.director.complaint')){\n\n            this.isDirector = true;\n        }\n\n        console.log(this.$dataCategories);\n\n\n        this.getComplaint();\n\n      // complaints\n      this.subscriptions['$resultComplaintsEvent'] = this.$resultComplaintsEvent.subscribe(result => {\n        if (result) {\n\n        this.httpSub = this.http.get<ApiPayload>(this.endpoints.GetComplaintRequestForInfo + '?ComplaintTrackingNo='+ this.ComplaintTrackingNumber)\n        .pipe(catchError(this.service.handleError))\n        .subscribe((response) => {\n       \n\n            this.RequestedInforamationTrack = response.data\n    \n            this.processing = false;\n          }, (error) => {\n\n            this.processing = false;\n    \n         \n          });\n   \n \n            this.application= result;\n            console.log(this.application);\n\n\n            \n\n            if(this.accesses.includes('resolve.technical.complaint') ){\n\n                if(this.application.StatusID == 2){\n\n                    this.disableForward = false;\n                }\n                else if(this.application.StatusID == 8){\n                    this.manageRequestForInfo = true;\n                    this.disableForward = true;\n                }\n                else{\n                    this.disableForward = true;\n                }     \n            \n            }\n            else if(this.accesses.includes('resolve.legal.complaint')){\n                if(this.application.StatusID == 3){\n\n                    this.disableForward = false;\n                }\n                else if(this.application.StatusID == 9){\n                    this.manageRequestForInfo = true;\n                    this.disableForward = true;\n                }\n                else{\n                    this.disableForward = true;\n                }\n            }\n            else{\n                this.disableForward = true;\n            }\n\n\n            \n            if(this.application.StatusID == 4 && this.accesses.includes('resolve.director.complaint')){\n                this.disableResolve = false;\n            }\n            else if(this.application.FormID == 6){\n\n                if(this.accesses.includes('resolve.technical.complaint') ){\n\n                    this.disableResolve = false;\n                \n                }\n                else{\n                    this.disableResolve = true;\n                    \n                }\n\n            }\n            else if(this.application.FormID == 9 || this.application.FormID==11){\n                if(this.accesses.includes('resolve.legal.complaint') && this.application.StatusID == 3){\n\n                    this.disableResolve = false;\n                \n                }\n                else{\n                    this.disableResolve = true;\n                }\n            }\n           \n            \n       \n          this.mapFields();\n        }\n\n        if (result) {\n \n            this.application= result;\n            console.log(this.application);\n\n            \n            \n            \n       \n          this.mapFields();\n        }\n      });\n\n     \n      this.disableFieldsByStatus();\n      if (this.isViewOnly) {\n          this.disableAllControls();\n      }\n    }\n\n    // private initMainObject() {\n    //     this.personalData = new PersonalDataModel();\n    // }\n\n    \n\n    mapFields() {\n        this.isApplicationValid = true;\n        this.personalData = this.application.PersonalDataAffected;\n        this.complaintReasons = this.application.ReasonsForComplaint;\n        console.log(this.application);\n   \n        this.complaintForm.get('reasonForTheComplaint').setValue(this.application.ReasonsForComplaint);\n        this.complaintForm.get('complaintDetails').setValue(this.application.FullDetailsOfComplaint);\n        this.complaintForm.get('remedialActions').setValue(this.application.RemedialActions);\n        this.complaintForm.get('lastModificationDate').setValue(this.application.FirstName);\n        this.complaintForm.get('dataSubjectName').setValue(this.application.FirstName + ' ' + this.application.LastName);\n        this.complaintForm.get('dataSubjectPhone').setValue(this.application.PhoneNumber);\n        this.complaintForm.get('dataSubjectEmail').setValue(this.application.EmailAddress);\n        this.complaintForm.get('ComplaintCategory').setValue(this.application.ComplainerCategory);\n        this.complaintForm.get('OrganisationComplainedTo').setValue(this.application.OrganisationComplainedToName);\n        this.complaintForm.get('ContactFirstName').setValue(this.application.ContactPersonFirstName);\n        this.complaintForm.get('ContactLastName').setValue(this.application.ContactPersonLastName);\n        this.complaintForm.get('ContactEmailAddress').setValue(this.application.ContactPersonEmailAddress);\n        this.complaintForm.get('TechnicalForwardedComments').setValue(this.application.TechnicalComments);\n        this.complaintForm.get('LegalForwardedComments').setValue(this.application.LegalComments);\n        this.complaintForm.get('MoreInformationRequired').setValue(this.application.MoreInformation);\n        this.isApplicationValid = true;\n      \n        this.personalData = this.application.PersonalDataAffected;\n        this.complaintReasons = this.application.ReasonsForComplaint;\n        console.log(this.application.EvidenceOfComplaint);\n  \n        this.ComplaintEvidence = { \n          Document: null, \n          Name: 'Complaint Evidence.pdf', \n          Size: null, \n          Base64: this.application.EvidenceOfComplaint\n      };\n  \n    }\n\n    initForm() {\n        this.complaintForm = this.formBuilder.group({\n            personalDataAffected: ['', Validators.compose([Validators.required])],\n            reasonForTheComplaint: ['', Validators.compose([Validators.required])],\n            complaintDetails: ['', Validators.compose([Validators.required])],\n            remedialActions: ['', Validators.compose([Validators.required])],\n            dataSubjectName: ['', Validators.compose([Validators.required])],\n            dataSubjectPhone: ['', Validators.compose([Validators.required])],\n            dataSubjectEmail: ['', Validators.compose([Validators.required])],\n            ContactFirstName: ['', Validators.compose([Validators.required])],\n            ContactLastName: ['', Validators.compose([Validators.required])],\n            ContactEmailAddress: ['', Validators.compose([Validators.required])],\n            OrganisationComplainedTo: ['', Validators.compose([Validators.required])],\n            OtherOrganisationComplainedTo: ['', Validators.compose([Validators.required])],\n            ComplaintCategory: ['', Validators.compose([Validators.required])],\n            OrganisationComplainedFrom: ['', Validators.compose([Validators.required])],\n            OtherOrganisationComplainedFrom: ['', Validators.compose([Validators.required])],\n            TechnicalForwardedComments: ['', Validators.compose([Validators.required])],\n            LegalForwardedComments: ['', Validators.compose([Validators.required])],\n            MoreInformationRequired: ['', Validators.compose([Validators.required])],\n            lastModificationDate: []\n        });\n\n\n        this.personalDataFormGroup = this.formBuilder.group(\n            {\n                dataCategory: [null, Validators.required],\n                dataSubCategory: [null, Validators.required]\n                \n            }\n        );\n    }\n\n    ActionTakenCheckboxChange(event: MatCheckboxChange){\n        if(event.checked){\n            this.ActionTakenCheckboxValue = 1;\n\n        } \n        else{\n            this.ActionTakenCheckboxValue = 0;\n        }\n    }\n\n    onReadDocument(): void {\n        // console.log('document:', document);\n        this.bottomsheetRef = this.bottomsheet.open(ViewPdfDocumentBottomsheetComponent, {\n            disableClose: true,\n            panelClass: ['view-pdf-document-bottomsheet', 'bottomsheets'],\n            data: {\n              url: this.ComplaintEvidence.Base64,\n              title: this.ComplaintEvidence.Name\n            }\n        });      \n    }\n\n    disableFieldsByStatus() {\n        if (this.application\n            && this.application.status !== 'NEW' && this.application.status !== 'STORED'\n            && this.application.status === 'ISSUED') {\n            this.disableAllControls();\n        }\n    }\n\n\n    disableAllControls() {\n        this.complaintForm.disable();\n    }\n\n    onCommentChange(comments: DocumentComment[]) {\n        if (comments) {\n            this.application.comments = comments;\n        }\n    }\n\n    onPersonalDataChange($event: PersonalDataModel []) {\n        this.personalDataAffected = $event;\n    }\n\n\n    acceptData($event: PersonalDataModel []){\n        this.personalDataAffected = $event;\n    }\n\n    formTriggler(operation: string) {\n        switch (operation) {\n            case 'EDIT':\n                break;\n            case 'CREATE':\n                break;\n            case  'VIEW':\n                this.isViewOnly = true;\n                break;\n        }\n    }\n\n    get getData() {\n        return of(BREACH_JSON);\n    }\n    \n\n    private getFormData(): any {\n\n        const SubjectName  = this.complaintForm.get('dataSubjectName').value ? this.complaintForm.get('dataSubjectName').value : '';\n\n        const SplitNames = SubjectName.split(' ');\n        const FirstName  = SplitNames[0];\n        const LastName = SplitNames[1];\n\n        console.log(SplitNames)\n\n\n        const data = {\n            ComplainantFirstName: FirstName,\n            ComplainantLastName: LastName,\n            ComplainantEmailAddress: this.complaintForm.get('dataSubjectEmail').value ? this.complaintForm.get('dataSubjectEmail').value : '',\n            ComplainantPhoneNumber: this.complaintForm.get('dataSubjectPhone').value ? this.complaintForm.get('dataSubjectPhone').value : '',\n            ComplainantPhysicalAddress : '',\n            ComplainerCategory: 'Individual',\n            IsCustomerToOrganisation: 'Yes',\n            Organisation: this.complaintForm.get('OrganisationComplainedTo').value ? this.complaintForm.get('OrganisationComplainedTo').value : '',\n            ComplaintTrackingNo:this.ComplaintTrackingNumber,\n            ComplaintEvidence: this.ComplaintEvidence.Base64 ? this.ComplaintEvidence.Base64 : '',\n            ContactFirstName: this.complaintForm.get('ContactFirstName').value ? this.complaintForm.get('ContactFirstName').value : '',\n            ContactLastName: this.complaintForm.get('ContactLastName').value ? this.complaintForm.get('ContactLastName').value : '',\n            ContactEmailAddress: this.complaintForm.get('ContactEmailAddress').value ? this.complaintForm.get('ContactEmailAddress').value : '',\n            ContactPhoneNumber: '',\n            FullDetailsOfComplaint: this.complaintForm.get('complaintDetails').value ? this.complaintForm.get('complaintDetails').value : '',\n            PersonalDataAffected: this.personalDataFormGroup.get('dataCategory').value ? this.personalDataFormGroup.get('dataCategory').value: '',\n        }\n\n        return data;\n      }\n\n    get getSampleJson() {\n        return of(COMPLAINT_JSON);\n    }\n\n    get getSamplJson(){\n        return of (BREACHES_JSON);\n    }\n\n    getComplaint() {\n        // tslint:disable-next-line:max-line-length\n        this.complaintService.getComplaint(this.ComplaintTrackingNumber,this.$processingEvent, this.$resultComplaintsEvent, this.$errorsEvent);\n    }\n\n    private initForms(): void {\n        this.personalDataFormGroup = this.formBuilder.group(\n            {\n                dataCategory: [null, Validators.required],\n                dataSubCategory: [null, Validators.required]\n                \n            }\n        );\n    }\n    \n    markUnderInvestigation(){\n        \n        this.dialog.open(ComplaintCommentsComponent, {\n            width: '1391px',\n            height: '595px',\n            data: {\n                ComplaintTrackingNumber:this.ComplaintTrackingNumber,\n                Status: 5\n            }\n            \n        }).afterClosed().subscribe((dialogResult) => {\n                \n            \n        });\n    }\n\n\n    markAsResolved(){\n        \n        const dialogRef = this.dialog.open(ComplaintCommentsComponent, {\n                    width: '1391px',\n                    height: '595px',\n                    data: {\n                        ComplaintTrackingNumber:this.ComplaintTrackingNumber,\n                        Status: 6,\n                        isDirector: this.isDirector\n                        \n                    }     \n                });\n\n       \n    }\n\n    onForward(): void{\n        this.processing = true;\n        \n    \n        this.httpSub = this.http.post<ApiPayload>(this.endpoints.updateComplaintStatus, this.getFormData())\n        .pipe(catchError(this.service.handleError))\n        .subscribe((response) => {\n          this.dialogRef = this.dialog.open(ForwardMessageDialogComponent, {\n            panelClass: ['forward-message-dialog', 'dialogs'],\n            disableClose: true,\n            data: {\n              title: 'Update Complaint Status',\n              message: 'Forwarded successfully',\n              status: response.code === 200 ? true : false,\n            }\n          });\n    \n          this.dialogRef.afterClosed().subscribe(() => {\n            this.allDialogRef.closeAll();\n            this.route.navigate(['/complaints/find']);\n          });\n    \n          this.processing = false;\n        }, (error) => {        \n          this.processing = false;\n    \n          if (error.error.message) {\n            this.dialogRef = this.dialog.open( ForwardMessageDialogComponent, {\n              panelClass: ['forward-message-dialog', 'dialogs'],\n              disableClose: true,\n              data: {\n                title: error.error.message['title'] ? error.error.message['title'] : 'Operation Failed',\n                message: error.error.message['body'] ? error.error.message['body'] : environment.technicalErrorResponse,\n                status: false,\n              }\n            });\n          } else {\n            this.service.determineErrorResponse(error);\n          }\n        });\n      }\n\n      forwardComplaint(): void{\n\n        let statusID;\n        if(this.accesses.includes('resolve.technical.complaint') ){\n             statusID = 3;\n        }\n        else if(this.accesses.includes('resolve.legal.complaint')){\n             statusID = 4;\n        }\n\n        const dialogRef = this.dialog.open(ComplaintCommentsComponent, {\n            width: '1391px',\n            height: '595px',\n            data: {\n                ComplaintTrackingNumber:this.ComplaintTrackingNumber,\n                Status: statusID,\n                \n            }     \n        });\n      }\n\n      moreInformation(): void {\n\n        this.dialog.open(MoreInformationComponent, {\n            width: '1391px',\n            height: '595px',\n            data: {\n                ComplaintTrackingNumber:this.ComplaintTrackingNumber,\n                \n            }\n            \n        }).afterClosed().subscribe((dialogResult) => {\n                \n            \n        });\n\n      }\n\n      onSave(): void{\n\n        const Complaint =this.getFormData();\n\n        console.log(Complaint);\n\n        this.processing = true;\n    \n        this.httpSub = this.http.post<ApiPayload>(this.endpoints.updateComplaint, this.getFormData())\n        .pipe(catchError(this.service.handleError))\n        .subscribe((response) => {\n          this.dialogRef = this.dialog.open(SaveMessageComponent, {\n            panelClass: ['save-message-dialog', 'dialogs'],\n            disableClose: true,\n            data: {\n              title: 'Save Message',\n              message: 'Edit saved successfully',\n              status: response.code === 200 ? true : false,\n            }\n          });\n\n\n          this.dialogRef.afterClosed().subscribe(() => {\n            this.allDialogRef.closeAll();\n            this.route.navigate(['/complaints/find']);\n          });\n    \n          this.processing = false;\n        }, (error) => {\n          this.processing = false;\n    \n          if (error.error.message) {\n            this.dialogRef = this.dialog.open( ForwardMessageDialogComponent, {\n              panelClass: ['forward-message-dialog', 'dialogs'],\n              disableClose: true,\n              data: {\n                title: error.error.message['title'] ? error.error.message['title'] : 'Operation Failed',\n                message: error.error.message['body'] ? error.error.message['body'] : environment.technicalErrorResponse,\n                status: false,\n              }\n            });\n          } else {\n            this.service.determineErrorResponse(error);\n          }\n        });\n\n      }\n\n    //   addOrUpdatePersonalData(option: number): void {\n    //     if (this.personalDataFormGroup.valid) {\n    //         if (this.checkForDuplicates(option)) {\n    //             this.snackBar.snackBarAlert(\n    //                 'Error', 'Potential Consquence Already exist in the Table, Please Update', {\n    //                     duration: 3000\n    //                 }\n    //             );\n    //         } else {\n    //             this.mapFormControlToControl(1);\n    //             if (option === 1) {\n    //                 this.list.push(this.personalData);\n    //                 this.personalDataList.push(this.personalData);\n    //                 this.list = [...this.list];\n    //             } else {\n    //                 this.list[this.personalDataIndex] = this.personalData;\n    //                 this.personalDataList[this.personalDataIndex] = this.personalData;\n    //                 this.list = [...this.personalDataList];\n    //             }\n    //             this.resetPersonalData();\n    //         }\n    //         console.log(this.list)\n    //         this.PersonalDataAffected.emit(this.personalDataList);\n    //     }\n    // }\n\n    // resetPersonalData() {\n    //     this.personalDataFormGroup.reset();\n    //     this.personalData = new PersonalDataModel();\n    //     this.validatePolicyLabels(1);\n    //     this.managePersonalData(1);\n    // }\n\n    // validatePolicyLabels(option: number) {\n    //     if (option === 1) {\n    //         this.buttonIcon = 'add_circle_outline';\n    //         this.buttonLabel = 'Add new personal data';\n    //     } else {\n    //         this.buttonIcon = 'save';\n    //         this.buttonLabel = 'Save';\n    //     }\n    // }\n\n    ChildrenDataSubjectCategoryChange(event: MatCheckboxChange){\n        if(event.checked){\n            if(this.DataSubjectsCategories.indexOf('children') == -1) {\n                this.DataSubjectsCategories.push('children');\n            }\n            \n            console.log(\"here1\");\n\n        } \n        else{\n            var index = this.DataSubjectsCategories.indexOf('children');\n            if (index !== -1) {\n            this.DataSubjectsCategories.splice(index, 1);\n            }\n        }\n    }\n\n\n    AdultDataSubjectCategoryChange(event: MatCheckboxChange){\n        if(event.checked){\n            if(this.DataSubjectsCategories.indexOf('adults') == -1) {\n                this.DataSubjectsCategories.push('adults');\n            }\n            \n            console.log(\"here1\");\n\n        } \n        else{\n            var index = this.DataSubjectsCategories.indexOf('adults');\n            if (index !== -1) {\n            this.DataSubjectsCategories.splice(index, 1);\n            }\n        }\n    }\n\n    onSelectCategory(category) {\n        this.$subCategories = [];\n        var categories = this.$dataCategories.find(categories => categories === category.value);\n        categories.subCategories.forEach(\n            element => this.$subCategories.push(element)\n        );\n        this.personalDataFormGroup.get('dataSubCategory').enable();\n    }\n\n    disableSubCategories() {\n        if (this.$subCategories.length === 0) {\n            this.personalDataFormGroup.get('dataSubCategory').disable();\n        }\n    }\n\n    // managePersonalData(option: number, id ?: number) {\n    //     if (option === 2) {\n    //         this.personalData = this.personalDataList[id];\n    //         this.isEditingPersonalData = true;\n    //         this.personalDataIndex = id;\n    //         this.mapFormControlToControl(option);\n    //     } else {\n    //         this.isEditingPersonalData = false;\n    //         this.personalData = new PersonalDataModel();\n    //         this.personalDataIndex = 0;\n    //     }\n    //     this.validatePolicyLabels(option);\n    // }\n\n\n    //private checkForDuplicates(option: number) {\n    //    const personalData = this.personalDataFormGroup.get('dataCategory').value;\n    //    const _personalData = this.personalDataFormGroup.get('dataSubCategory').value;\n    //    console.log(_personalData);\n    //    if (option === 1) {\n    //        return !!(this.personalDataList.find(item => item.dataCategory === personalData));\n    //    } else { return null; }\n    //}\n\n    // editItem(index: number) {\n    //     // Store the index of the item to be modified\n    //     this.personalDataIndex = index;\n    //     this.personalData = this.personalDataList[this.personalDataIndex];\n    //     this.isEditingPersonalData = true;\n    //     // Map item to form fields\n    //     this.mapFormControlToControl(index);\n    //     this.validatePolicyLabels(2);\n    // }\n\n    // deleteItem(index: number) {\n    //     this.list.splice(index, 1);\n    //     this.personalDataList.splice(index, 1);\n    //     this.list = [...this.list];\n    //     // Send items to parent\n    //     this.personalDataEvent.emit(this.personalDataList);\n    //     this.isEditingPersonalData = false;\n    // }\n\n    // private mapFormControlToControl(option: number) {\n    //     if (option === 1) {\n    //         this.personalData.dataCategory = this.personalDataFormGroup.get('dataCategory').value;\n    //         this.personalData.dataSubCategory = this.personalDataFormGroup.get('dataSubCategory').value;\n            \n    //     } else {\n    //         this.personalDataFormGroup.get('dataCategory').setValue(this.personalData.dataCategory);\n    //         this.personalDataFormGroup.get('dataSubCategory').setValue(this.personalData.dataSubCategory);\n            \n    //     }\n    // }\n\n    // // isValidForm() {\n    // //     let formValid = this.personalDataFormGroup.valid;\n    // //     return formValid;\n    // }\n\n    sampleJson() {\n         return of(PERSONAL_DATA_AFFECTED.map(document => document));\n    }\n    \n    onUploadAttachments(): void {\n        this.dialogRef = this.dialog.open(OrgUploadComponent, {\n          panelClass: ['organisation-upload-dialog', 'dialogs'],\n          disableClose: true,\n          data: {\n            multiple: false\n          }\n        });\n    \n        this.dialogRef.afterClosed().subscribe((result: { status: boolean, row: FileUpload }) => {\n          console.log('row:', result.row);\n    \n          if (result.status) {\n            this.ComplaintEvidence = result.row;\n          }\n          console.log(this.ComplaintEvidence);\n        });\n      }\n\n\n      manageRequestForMoreInfo(){\n\n\n        this.httpSub = this.http.get<ApiPayload>(this.endpoints.CheckComplaintRequestForInfo + '?ComplaintTrackingNo='+ this.ComplaintTrackingNumber)\n        .pipe(catchError(this.service.handleError))\n        .subscribe((response) => {\n          console.log(response.data.Comments);\n          this.dialogRef = this.dialog.open(ComplaintManageMoreInformationComponent, {\n            width: '1391px',\n            height: '595px',\n            data: {\n                ComplaintTrackingNumber:this.ComplaintTrackingNumber,\n                RequestedInformation : response.data.Comments,  \n            }\n          });\n    \n          this.dialogRef.afterClosed().subscribe(() => {\n            this.allDialogRef.closeAll();\n            this.route.navigate(['/complaints/find']);\n          });\n    \n          this.processing = false;\n        }, (error) => {\n          this.processing = false;\n    \n          if (error.error.message) {\n            this.dialogRef = this.dialog.open(SuccessfulMessageDialogComponent, {\n              panelClass: ['successful-message-dialog', 'dialogs'],\n              disableClose: true,\n              data: {\n                title: error.error.message['title'] ? error.error.message['title'] : 'Operation Failed',\n                message: error.error.message['body'] ? error.error.message['body'] : environment.technicalErrorResponse,\n                status: false,\n              }\n            });\n          } else {\n            this.service.determineErrorResponse(error);\n          }\n        });\n\n     \n                \n   \n      }\n\n      getRequestInfoData(): any{\n\n        return{\n\n            ComplaintTrackingNo: this.ComplaintTrackingNumber,\n            RequestCategory: 'Complaints'\n       \n          }\n      }\n\n      onPreviewForm(download: boolean): void {\n\n        this.dialogRef = this.dialog.open(DownloadComplaintComponent, {\n          panelClass: ['download-complaint-dialog', 'dialogs'],\n          disableClose: true,\n          data: {\n            download: download,\n            row: this.application\n            \n          }\n        });\n\n      }\n\n    \n}\n","\n<fury-page-layout mode=\"card\">\n    <fury-page-layout-header>\n        <fury-breadcrumbs [@fadeInRight] [crumbs]=\"['Complaints']\" current=\"Manage\"></fury-breadcrumbs>\n    </fury-page-layout-header>\n\n    <fury-page-layout-content [fxLayoutGap]=\"gap\" fxLayout=\"column\">\n        <!-- buttons added on the manage file -->\n        <div class=\"actions-button-padding\" *ngIf=\"isDirector == false\">\n            <mat-toolbar>\n                <mat-toolbar-row>\n                    <span class=\"example-spacer\"></span>\n\n                    <button mat-raised-button matTooltip=\"View Timeline\" [disabled] = \"disableResolve == true\" class=\"actions-button-padding\" \n                    color=\"primary\" (click)=\"markAsResolved()\">\n                        <!-- <mat-icon>thumbs-up</mat-icon> -->\n                        <span>Mark as resolved</span>\n                    </button>\n\n                    <button mat-raised-button class=\"actions-button-padding\" [disabled] = \"disableForward == true\"(click)=\"forwardComplaint()\" color=\"primary\" [ngStyle]=\"{'margin-left':'30px'}\">\n            \n                        <span>Forward Complaint</span>\n                    </button> \n\n\n                    <button mat-raised-button *ngIf=\"manageRequestForInfo == true\" class=\"actions-button-padding\" (click)=\"manageRequestForMoreInfo()\" color=\"primary\" [ngStyle]=\"{'margin-left':'30px'}\">\n            \n                        <span>Manage request for  more information</span>\n                    </button> \n\n                    <button mat-raised-button  class=\"actions-button-padding\" *ngIf=\"application.ComplaintSourceID == 1\"  (click)=\"onSave()\" color=\"primary\" [ngStyle]=\"{'margin-left': '500px'}\">\n                        \n                        <span>Save Changes</span>\n                    </button>\n                </mat-toolbar-row>\n            </mat-toolbar>\n        </div>\n\n        <div class=\"actions-button-padding\" *ngIf=\"isDirector == true\">\n            <mat-toolbar>\n                <mat-toolbar-row>\n\n                    <button \n                        mat-raised-button class=\"actions-button-padding\"\n                        color=\"primary\"\n                        [ngStyle]=\"{'margin-right':'30px'}\"\n                        [disabled]=\"disableResolve == true\"\n                            (click)=\"markUnderInvestigation()\">\n                        <span> Investigate </span>\n                    </button>\n                    \n\n                    <button mat-raised-button matTooltip=\"View Timeline\" [disabled] = \"disableResolve == true\" class=\"actions-button-padding\" \n                    color=\"primary\" (click)=\"markAsResolved()\">\n                        <!-- <mat-icon>thumbs-up</mat-icon> -->\n                        <span>Mark as resolved</span>\n                    </button>\n\n                    <button mat-raised-button matTooltip=\"View Timeline\" [disabled] = \"disableResolve == true\" class=\"actions-button-padding\" [ngStyle]=\"{'margin-left':'30px'}\"\n                    color=\"primary\" (click)=\"moreInformation()\">\n                        <!-- <mat-icon>thumbs-up</mat-icon> -->\n                        <span>Request for more information</span>\n                    </button>   \n                </mat-toolbar-row>\n            </mat-toolbar>\n        </div>\n        <div [fxLayoutGap]=\"gap\" fxFlex=\"noshrink\" fxLayout=\"column\" fxLayout.gt-sm=\"row\"\n             fxLayoutAlign.gt-sm=\"start stretch\">\n            <fury-card [fxFlex.gt-sm]=\"col2\"\n                       class=\"basic-forms route-animations-elements\"\n                       [@fadeInUp]\n                       fxFlex=\"grow\">\n                <fury-card-header>\n                    <fury-card-header-heading>Complaint Information</fury-card-header-heading>\n                </fury-card-header>\n                <fury-card-content fxLayout=\"column\" class=\"form-padding\">\n\n                    <form [formGroup]=\"complaintForm\">\n\n                        <fieldset>\n                            <legend>Data Subject Details</legend>\n                            <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Data subject name</mat-label>\n                                    <input formControlName=\"dataSubjectName\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Data Subject Email</mat-label>\n                                    <input formControlName=\"dataSubjectEmail\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Data Subject Phone</mat-label>\n                                    <input formControlName=\"dataSubjectPhone\" matInput>\n                                </mat-form-field>\n                            </div>\n                        </fieldset>\n\n                        <fieldset>\n                            <legend>Data Subject Organisation</legend>\n                            <mat-form-field fxFlex=\"2 1 auto\" *ngIf=\"application.ComplaintSourceID == 2\">\n                                <mat-label>Who are you complaining as</mat-label>\n                                <input formControlName=\"ComplaintCategory\" matInput>\n                            </mat-form-field>\n\n                            <mat-form-field fxFlex=\"2 1 auto\" *ngIf=\"application.ComplaintSourceID == 1\">\n                                <mat-label>Who are you complaining as</mat-label>\n                                <input value=\"Individual\" matInput [disabled]=\"true\">\n                            </mat-form-field>\n\n                            <mat-form-field fxFlex=\"2 1 auto\" *ngIf=\"application.ComplainerCategory === 'individual'\">\n                                <mat-label>Organisation Complained From</mat-label>\n                                <input formControlName=\"OrganisationComplainedFrom\" matInput>\n                            </mat-form-field>\n\n                            <mat-form-field fxFlex=\"2 1 auto\" *ngIf=\"application.ComplainerCategory === 'individual'\">\n                                <mat-label>Other Organisation</mat-label>\n                                <input formControlName=\"OtherOrganisationComplainedFrom\" matInput>\n                            </mat-form-field>\n                        </fieldset>\n\n                        <fieldset>\n                            <legend>Organisation Contact Person Details</legend>\n                            <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Contact First Name</mat-label>\n                                    <input formControlName=\"ContactFirstName\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Contact Last Name</mat-label>\n                                    <input formControlName=\"ContactLastName\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Contact Email</mat-label>\n                                    <input formControlName=\"ContactEmailAddress\" matInput>\n                                </mat-form-field>\n                            </div>\n                        </fieldset>\n\n                        <fieldset>\n                            <legend>Details Organisation Complained To</legend>\n                            <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                                <mat-form-field fxFlex=\"2 1 auto\" >\n                                    <mat-label>Organisation Complained To</mat-label>\n                                    <input formControlName=\"OrganisationComplainedTo\" matInput>\n                                </mat-form-field>\n\n                                <mat-form-field fxFlex=\"2 1 auto\" *ngIf=\"application.OrganisationComplainedToName == undefined organisation\" >\n                                    <mat-label>Other Organisation Complained To</mat-label>\n                                    <input formControlName=\"OtherOrganisationComplainedTo\" matInput>\n                                </mat-form-field>  \n                            </div>\n                        </fieldset>\n\n                        <fieldset *ngIf=\"application.ComplaintSourceID == 2\">\n                            <legend>Complaint in Brief</legend>\n                            <mat-label>Personal Data Affected</mat-label>\n                            <mat-grid-list cols=\"4\" rowHeight=\"4rem\">\n                                <mat-grid-tile *ngFor=\"let data of personalData\" >\n                                    {{data.DataSubCategoryName}}\n                                </mat-grid-tile>\n                               \n                            </mat-grid-list>\n                        </fieldset>\n\n                        <!--<fieldset *ngIf=\"application.ComplaintSourceID == 1\">\n                            <legend>Personal Data Affected</legend>\n                            <ng-container *ngIf=\"!isViewOnly\">\n                                <form [formGroup]=\"personalDataFormGroup\">\n                                    <ng-template matStepLabel>Personal Data</ng-template>\n\n                                    <div class=\"content\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n                                        <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                                            <mat-form-field fxFlex=\"2 2 auto\" appearance=\"fill\">\n                                                <mat-label>Affected Data Category</mat-label>\n                                                <mat-select formControlName=\"dataCategory\"  (selectionChange)=\"onSelectCategory($event)\">\n                                                    <mat-option \n                                                                *ngFor=\"let type of $dataCategories\"\n                                                                [value]=\"type\">{{ type.name }}\n                                                    </mat-option>\n                                                </mat-select>  \n                                            </mat-form-field>\n                                            <mat-form-field fxFlex=\"2 2 auto\" appearance=\"fill\">\n                                                <mat-label>SubCategories</mat-label>\n                                                <mat-select formControlName=\"dataSubCategory\" multiple>\n                                                    <mat-option\n                                                            *ngFor=\"let type of $subCategories\"\n                                                            [value]=\"type\">{{ type.value }}\n                                                    </mat-option>\n                                                </mat-select>\n                                                \n                                            </mat-form-field>\n                                        </div>\n                                    </div>\n                                    <div *ngIf=\"!isViewOnly\" style=\"text-align: right; padding-top: 5px; padding-bottom: 5px;\">\n                                        <button mat-raised-button\n                                                (click)=\"addOrUpdatePersonalData(isEditingPersonalData?2:1)\" color=\"primary\"\n                                                >\n                                            \n                                            <span>Add</span>\n                                        </button>&nbsp;\n                                        <span class=\"example-spacer\"></span>\n                                        <button mat-raised-button (click)=\"resetPolicy()\" color=\"warn\">\n                                            \n                                            <span>Cancel</span>\n                                        </button>\n                                    </div>\n                                </form>\n                                 <div *ngIf=\"!isViewOnly\" style=\"text-align: right; padding-top: 5px; padding-bottom: 5px;\">\n                                    <button mat-raised-button\n                                            (click)=\"addOrUpdatePersonalData(isEditingPersonalData?2:1)\" color=\"primary\"\n                                            [disabled]=\"!isValidForm()\">\n                                        \n                                        <span>Add</span>\n                                    </button>&nbsp;\n                                    <span class=\"example-spacer\"></span>\n                                    <button mat-raised-button (click)=\"resetPolicy()\" color=\"warn\">\n                                        \n                                        <span>Cancel</span>\n                                    </button>\n                                </div> \n                            </ng-container>\n                             <div class=\"content\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n                                <table mat-table [dataSource]=\"list\">\n                                    <ng-container matColumnDef=\"nber\">\n                                        <th mat-header-cell *matHeaderCellDef style=\"width: 5%\"\n                                            class=\"tableFontSize firstColumnTable alignCenter\">#\n                                        </th>\n                                        <td mat-cell *matCellDef=\"let element; let j=index;\"\n                                            class=\"tableFontSize firstColumnTable alignCenter\">\n                                            {{j + 1}}\n                                        </td>\n                                    </ng-container>\n                                    <ng-container matColumnDef=\"personalDataCategory\">\n                                        <th mat-header-cell *matHeaderCellDef class=\"tableFontSize \" style=\"width: 20%\"> Data Category</th>\n                                        <td mat-cell *matCellDef=\"let element\" class=\"tableFontSize \"> {{element.dataCategory.name}}</td>\n                                    </ng-container>\n                                    <ng-container matColumnDef=\"personalDataSubCategory\">\n                                        <th mat-header-cell *matHeaderCellDef class=\"tableFontSize \" style=\"width: 20%\"> Data SubCategories\n                                        </th>\n                                        <td mat-cell *matCellDef=\"let element\"\n                                            class=\"tableFontSize \">\n                                            <div *ngFor=\"let p of element.dataSubCategory\">\n                                                {{p.value}},\n                                            </div>\n                                        </td>\n                                    </ng-container>\n                                    \n                                    <ng-container matColumnDef=\"actions\">\n                                        <th mat-header-cell *matHeaderCellDef style=\"width: 5%\"></th>\n                                        <td mat-cell *matCellDef=\"let element; let j=index\" class=\"actions\">\n                                            <ng-container *ngIf=\"!isViewOnly\">\n                                                <a class=\"link\" (click)=\"managePersonalData(2,j)\">\n                                                    <mat-icon color=\"primary\" class=\"material-icons-outlined\" matTooltip=\"Edit item\">edit\n                                                    </mat-icon>\n                                                </a>&nbsp;&nbsp;\n                                                <a class=\"link\" (click)=\"deleteItem(j)\">\n                                                    <mat-icon color=\"warn\" class=\"material-icons-outlined\" matTooltip=\"Delete item\">delete\n                                                    </mat-icon>\n                                                </a>\n                                            </ng-container>\n                                        </td>\n                                    </ng-container>\n                                    <ng-container matColumnDef=\"noData\">\n                                        <td mat-footer-cell *matFooterCellDef colspan=\"7\">\n                                            There is no data!\n                                        </td>\n                                    </ng-container>\n                                    <tr mat-header-row *matHeaderRowDef=\"displayColumns;sticky:true\"></tr>\n                                    <tr mat-row *matRowDef=\"let row; columns: displayColumns;\"></tr>\n                                    <tr mat-footer-row *matFooterRowDef=\"['noData']\" [ngClass]=\"{'hide':!(list?.length==0)}\"></tr>\n                                </table>\n                            </div>\n                        </fieldset> -->\n\n                        <fieldset>\n                            <legend>General Complaint Info</legend>\n                            <div class=\"content\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n\n                                <!-- <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                                        \n                                    <mat-form-field fxFlex=\"2 1 auto\">\n                                    <mat-label>Type of complaint</mat-label>    \n                                    <mat-grid-list cols=\"4\" rowHeight=\"4rem\">\n                                        <mat-grid-tile>\n                                            <input formControlName=\"reasonForTheComplaint\" matInput>\n                                        </mat-grid-tile>\n                                    </mat-grid-list>    \n                                    </mat-form-field>\n                                </div>           -->\n\n                                <fieldset>\n                                    <legend>Complaint Reasons</legend>\n                                    <mat-label>Reasons for complaints</mat-label>\n                                    <mat-grid-list cols=\"4\" rowHeight=\"4rem\">\n                                        <mat-grid-tile *ngFor=\"let data of complaintReasons\" >\n                                                \n                                        </mat-grid-tile>\n                                       \n                                    </mat-grid-list>\n                                 \n                                </fieldset>\n\n                                <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                                    <mat-form-field fxFlex=\"2 1 auto\" appearance=\"fill\">\n                                        <mat-label>Complaint Details</mat-label>\n                                        <textarea matInput\n                                                  cdkTextareaAutosize\n                                                  #autosize=\"cdkTextareaAutosize\"\n                                                  cdkAutosizeMinRows=\"1\"\n                                                  formControlName=\"complaintDetails\"\n                                                  cdkAutosizeMaxRows=\"5\"></textarea>\n                                    </mat-form-field>\n                                </div>\n\n                                <fieldset *ngIf=\"application.ComplaintSourceID == 2\" >\n                                    <legend>Evidence Of Complaint</legend>\n                                    <div class=\"uploaded-document\" matTooltip=\"Open Document\" (click)=\"onReadDocument()\">\n                                        <img src=\"./assets/img/pdf.png\" alt=\"\" [ngStyle]=\"{width: '100px', height: '100px'}\">\n                \n                                        <span *ngIf=\"ComplaintEvidence && ComplaintEvidence.Name\">Document: {{ ComplaintEvidence.Name }} <span *ngIf=\"ComplaintEvidence && ComplaintEvidence.Size\">  -  {{ ComplaintEvidence.Size }} Mbs</span> </span>\n                                    </div>\n        \n                                    <p class=\"no-document-found\" *ngIf=\"ComplaintEvidence && !ComplaintEvidence.Base64\">No document found. Please attach</p>\n    \n                                </fieldset>\n                                <fieldset *ngIf=\"application.ComplaintSourceID == 1\" >\n                                   \n                    \n                                        <div class=\"buttons\">\n                                            <button \n                                                mat-button\n                                                color=\"primary\"\n                                                [disabled]=\"processing\"\n                                                class=\"add-item-button\"\n                                                (click)=\"onUploadAttachments()\">\n                                                <div class=\"button-label\">\n                                                    <mat-icon>add</mat-icon>                            \n                                                    <span> {{ ComplaintEvidence.Base64 ? 'Replace Document' : 'Upload Attachment' }} </span>\n                                                </div>\n                                            </button>\n                        \n                                            <button \n                                                mat-button\n                                                *ngIf=\"ComplaintEvidence.Base64\"\n                                                color=\"primary\"\n                                                [disabled]=\"processing\"\n                                                class=\"remove-button\"\n                                                (click)=\"onRemoveDocument()\">\n                                                <div class=\"button-label\">\n                                                    <mat-icon>clear</mat-icon>\n                                                    <span> Remove Document </span>\n                                                </div>\n                                            </button>\n                                        </div>\n                    \n                                        <div *ngIf=\"ComplaintEvidence.Base64\" class=\"uploaded-document\" matTooltip=\"Open Document\" (click)=\"onReadDocument(ComplaintEvidence)\">\n                                            <img src=\"./assets/img/pdf.png\" alt=\"\">\n                    \n                                            <span>Document: {{ ComplaintEvidence.Name }} <span>  -  {{ ComplaintEvidence.Size }} Mbs</span></span>\n                                        </div>\n                    \n                                </fieldset>\n                            </div> \n                        </fieldset>\n                        <fieldset>\n                            <legend>Forwarded Comments</legend>\n                            <div>\n                                <div>\n                                    <mat-form-field fxFlex=\"2 1 auto\">\n                                        <mat-label>Technical Comments</mat-label>\n                                        <input formControlName=\"TechnicalForwardedComments\" matInput [disabled]=\"true\"/>\n                                    </mat-form-field>\n                                </div>\n                                \n                                <div>\n                                    <mat-form-field fxFlex=\"2 1 auto\">\n                                        <mat-label>Legal Comments</mat-label>\n                                        <input formControlName=\"LegalForwardedComments\" matInput [disabled]=\"true\"/>\n                                    </mat-form-field>\n                                </div>\n\n                                <fieldset>\n                                    <legend>More Information</legend>\n                                    <mat-label>Requested Information</mat-label>\n                                    <mat-grid-list cols=\"4\" rowHeight=\"10rem\" gutterSize=\"20px\" *ngIf=\"RequestedInforamationTrack.length > 0\">\n                                        test\n                                        <mat-grid-tile *ngFor=\"let data of RequestedInforamationTrack\" style=\"background-color: rgb(153, 216, 245)\">\n                                            <mat-grid-tile-header>\n                                                {{data.Comments}}\n                                            <span *ngIf=\"data.ComplaintStatus == 8\">(To, Technical)</span>\n                                            <span *ngIf=\"data.ComplaintStatus == 9\">(To, Legal)</span>\n                                            </mat-grid-tile-header>\n\n                                            <p>\n                                                {{data.Feedback}}\n                                            </p>\n                                            \n                                        </mat-grid-tile>\n                                       \n                                    </mat-grid-list>\n                                </fieldset>\n                            </div> \n                        </fieldset>\n        \n                    </form>\n                </fury-card-content>\n            </fury-card>\n\n        </div>\n        \n        <fieldset>\n            <legend>Comments</legend>\n            <div class=\"content\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n\n                <fieldset>\n                    <legend>Investigation Comments</legend>\n                    <textarea matInput\n                        cdkTextareaAutosize\n                        #autosize=\"cdkTextareaAutosize\"\n                        cdkAutosizeMinRows=\"1\"\n                        cdkAutosizeMaxRows=\"5\"\n                        >{{this.application.InvestigationComments}}</textarea>\n                        \n                    <!-- <fury-comments\n                        [applicationComments]=\"this.application.InvestigationComments\"\n                        [isViewOnly]=\"isViewOnly\"\n                        (commentChange)=\"onCommentChange($event)\">\n                    </fury-comments> -->\n                 \n                </fieldset>\n\n                <fieldset>\n                    <legend>Resolution Comments</legend>\n                    <textarea matInput\n                        cdkTextareaAutosize\n                        #autosize=\"cdkTextareaAutosize\"\n                        cdkAutosizeMinRows=\"1\"\n                        cdkAutosizeMaxRows=\"5\">{{this.application.ResolutionComments}}</textarea>\n\n                        <div>\n                            <fieldset>\n                                <legend>Resolution Document</legend>\n                                <div class=\"uploaded-document\" matTooltip=\"Open Document\" (click)=\"onReadDocument()\">\n                                    <img src=\"./assets/img/pdf.png\" alt=\"\" [ngStyle]=\"{width: '100px', height: '100px'}\">\n            \n                                    <span *ngIf=\"document && document.Name\">Document: {{ document.Name }} <span *ngIf=\"document.Size\">  -  {{ document.Size }} Mbs</span> </span>\n                                </div>\n    \n                                <p class=\"no-document-found\" *ngIf=\"document && !document.Base64\">No document found. Please attach</p>\n\n                            </fieldset>\n                        </div>\n\n                </fieldset>\n\n                <!-- <div fxLayout=\"column\" fxLayout.gt-xs=\"row\" fxLayoutGap=\"8px\" fxLayoutGap.gt-xs=\"24px\">\n                    <mat-form-field fxFlex=\"2 1 auto\" appearance=\"fill\">\n                        <mat-label>Complaint Details</mat-label>\n                        <textarea matInput\n                                  cdkTextareaAutosize\n                                  #autosize=\"cdkTextareaAutosize\"\n                                  cdkAutosizeMinRows=\"1\"\n                                  formControlName=\"complaintDetails\"\n                                  cdkAutosizeMaxRows=\"5\"></textarea>\n                    </mat-form-field>\n                </div> -->\n            </div>\n        </fieldset>\n        <div class=\"buttons\">\n            <button\n                mat-button\n                color=\"primary\" \n                class=\"download\" \n                matTooltip=\"Keep a copy of the information you have filled in\"\n                (click)=\"onPreviewForm(true)\">\n                <div class=\"button-label\">\n                    <mat-icon>sim_card_download</mat-icon>\n                    <span>Download</span>\n                </div>\n            </button>\n\n            <button\n                mat-button\n                color=\"primary\" \n                class=\"preview\" \n                matTooltip=\"Have a look at all the information you have filled in before sending.\"\n                (click)=\"onPreviewForm(false)\">\n                <div class=\"button-label\">\n                    <mat-icon>visibility</mat-icon>\n                    <span>Preview</span>\n                </div>\n            </button>\n            </div>\n    </fury-page-layout-content>\n</fury-page-layout>\n","import {AfterViewInit,EventEmitter, Component, Input, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {Complaint, COMPLAINT_DEMO_DATA} from '../../complaints-model';\nimport {\n    DataType,\n    DateFinderOptions,\n    IFinderField,\n    ListColumn,\n    LookupFinderOptions,\n    TextFinderOptions\n} from '../../../../../@fury/shared/list/list-column.model';\nimport { Subscription} from 'rxjs';\nimport {MatTableDataSource} from '@angular/material/table';\nimport {MatPaginator} from '@angular/material/paginator';\nimport {MatSort} from '@angular/material/sort';\nimport {MatDialog} from '@angular/material/dialog';\nimport {Observable, of, ReplaySubject} from 'rxjs';\nimport {filter} from 'rxjs/operators';\nimport {fadeInRightAnimation} from '../../../../../@fury/animations/fade-in-right.animation';\nimport {fadeInUpAnimation} from '../../../../../@fury/animations/fade-in-up.animation';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {BaseFuryForm} from '../../../../../@fury/shared/base-fury-form';\nimport {CdkTextareaAutosize} from '@angular/cdk/text-field';\nimport {KeycloakService} from 'keycloak-angular';\nimport {ComplaintService} from '../../complaints.service';\nimport {WorkflowServiceService} from '../../../../services/workflow-service.service';\nimport {CompanyRegistrationService} from '../../../company-registration/company-registration.service';\nimport { RoutingService } from '../../../../services/routing.service';\n\n\n\n@Component({\n    selector: 'fury-complaints-find',\n    templateUrl: './complaints-find.component.html',\n    styleUrls: ['./complaints-find.component.scss',\n    ],\n    animations: [fadeInRightAnimation, fadeInUpAnimation]\n})\nexport class ComplaintsFindComponent extends BaseFuryForm implements OnInit, AfterViewInit, OnDestroy {\n\n    // TODO:: Simulating a service with http that returns observables\n    subject$: ReplaySubject<Complaint[]> = new ReplaySubject<Complaint[]>(1);\n    data$: Observable<Complaint[]> = this.subject$.asObservable();\n    complaints: Complaint[];\n    $processingEvent: EventEmitter<boolean> = new EventEmitter();\n    $errorsEvent: EventEmitter<any> = new EventEmitter();\n    $resultComplaintsEvent: EventEmitter<Complaint> = new EventEmitter();\n    statusList: any[] = [];\n    pageIndex = this.routingService.complaintsTablePageIndex\n    pageSize = 10;\n    subscriptions: Subscription[] = [];\n    statuses: any = [\n        {code: '001', description: 'Form 9'},\n        {code: '002', description: 'FORM 6'},\n        {code: '003', description: 'FORM 11'}\n    ];\n\n    @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\n    @ViewChild(MatSort, {static: true}) sort: MatSort;\n    @Input()\n\n\n\n    columns: ListColumn[] = [\n        {name: 'Complaint Tracking Number', property: 'ComplaintTrackingNo', visible: true, isModelProperty: true},\n        {name: 'Complaint Source', property: 'ComplaintSourceName', visible: true, isModelProperty: true},\n        {name: 'Type of Complaint', property: 'FormName', visible: true, isModelProperty: true},\n        {name: 'Email Address', property: 'EmailAddress', visible: true, isModelProperty: true},\n        {name: 'First Name', property: 'FirstName', visible: true, isModelProperty: true},\n        {name: 'Last Name', property: 'LastName', visible: true, isModelProperty: true},\n        {name: 'Phone Number', property: 'PhoneNumber', visible: true, isModelProperty: true},\n        {name: 'Have Complained to Organisation?', property: 'HaveComplainedToOrganisationAlready', visible: true, isModelProperty: true},\n        {name: 'Organisation Complained To', property: 'OrganisationComplainedToName', visible: true, isModelProperty: true},\n        {name: 'Complaint Timeline', property: 'Status', visible: true, isModelProperty: true},\n        {name: 'Actions', property: 'actions', visible: true},\n    ] as ListColumn[];\n\n    dataSource: MatTableDataSource<Complaint> =  new MatTableDataSource<Complaint>();\n\n    // Search fields\n    searchFields: IFinderField[];\n\n    @ViewChild('autosize') autosize: CdkTextareaAutosize;\n\n    constructor(\n        private dialog: MatDialog,\n        private route: ActivatedRoute, public authService: KeycloakService,\n        private router: Router,\n        public _workflowService: WorkflowServiceService,\n        public registrationService: CompanyRegistrationService,\n        public complaintService: ComplaintService,\n        private routingService : RoutingService\n    ) {\n        super(\n            authService,\n            _workflowService, registrationService, \n            complaintService\n        );\n    }\n\n\n    // TODO:: Need to hide addressedTo Column from data controllers its mainly for nita data-protection officers\n    get visibleColumns() {\n        return this.columns.filter(column => column.visible).map(column => column.property);\n    }\n\n    getData() {\n        return of(COMPLAINT_DEMO_DATA.map(complaint => new Complaint(complaint)));\n    }\n\n    ngOnInit(): void {\n        console.log(this.pageIndex);    \n\n\n        this.dataSource.paginator = this.paginator;\n\n        this.getComplaints();\n        console.log(this.getComplaints);\n\n      \n\n\n        this.route.paramMap.subscribe(params => {\n            console.log(params.has('navigationPrams'));\n        });\n\n        this.statusList = this.getGenericDDL(this.statuses, {key: 'code', label: 'description'}, false);\n\n        this.defineSearchFields();\n\n       \n        \n\n    }\n\n    ngAfterViewInit() {\n\n        setTimeout(() =>{\n\n            this.paginator.pageIndex = this.pageIndex;\n              // complaints\n            this.subscriptions['$resultComplaintsEvent'] = this.$resultComplaintsEvent.subscribe(result => {\n                if (result) {\n                    \n                    this.complaints = result;\n            \n\n                    this.dataSource.data = result;\n            \n                    this.isLoaded = true;\n                }\n                else{\n                    console.log(\"expected\");\n                }\n            });\n        }, 0)\n   \n    }\n\n    onFilterChange(value) {\n        if (!this.dataSource) {\n            return;\n        }\n        value = value.trim();\n        value = value.toLowerCase();\n        this.dataSource.filter = value;\n    }\n\n    ngOnDestroy(): void {\n    }\n\n    private defineSearchFields() {\n        this.searchFields = [\n            {\n                label: 'Complaint reference #',\n                fieldName: 'complaintReference',\n                operators: TextFinderOptions,\n                dataType: DataType.TEXT\n            },\n            {\n                label: 'Data subject',\n                fieldName: 'subjectNames',\n                operators: TextFinderOptions,\n                dataType: DataType.TEXT\n            },\n            {\n                label: 'Form Types',\n                fieldName: 'Form',\n                operators: LookupFinderOptions,\n                dataType: DataType.TEXT,\n                lookupOptions: this.statusList,\n                multiple: true\n            },\n            {\n                label: 'Reason for the complaint',\n                fieldName: 'type',\n                operators: TextFinderOptions,\n                dataType: DataType.TEXT\n            },\n            {\n                label: 'Filed Against',\n                fieldName: 'compliantAgainst',\n                operators: TextFinderOptions,\n                dataType: DataType.TEXT\n            },\n            {\n                label: 'Registration date',\n                fieldName: 'registrationDate',\n                operators: DateFinderOptions,\n                dataType: DataType.DATETIME\n            },\n        ];\n    }\n\n    getComplaints() {\n        // tslint:disable-next-line:max-line-length\n        this.complaintService.getComplaints(this.$processingEvent, this.$resultComplaintsEvent, this.$errorsEvent);\n    }\n\n    viewComplaint(complaint) {\n       \n        this.router.navigate(['/complaints/view-complaint'],\n            {state: {ComplaintTrackingNumber: complaint.ComplaintTrackingNo}}).then( );\n    }\n\n   manageComplaint (complaint) {\n\n        this.routingService.complaintsTablePageIndex = this.pageIndex;\n       \n        this.router.navigate(['/complaints/complaints-edit'],\n            {state: {ComplaintTrackingNumber: complaint.ComplaintTrackingNo,\n                        ComplaintSourceID : complaint.ComplaintSourceID}}).then( );\n          \n    }\n\n    onPaginateChange(event){\n\n        this.pageIndex =  event.pageIndex;\n        console.log(this.pageIndex);\n\n    }\n\n}\n","<fury-page-layout mode=\"card\">\n    <fury-page-layout-header>\n        <fury-breadcrumbs [@fadeInRight] [crumbs]=\"['Complaints']\" current=\"Find\"></fury-breadcrumbs>\n    </fury-page-layout-header>\n\n    <fury-page-layout-content [@fadeInUp]>\n        <fury-list name=\"Complaints\" [columns]=\"columns\" (filterChange)=\"onFilterChange($event)\"\n                   finderDialogTitle=\"Complaints Finder\"\n                   [searchFields]=\"searchFields\">\n            <table [dataSource]=\"dataSource\" mat-table matSort>\n                <ng-container matColumnDef=\"checkbox\">\n                    <th *matHeaderCellDef class=\"actions-cell\" mat-header-cell>\n                        <mat-checkbox color=\"primary\" (click)=\"$event.stopPropagation()\"></mat-checkbox>\n                    </th>\n                    <td *matCellDef=\"let row\" class=\"actions-cell\" mat-cell>\n                        <mat-checkbox color=\"primary\" (click)=\"$event.stopPropagation()\"></mat-checkbox>\n                    </td>\n                </ng-container>\n\n                <!-- fullName Column -->\n                <ng-container *ngFor=\"let column of columns\">\n                    <ng-container *ngIf=\"column.isModelProperty\" [matColumnDef]=\"column.property\">\n                        <th *matHeaderCellDef mat-header-cell mat-sort-header> {{ column.name }}</th>\n                        <td *matCellDef=\"let row\" mat-cell>\n                            {{ row[column.property] }}\n                        </td>\n                    </ng-container>\n                </ng-container>\n\n                <ng-container matColumnDef=\"actions\">\n                    <th *matHeaderCellDef class=\"actions-cell\" mat-header-cell mat-sort-header></th>\n                    <td *matCellDef=\"let row\" class=\"actions-cell\" mat-cell>\n                        <button type=\"button\" mat-icon-button [matMenuTriggerFor]=\"actionsMenu\"\n                                (click)=\"$event.stopPropagation()\">\n                            <mat-icon>more_vert</mat-icon>\n                        </button>\n\n                        <mat-menu #actionsMenu=\"matMenu\" yPosition=\"below\" xPosition=\"before\">\n                            <!-- <button (click)=\"viewComplaint(row)\"  mat-menu-item\n                                routerLinkActive=\"router-link-active\">\n                                <mat-icon>visibility</mat-icon>\n                                <span>View</span>\n                            </button> -->\n                            <button (click)=\"manageComplaint(row, $event)\" mat-menu-item routerLinkActive=\"router-link-active\">\n                                <mat-icon>settings</mat-icon>\n                                <span>Manage</span>\n                            </button>\n                        </mat-menu>\n                    </td>\n                </ng-container>\n                <tr *matHeaderRowDef=\"visibleColumns\" mat-header-row></tr>\n                <tr\n                        *matRowDef=\"let row; columns: visibleColumns;\"\n                        class=\"clickable route-animations-elements\"\n                        mat-row></tr>\n            </table>\n            <mat-paginator  [pageSize]=\"pageSize\" (page)=\"onPaginateChange($event)\"></mat-paginator>\n        </fury-list>\n    </fury-page-layout-content>\n</fury-page-layout>\n\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {ComplaintsFindComponent} from './components/complaints-find/complaints-find.component';\nimport {ViewComplaintComponent} from './components/view-complaint/view-complaint.component';\nimport {AuthGuard} from '../../authentication/auth.guard';\nimport {ComplaintsEditComponent} from './components/complaints-edit/complaints-edit.component';\nimport { ComplaintPendingTasksComponent } from './components/complaint-pending-tasks/complaint-pending-tasks.component';\n\n\nconst routes: Routes = [\n    {\n        path: 'find',\n        component: ComplaintsFindComponent,\n        canActivate: [AuthGuard],\n        data: {\n            roles: ['view.complaint', 'find.complaint'],\n            action: \"FIND\"\n        }\n    },\n\n    {\n        path: 'pending-tasks',\n        component: ComplaintPendingTasksComponent,\n        canActivate: [AuthGuard],\n        data: {\n            roles: ['view.complaint', 'find.complaint'],\n            action: \"FIND\"\n        }\n    },\n    \n    {\n        path: 'view-complaint',\n        component: ViewComplaintComponent,\n        canActivate: [AuthGuard], data: {\n            roles: ['view.complaint'],\n            action: \"VIEW\"\n        }\n    },\n    \n    {\n        path: 'complaints-edit',\n        component: ComplaintsEditComponent,\n        canActivate: [AuthGuard], data: {\n            roles: ['view.complaint'],\n            action: \"VIEW\"\n        }\n    },\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class ComplaintsRoutingModule {\n}\n"]}