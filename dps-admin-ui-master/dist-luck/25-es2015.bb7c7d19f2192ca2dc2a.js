(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{hktz:function(t,e,a){"use strict";a.r(e),a.d(e,"ReportingAndNotificationModule",function(){return Aa});var n=a("ofXK"),i=a("tyNb"),o=a("fXoL"),s=a("M9IT"),c=a("Dh3D"),r=a("+0xr"),l=a("jtHE"),b=a("LRne"),d=a("pbD1");class u{}class m{}class p{}const h=[{cause:"Malicious internal act",code:"CA9238",id:"5"},{cause:"Accidental internal act",code:"C2333",id:"2"},{cause:"Malicious external act",code:"CA0002",id:"1"},{cause:"Unknown",code:"CA0003",id:"4"},{cause:"Other",code:"CA0005",id:"6"}],g=[{id:"1",rating:"1",impact:"Affected Data subject will be required to submit information afresh or fill forms again"},{id:"2",rating:"1",impact:"Affected Data subject may receive unsolicited email as a result of the breach"},{id:"3",rating:"1",impact:"Affected Data subject may be inconvenienced by marketing ads"},{id:"4",rating:"1",impact:"Affected Data subject may be inconvenienced by marketing ads"},{id:"5",rating:"1",impact:"Affected Data subject may experience loss of privacy but without risk of financial, psycological or physical harm"},{id:"2",rating:"1",impact:"Affected Data Subject may suffer fines or additional cost to renew a service as a result of the breach"},{id:"2",rating:"2",impact:"Affected Data subject may receive unsolicited targeted mailings likely to damage theire reputation"},{id:"2",rating:"2",impact:"Affected Data Subject may suffer targeted online advertising on a private aspect that the individual wanted to keep confidential (e.g. pregnancy advertising, drug treatment).  "},{id:"4",rating:"2",impact:"Affected Data Subject may suffer intimidation on social networks or cyber bullying"},{id:"4",rating:"2",impact:"Affected Data Subject may suffer defamation or loss of reputation"},{id:"3",rating:"3",impact:"Data Subjects may suffer financial loss as a result of a fraud (e.g. after an attempted phishing);       "},{id:"3",rating:"3",impact:"Data Subjects may suffer violation of fundametal human rights as a result of a breach e.g Discrimination, Persecution"},{id:"3",rating:"3",impact:"Data Subject may lose opportunities as a result of the breach e.g loss of scholarship"},{id:"3",rating:"3",impact:"Data Subject may suffer damage to property"},{id:"4",rating:"4",impact:"Data subject may fail to work or lose a job."},{id:"4",rating:"4",impact:"Data subject may suffer long-term or permanent psychological ailments;           "},{id:"4",rating:"4",impact:"Data subject may suffer financial risk        "},{id:"4",rating:"4",impact:" The data breach will result in loss of access to vital infrastructure e.g water, electricity"},{id:"4",rating:"4",impact:"The data breach exposed data belonging to chidren"},{id:"4",rating:"4",impact:"Data Breach exposed name, NIN and other personal data"}],f=[{id:"DAB/16/10/21/4651",incidentDate:"2021-02-02T21:00:00.000Z",howIncidentHappened:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",delayInReporting:!0,reasonForDelay:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",measuresInPlace:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",status:"SUBMITTED",policies:[{id:1,policy:"",explanation:"",implementationDate:"2021-02-02T21:00:00.000Z"}],personalDataAffected:[{dataCategory:{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},dataSubCategory:[],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0},{dataCategory:{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},dataSubCategory:[],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0}],containmentAndRecovery:{actionTaken:!0,detailsOfActionTaken:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",hasDataBeenRecovered:!0,detailsOfRecovery:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",dateOfRecovery:"2021-02-02T21:00:00.000Z",preventionSteps:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"},miscellaneous:{medialCoverageOfIncident:!0,regulatoryBodiesNotified:!0},registrationDate:"2021-02-02T21:00:00.000Z",impactOfBreach:[{id:"1",rating:"1",impact:"Affected Data subject will be required to submit information afresh or fill forms again"},{id:"2",rating:"1",impact:"Affected Data subject may receive unsolicited email as a result of the breach"}],potentialConsequences:[{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"A paper file or equipment is lost or stolen."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Paper or equipment left accessible in an unsecured location.  "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Mail lost or opened before being returned to sender.    "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Hacking, malware (e.g. ransomware) and/ or phishing.    "}],controls:[],causes:[{cause:"Malicious internal act",code:"CA9238",id:"5"},{cause:"Accidental internal act",code:"C2333",id:"2"}],reportedBy:"enockm15",companyReporting:"MTN Uganda",assignedTo:"angella",lastModifiedDate:"2021-02-02T21:00:00.000Z"}],C={id:"DAB/16/10/21/4651",incidentDate:"2021-02-02T21:00:00.000Z",howIncidentHappened:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",delayInReporting:!0,reasonForDelay:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",measuresInPlace:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",status:"SUBMITTED",policies:[{id:1,policy:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",explanation:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",implementationDate:"2021-02-02T21:00:00.000Z"}],personalDataAffected:[{dataCategory:{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},dataSubCategory:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"5",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0},{dataCategory:{id:"3",name:"Individual Commercial Information",subCategories:[{id:"1",value:"Records of personal propert"},{id:"2",value:"Purchasing habits."}]},dataSubCategory:[{id:"1",value:"Records of personal propert"},{id:"2",value:"Purchasing habits."}],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"5",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0}],containmentAndRecovery:{actionTaken:!0,detailsOfActionTaken:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",hasDataBeenRecovered:!0,detailsOfRecovery:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",dateOfRecovery:"2021-02-02T21:00:00.000Z",preventionSteps:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"},miscellaneous:{medialCoverageOfIncident:!0,regulatoryBodiesNotified:!0},registrationDate:"2021-02-02T21:00:00.000Z",impactOfBreach:[{id:"1",rating:"1",impact:"Affected Data subject will be required to submit information afresh or fill forms again"},{id:"2",rating:"1",impact:"Affected Data subject may receive unsolicited email as a result of the breach"}],potentialConsequences:[{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"A paper file or equipment is lost or stolen."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Paper or equipment left accessible in an unsecured location.  "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Mail lost or opened before being returned to sender.    "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Hacking, malware (e.g. ransomware) and/ or phishing.    "}],controls:[],causes:[{cause:"Malicious internal act",code:"CA9238",id:"5"},{cause:"Accidental internal act",code:"C2333",id:"2"}],reportedBy:"enockm15",companyReporting:"MTN Uganda",assignedTo:"angella",lastModifiedDate:"2021-02-02T21:00:00.000Z"};var T=a("Ku73"),v=a("nStZ"),y=a("7R0Y"),D=a("H+bZ"),x=a("3fLY"),U=a("WVpI"),R=a("AytR"),O=a("aTx8"),P=a("tk/3");let w=(()=>{class t extends U.a{constructor(t,e){super(),this.auth=t,this.http=e,this.baseAPIUri=R.a.backend,this.httpUtils=new x.a(t,e)}getBreaches(t,e,a){return this.httpUtils.invokeGet(this.baseAPIUri+"v1.0/data-breach/",t,e,a,this.handleError)}getBreach(t,e,a,n){return this.httpUtils.invokeGet(this.baseAPIUri+"v1.0/data-breach/single?DataBreachTrackingNo="+n,t,e,a,this.handleError)}}return t.\u0275fac=function(e){return new(e||t)(o.Yb(O.c),o.Yb(P.c))},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=a("0IaG"),k=a("xBcV"),I=a("Hbgg"),B=a("rnAf"),A=a("rvYj"),F=a("a+RD"),M=a("bSwM"),E=a("bTqV"),N=a("STbY"),L=a("NFeN");function q(t,e){1&t&&(o.Ub(0,"th",13),o.Ub(1,"mat-checkbox",14),o.cc("click",function(t){return t.stopPropagation()}),o.Tb(),o.Tb())}function _(t,e){1&t&&(o.Ub(0,"td",15),o.Ub(1,"mat-checkbox",14),o.cc("click",function(t){return t.stopPropagation()}),o.Tb(),o.Tb())}function G(t,e){if(1&t&&(o.Ub(0,"th",20),o.Rc(1),o.Tb()),2&t){const t=o.gc(2).$implicit;o.Cb(1),o.Tc(" ",t.name,"")}}function V(t,e){if(1&t&&(o.Ub(0,"td",21),o.Rc(1),o.Tb()),2&t){const t=e.$implicit,a=o.gc(2).$implicit;o.Cb(1),o.Tc(" ",t[a.property]," ")}}function z(t,e){if(1&t&&(o.Sb(0,17),o.Pc(1,G,2,1,"th",18),o.Pc(2,V,2,1,"td",19),o.Rb()),2&t){const t=o.gc().$implicit;o.nc("matColumnDef",t.property)}}function j(t,e){if(1&t&&(o.Sb(0),o.Pc(1,z,3,1,"ng-container",16),o.Rb()),2&t){const t=e.$implicit;o.Cb(1),o.nc("ngIf",t.isModelProperty)}}function H(t,e){1&t&&o.Pb(0,"th",22)}function $(t,e){if(1&t){const t=o.Vb();o.Ub(0,"td",15),o.Ub(1,"button",23),o.cc("click",function(t){return t.stopPropagation()}),o.Ub(2,"mat-icon"),o.Rc(3,"more_vert"),o.Tb(),o.Tb(),o.Ub(4,"mat-menu",24,25),o.Ub(6,"button",26),o.cc("click",function(){o.Ec(t);const a=e.$implicit;return o.gc().viewBreach(a)}),o.Ub(7,"mat-icon"),o.Rc(8,"visibility"),o.Tb(),o.Ub(9,"span"),o.Rc(10,"Manage"),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=o.Ac(5);o.Cb(1),o.nc("matMenuTriggerFor",t)}}function Q(t,e){1&t&&o.Pb(0,"tr",27)}function W(t,e){1&t&&o.Pb(0,"tr",28)}const Y=function(){return["Breaches"]};let K=(()=>{class t{constructor(t,e,a,n,i,s,c){this.service=t,this.dialog=e,this.route=a,this.endpoints=n,this.http=i,this.router=s,this.dataBreachService=c,this.subject$=new l.a(1),this.data$=this.subject$.asObservable(),this.$processingEvent=new o.o,this.$errorsEvent=new o.o,this.$resultComplaintsEvent=new o.o,this.statusList=[],this.subscriptions=[],this.columns=[{name:"Tracking No / Reference",property:"DataBreachTrackingNo",visible:!0,isModelProperty:!0},{name:"Data Collector/Controller/Processor",property:"OrganisationName",visible:!0,isModelProperty:!0},{name:"Incident Date",property:"IncidentDate",visible:!0,isModelProperty:!0},{name:"Status",property:"StatusName",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}ngOnInit(){this.dataSource=new r.o,this.getBreaches(),this.subscriptions.$resultComplaintsEvent=this.$resultComplaintsEvent.subscribe(t=>{t?(this.breaches=t,this.dataSource.data=t):console.log("expected")})}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}getData(){return Object(b.a)(f.map(t=>t))}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnDestroy(){}defineSearchFields(){this.searchFields=[{label:"Breach Reference #",fieldName:"breachReference",operators:d.e,dataType:d.a.TEXT},{label:"Delay In Reporting",fieldName:"delayInReporting",operators:d.d,dataType:d.a.BOOLEAN,lookupOptions:this.statusList,multiple:!0},{label:"Status",fieldName:"status",operators:d.d,dataType:d.a.TEXT,lookupOptions:this.statusList,multiple:!0},{label:"Registration date",fieldName:" v",operators:d.c,dataType:d.a.DATETIME}]}getBreaches(){this.dataBreachService.getBreaches(this.$processingEvent,this.$resultComplaintsEvent,this.$errorsEvent)}viewBreach(t){this.router.navigate(["/reporting-and-notification/view/"],{state:{DataBreachTrackingNo:t.DataBreachTrackingNo}}).then()}manageBreach(t){this.router.navigate(["/reporting-and-notification/manage/"],{state:{DataBreachTrackingNo:t.DataBreachTrackingNo}}).then()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(D.a),o.Ob(S.b),o.Ob(i.a),o.Ob(y.a),o.Ob(P.c),o.Ob(i.f),o.Ob(w))},t.\u0275cmp=o.Ib({type:t,selectors:[["fury-find-reported-breaches"]],viewQuery:function(t,e){if(1&t&&(o.Kc(s.a,!0),o.Kc(c.a,!0)),2&t){let t;o.zc(t=o.dc())&&(e.paginator=t.first),o.zc(t=o.dc())&&(e.sort=t.first)}},inputs:{columns:"columns"},decls:16,vars:11,consts:[["mode","card"],["current","Find",3,"crumbs"],["name","Breaches","finderDialogTitle","Breaches Finder",3,"columns","searchFields"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","","routerLinkActive","router-link-active",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(t,e){1&t&&(o.Ub(0,"fury-page-layout",0),o.Ub(1,"fury-page-layout-header"),o.Pb(2,"fury-breadcrumbs",1),o.Tb(),o.Ub(3,"fury-page-layout-content"),o.Ub(4,"fury-list",2),o.Ub(5,"table",3),o.Sb(6,4),o.Pc(7,q,2,0,"th",5),o.Pc(8,_,2,0,"td",6),o.Rb(),o.Pc(9,j,2,1,"ng-container",7),o.Sb(10,8),o.Pc(11,H,1,0,"th",9),o.Pc(12,$,11,1,"td",6),o.Rb(),o.Pc(13,Q,1,0,"tr",10),o.Pc(14,W,1,0,"tr",11),o.Tb(),o.Pb(15,"mat-paginator",12),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Cb(2),o.nc("@fadeInRight",void 0)("crumbs",o.qc(10,Y)),o.Cb(1),o.nc("@fadeInUp",void 0),o.Cb(1),o.nc("columns",e.columns)("searchFields",e.searchFields),o.Cb(1),o.nc("dataSource",e.dataSource),o.Cb(4),o.nc("ngForOf",e.columns),o.Cb(4),o.nc("matHeaderRowDef",e.visibleColumns),o.Cb(1),o.nc("matRowDefColumns",e.visibleColumns),o.Cb(1),o.nc("pageSize",e.pageSize))},directives:[k.a,I.a,B.a,A.a,F.a,r.n,c.a,r.c,r.i,r.b,n.n,r.k,r.m,s.a,r.h,M.a,r.a,n.o,c.b,E.a,N.e,L.a,N.a,N.c,i.h,r.j,r.l],styles:[""],data:{animation:[T.a,v.a]}}),t})();var X=a("sF9m"),Z=a("3Pt+"),J=a("YStQ"),tt=a("Nd1k"),et=a("wd/R"),at=a("9Ku7"),nt=a("JIr8"),it=a("M2Gj"),ot=a("cp0P"),st=a("KGtp"),ct=a("3eU1"),rt=a("j7tn"),lt=a("aYi0"),bt=a("UjNt"),dt=a("XiUz"),ut=a("kmnG"),mt=a("qFsG"),pt=a("ihCf"),ht=a("znSr"),gt=a("Qu3c");function ft(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",16),o.cc("click",function(){return o.Ec(t),o.gc().onRemoveDocument()}),o.Ub(1,"div",12),o.Ub(2,"mat-icon"),o.Rc(3,"clear"),o.Tb(),o.Ub(4,"span"),o.Rc(5," Remove Document "),o.Tb(),o.Tb(),o.Tb()}}function Ct(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",17),o.cc("click",function(){o.Ec(t);const e=o.gc();return e.onReadDocument(e.evidenceDocument)}),o.Pb(1,"img",18),o.Ub(2,"span"),o.Rc(3),o.Ub(4,"span"),o.Rc(5),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.Cb(3),o.Tc("",null==t.evidenceDocument?null:t.evidenceDocument.Name," "),o.Cb(2),o.Tc(" - ",null==t.evidenceDocument?null:t.evidenceDocument.Size," Mbs")}}const Tt=function(){return{"margin-bottom":"20px","margin-top":"20px","background-color":"#ABC334",color:"#000"}};let vt=(()=>{class t{constructor(t,e,a,n,i,s,c,r){this.fb=t,this.endpoints=e,this.http=a,this.service=n,this.dialog=i,this.route=s,this.allDialogRef=c,this.parent_data=r,this.BreachCommentsFormGroup=this.fb.group({}),this.$processingEvent=new o.o,this.$errorsEvent=new o.o,this.$resultBreachesEvent=new o.o,this.processing=!1}ngOnInit(){this.BreachCommentsFormGroup=this.fb.group({Comments:new Z.e("",[Z.u.required]),TechnicalForwardedComments:new Z.e(""),LegalForwardedComments:new Z.e("")}),this.BreachCommentsFormGroup.get("TechnicalForwardedComments").setValue(this.parent_data.TechnicalComments),this.BreachCommentsFormGroup.get("LegalForwardedComments").setValue(this.parent_data.LegalComments),console.log(this.parent_data)}getBreachData(){return{Comments:this.BreachCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.DataBreachTrackingNumber,Status:this.parent_data.Status}}onSubmit(){this.processing=!0,console.log("Comments:",this.getBreachData()),this.httpSub=this.http.post(this.endpoints.updateBreachStatus,this.getBreachData()).pipe(Object(nt.a)(this.service.handleError)).subscribe(t=>{this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Update Breach Status",message:t.message,status:200===t.code}}),this.dialogRef.afterClosed().subscribe(()=>{this.allDialogRef.closeAll(),this.route.navigate(["/reporting-and-notification/find/all"])}),this.processing=!1},t=>{this.processing=!1,t.error.message?this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:R.a.technicalErrorResponse,status:!1}}):this.service.determineErrorResponse(t)})}onUploadAttachments(){this.dialogRef=this.dialog.open(bt.a,{panelClass:["resolution-upload-dialog","dialogs"],disableClose:!0,data:{multiple:!1,maxSize:3}}),this.dialogRef.afterClosed().subscribe(t=>{t.status&&(this.evidenceDocument=t.row,console.log(this.evidenceDocument))})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(Z.d),o.Ob(y.a),o.Ob(P.c),o.Ob(D.a),o.Ob(S.b),o.Ob(i.f),o.Ob(S.b),o.Ob(S.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["fury-breach-comments"]],decls:40,vars:8,consts:[[2,"padding","10px"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxFlex","2 1 auto"],["formControlName","TechnicalForwardedComments","matInput","",3,"readonly"],["formControlName","LegalForwardedComments","matInput","",3,"readonly"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],[1,"buttons"],["mat-button","","color","primary",1,"add-item-button",3,"ngStyle","click"],[1,"button-label"],["mat-button","","color","primary","class","remove-button",3,"click",4,"ngIf"],["class","uploaded-document","matTooltip","Open Document",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-button","","color","primary",1,"remove-button",3,"click"],["matTooltip","Open Document",1,"uploaded-document",3,"click"],["src","./assets/images/pdf.png","alt",""]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Rc(2,"Make Comments"),o.Tb(),o.Ub(3,"form",2),o.Ub(4,"mat-dialog-content"),o.Ub(5,"div",3),o.Ub(6,"div"),o.Ub(7,"fieldset"),o.Ub(8,"legend"),o.Rc(9,"Forwarded Comments"),o.Tb(),o.Ub(10,"div"),o.Ub(11,"div"),o.Ub(12,"mat-form-field",4),o.Ub(13,"mat-label"),o.Rc(14,"Technical Comments"),o.Tb(),o.Pb(15,"input",5),o.Tb(),o.Tb(),o.Ub(16,"div"),o.Ub(17,"mat-form-field",4),o.Ub(18,"mat-label"),o.Rc(19,"Legal Comments"),o.Tb(),o.Pb(20,"input",6),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(21,"div",7),o.Ub(22,"mat-form-field",8),o.Ub(23,"mat-label"),o.Rc(24,"Provide Comments"),o.Tb(),o.Pb(25,"textarea",9),o.Ub(26,"mat-hint"),o.Rc(27,"Review Comments"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(28,"section"),o.Ub(29,"div",10),o.Ub(30,"button",11),o.cc("click",function(){return e.onUploadAttachments()}),o.Ub(31,"div",12),o.Ub(32,"span"),o.Rc(33),o.Tb(),o.Tb(),o.Tb(),o.Pc(34,ft,6,0,"button",13),o.Tb(),o.Pc(35,Ct,6,2,"div",14),o.Tb(),o.Ub(36,"button",15),o.cc("click",function(){return e.onSubmit()}),o.Ub(37,"span"),o.Rc(38,"Submit"),o.Tb(),o.Tb(),o.Rc(39,"\xa0 "),o.Tb(),o.Tb()),2&t&&(o.Cb(3),o.nc("formGroup",e.BreachCommentsFormGroup),o.Cb(12),o.nc("readonly",!0),o.Cb(5),o.nc("readonly",!0),o.Cb(10),o.nc("ngStyle",o.qc(7,Tt)),o.Cb(3),o.Tc(" ",e.evidenceDocument?"Replace Document":"Upload A Document"," "),o.Cb(1),o.nc("ngIf",null==e.evidenceDocument?null:e.evidenceDocument.Name),o.Cb(1),o.nc("ngIf",null==e.evidenceDocument?null:e.evidenceDocument.Base64))},directives:[S.h,Z.v,Z.o,Z.h,S.e,dt.d,dt.e,ut.d,dt.b,ut.h,Z.c,mt.b,Z.n,Z.g,pt.b,ut.g,E.a,n.p,ht.c,n.o,L.a,gt.a],styles:[""]}),t})();function yt(t,e){1&t&&(o.Ub(0,"fieldset"),o.Ub(1,"legend"),o.Rc(2,"Forwarded Comments"),o.Tb(),o.Ub(3,"div"),o.Ub(4,"div"),o.Ub(5,"mat-form-field",7),o.Ub(6,"mat-label"),o.Rc(7,"Technical Comments"),o.Tb(),o.Pb(8,"input",8),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Cb(8),o.nc("readonly",!0))}let Dt=(()=>{class t{constructor(t,e,a,n,i,o,s,c){this.fb=t,this.endpoints=e,this.http=a,this.service=n,this.dialog=i,this.route=o,this.allDialogRef=s,this.parent_data=c,this.processing=!1,this.ComplaintCommentsFormGroup=this.fb.group({}),this.BreachCommentsFormGroup=this.fb.group({})}ngOnInit(){this.BreachCommentsFormGroup=this.fb.group({Comments:new Z.e("",[Z.u.required]),TechnicalForwardedComments:new Z.e("")}),this.BreachCommentsFormGroup.get("TechnicalForwardedComments").setValue(this.parent_data.TechnicalComments)}getBreachData(){return{Comments:this.BreachCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.DataBreachTrackingNumber,Status:this.parent_data.Status,RequestInformation:0,EvidenceFile:""}}onSubmit(){(this.processing=!0)&&(console.log("Comments:",this.getBreachData()),this.httpSub=this.http.post(this.endpoints.updateBreachStatus,this.getBreachData()).pipe(Object(nt.a)(this.service.handleError)).subscribe(t=>{this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Update Breach Status",message:"Breach forwarded successfully",status:200===t.code}}),this.dialogRef.afterClosed().subscribe(()=>{this.allDialogRef.closeAll(),this.route.navigate(["/reporting-and-notification/find/all"])}),this.processing=!1},t=>{this.processing=!1,t.error.message?this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:R.a.technicalErrorResponse,status:!1}}):this.service.determineErrorResponse(t)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(Z.d),o.Ob(y.a),o.Ob(P.c),o.Ob(D.a),o.Ob(S.b),o.Ob(i.f),o.Ob(S.b),o.Ob(S.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["fury-forward-comments"]],decls:17,vars:2,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],[4,"ngIf"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],["mat-raised-button","","color","primary",3,"click"],["fxFlex","2 1 auto"],["formControlName","TechnicalForwardedComments","matInput","",3,"readonly"]],template:function(t,e){1&t&&(o.Ub(0,"div"),o.Ub(1,"form",0),o.Ub(2,"mat-dialog-content"),o.Ub(3,"div",1),o.Ub(4,"div"),o.Pc(5,yt,9,1,"fieldset",2),o.Tb(),o.Ub(6,"div",3),o.Ub(7,"mat-form-field",4),o.Ub(8,"mat-label"),o.Rc(9,"Provide Comments"),o.Tb(),o.Pb(10,"textarea",5),o.Ub(11,"mat-hint"),o.Rc(12,"Review Comments"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(13,"button",6),o.cc("click",function(){return e.onSubmit()}),o.Ub(14,"span"),o.Rc(15,"Submit"),o.Tb(),o.Tb(),o.Rc(16,"\xa0 "),o.Tb(),o.Tb()),2&t&&(o.Cb(1),o.nc("formGroup",e.BreachCommentsFormGroup),o.Cb(4),o.nc("ngIf",1==e.parent_data.isLegal))},directives:[Z.v,Z.o,Z.h,S.e,dt.d,dt.e,n.o,ut.d,dt.b,ut.h,mt.b,pt.b,Z.c,Z.n,Z.g,ut.g,E.a],styles:[""]}),t})();function xt(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",13),o.cc("click",function(){return o.Ec(t),o.gc().onRemoveDocument()}),o.Ub(1,"div",9),o.Ub(2,"mat-icon"),o.Rc(3,"clear"),o.Tb(),o.Ub(4,"span"),o.Rc(5," Remove Document "),o.Tb(),o.Tb(),o.Tb()}}function Ut(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",14),o.cc("click",function(){o.Ec(t);const e=o.gc();return e.onReadDocument(e.evidenceDocument)}),o.Pb(1,"img",15),o.Ub(2,"span"),o.Rc(3),o.Ub(4,"span"),o.Rc(5),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.Cb(3),o.Tc("",null==t.evidenceDocument?null:t.evidenceDocument.Name," "),o.Cb(2),o.Tc(" - ",null==t.evidenceDocument?null:t.evidenceDocument.Size," Mbs")}}a("0/vc");const Rt=function(){return{"margin-bottom":"20px","margin-top":"20px","background-color":"#ABC334",color:"#000"}};let Ot=(()=>{class t{constructor(t,e,a,n,i,s,c,r){this.fb=t,this.endpoints=e,this.http=a,this.service=n,this.dialog=i,this.route=s,this.allDialogRef=c,this.parent_data=r,this.InvestigationCommentsFormGroup=this.fb.group({}),this.$processingEvent=new o.o,this.$errorsEvent=new o.o,this.$resultComplaintsEvent=new o.o,this.processing=!1}ngOnInit(){this.InvestigationCommentsFormGroup=this.fb.group({Comments:new Z.e("",[Z.u.required])}),console.log(this.parent_data)}getFormData(){return{Comments:this.InvestigationCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.BreachTrackingNumber,Status:this.parent_data.Status,EvidenceFile:"",RequestInformation:0}}onSubmit(){this.processing=!0,console.log("Comments:",this.getFormData()),this.httpSub=this.http.post(this.endpoints.updateBreachStatus,this.getFormData()).pipe(Object(nt.a)(this.service.handleError)).subscribe(t=>{this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Update Breach Status",message:t.message,status:200===t.code}}),this.dialogRef.afterClosed().subscribe(()=>{this.allDialogRef.closeAll(),this.route.navigate(["/reporting-and-notification/find/all"])}),this.processing=!1},t=>{this.processing=!1,t.error.message?this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:R.a.technicalErrorResponse,status:!1}}):this.service.determineErrorResponse(t)})}onUploadAttachments(){this.dialogRef=this.dialog.open(bt.a,{panelClass:["resolution-upload-dialog","dialogs"],disableClose:!0,data:{multiple:!1,maxSize:3}}),this.dialogRef.afterClosed().subscribe(t=>{t.status&&(this.evidenceDocument=t.row,console.log(this.evidenceDocument))})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(Z.d),o.Ob(y.a),o.Ob(P.c),o.Ob(D.a),o.Ob(S.b),o.Ob(i.f),o.Ob(S.b),o.Ob(S.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["fury-breach-investigations"]],decls:25,vars:6,consts:[[2,"padding","10px"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],[1,"buttons"],["mat-button","","color","primary",1,"add-item-button",3,"ngStyle","click"],[1,"button-label"],["mat-button","","color","primary","class","remove-button",3,"click",4,"ngIf"],["class","uploaded-document","matTooltip","Open Document",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-button","","color","primary",1,"remove-button",3,"click"],["matTooltip","Open Document",1,"uploaded-document",3,"click"],["src","./assets/images/pdf.png","alt",""]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Rc(2,"Make Investigation Notes"),o.Tb(),o.Ub(3,"form",2),o.Ub(4,"mat-dialog-content"),o.Ub(5,"div",3),o.Ub(6,"div",4),o.Ub(7,"mat-form-field",5),o.Ub(8,"mat-label"),o.Rc(9,"Provide Notes"),o.Tb(),o.Pb(10,"textarea",6),o.Ub(11,"mat-hint"),o.Rc(12,"Review Notes"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(13,"section"),o.Ub(14,"div",7),o.Ub(15,"button",8),o.cc("click",function(){return e.onUploadAttachments()}),o.Ub(16,"div",9),o.Ub(17,"span"),o.Rc(18),o.Tb(),o.Tb(),o.Tb(),o.Pc(19,xt,6,0,"button",10),o.Tb(),o.Pc(20,Ut,6,2,"div",11),o.Tb(),o.Ub(21,"button",12),o.cc("click",function(){return e.onSubmit()}),o.Ub(22,"span"),o.Rc(23,"Submit"),o.Tb(),o.Tb(),o.Rc(24,"\xa0 "),o.Tb(),o.Tb()),2&t&&(o.Cb(3),o.nc("formGroup",e.InvestigationCommentsFormGroup),o.Cb(12),o.nc("ngStyle",o.qc(5,Rt)),o.Cb(3),o.Tc(" ",e.evidenceDocument?"Replace Document":"Upload A Document"," "),o.Cb(1),o.nc("ngIf",null==e.evidenceDocument?null:e.evidenceDocument.Name),o.Cb(1),o.nc("ngIf",null==e.evidenceDocument?null:e.evidenceDocument.Base64))},directives:[S.h,Z.v,Z.o,Z.h,S.e,dt.d,dt.e,ut.d,dt.b,ut.h,mt.b,pt.b,Z.c,Z.n,Z.g,ut.g,E.a,n.p,ht.c,n.o,L.a,gt.a],styles:[""]}),t})();var Pt=a("1n7x"),wt=a("QibW");function St(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",25),o.cc("click",function(){return o.Ec(t),o.gc().onDownloadLetter()}),o.Ub(1,"div",26),o.Ub(2,"mat-icon"),o.Rc(3,"cloud_download"),o.Tb(),o.Ub(4,"span"),o.Rc(5,"Download "),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.nc("disabled",t.downloading)}}function kt(t,e){if(1&t&&(o.Ub(0,"p",9),o.Ub(1,"span"),o.Rc(2,"Registration Number"),o.Tb(),o.Ub(3,"b",10),o.Rc(4),o.Tb(),o.Tb()),2&t){const t=o.gc();o.Cb(4),o.Sc(t.data.row.RegTrackingNo)}}function It(t,e){if(1&t&&(o.Ub(0,"div"),o.Ub(1,"mat-checkbox",27),o.Rc(2),o.Tb(),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.nc("checked",!0),o.Cb(1),o.Sc(t.CauseName)}}function Bt(t,e){1&t&&(o.Ub(0,"p",12),o.Ub(1,"mat-checkbox",28),o.Rc(2," Has any action been taken to minimise/mitigate the effect on the affected individuals? "),o.Tb(),o.Tb()),2&t&&(o.Cb(1),o.nc("checked",!0))}function At(t,e){1&t&&o.Pb(0,"div",29)}function Ft(t,e){1&t&&o.Pb(0,"hr",30)}function Mt(t,e){1&t&&(o.Ub(0,"p",12),o.Ub(1,"mat-checkbox",28),o.Rc(2," Has the data placed at risk now been recovered? "),o.Tb(),o.Tb()),2&t&&(o.Cb(1),o.nc("checked",!0))}function Et(t,e){if(1&t&&(o.Ub(0,"p",9),o.Ub(1,"span"),o.Rc(2,"Date of data recovery"),o.Tb(),o.Ub(3,"b",10),o.Rc(4),o.Tb(),o.Tb()),2&t){const t=o.gc();o.Cb(4),o.Sc(t.data.row.DataRecoveryDate)}}function Nt(t,e){if(1&t&&(o.Ub(0,"p",9),o.Ub(1,"span"),o.Rc(2,"Prevention Steps"),o.Tb(),o.Ub(3,"b",10),o.Rc(4),o.Tb(),o.Tb()),2&t){const t=o.gc();o.Cb(4),o.Sc(t.data.row.PreventiveStepsToPreventRecurrence)}}function Lt(t,e){if(1&t&&(o.Ub(0,"div"),o.Ub(1,"mat-radio-group",31),o.Ub(2,"mat-radio-button",32),o.Rc(3),o.Tb(),o.Tb(),o.Tb()),2&t){const t=e.$implicit;o.Cb(2),o.nc("checked",!0),o.Cb(1),o.Sc(t.BreachDescription)}}function qt(t,e){if(1&t&&(o.Ub(0,"div"),o.Ub(1,"mat-radio-group",31),o.Ub(2,"mat-radio-button",32),o.Rc(3),o.Tb(),o.Tb(),o.Tb()),2&t){const t=e.$implicit;o.Cb(2),o.nc("checked",!0),o.Cb(1),o.Sc(t.HarmDescription)}}const _t=function(t){return{margin:t,width:"200px",overflow:"hidden"}};let Gt=(()=>{class t{constructor(t,e,a){this.dialogRef=t,this.data=e,this.service=a,this.downloading=!1}ngOnInit(){console.log(this.data),this.data.download&&this.onDownloadLetter()}onCloseWindow(){this.dialogRef.close()}onDownloadLetter(){this.downloading=!0,setTimeout(()=>{this.service.openSnackBar("Downloading. Please wait.","nuetral");const t={filename:this.data.row.OrganisationName+" - Registration.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:2,backgroundColor:null},jspdf:{unit:"in",format:"letter",orientation:"portrait"},margin:[10,2,2,2]},e=document.getElementById("letterBodyContainer");Pt().from(e).set(t).save().then(t=>{setTimeout(()=>{this.downloading=!1,this.data.download&&this.onCloseWindow(),this.service.openSnackBar("Downloaded. Please check in your downloads.","success-lg")},1e3)})},1e3)}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(S.g),o.Ob(S.a),o.Ob(D.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["fury-org-breach-preview"]],decls:123,vars:27,consts:[["mat-button","",1,"close-window-btn",3,"click"],["id","letterBodyContainer",2,"width","100%","margin","0px 0px 30px","position","relative"],["mat-button","","color","primary","class","download-button",3,"disabled","click",4,"ngIf"],[1,"image-wrapper",3,"ngStyle"],["src","./assets/icons/Final-logos-28.png","alt","",2,"width","100%"],[1,"letter-body",2,"padding","0px 40px 45px"],[2,"font-weight","700","font-size","14px","text-transform","uppercase","text-align","center","color","#000","margin-top","0px","margin","-30px 0px 25px 0px"],[2,"font-weight","700","letter-spacing","1px","font-size","14px","text-transform","uppercase","text-align","left","color","#000","margin","0px 0px -10px 0px"],[2,"margin","15px 0px","display","grid","grid-template-columns","repeat(auto-fit,minmax(200px, 1fr))","gap","20px 25px"],[2,"font-size","11px","line-height","14px","font-weight","400","color","#000","text-align","left","display","flex","flex-direction","column","gap","3px","margin","0px"],[2,"font-weight","600"],["style","font-size: 11px; line-height: 14px; font-weight: 400; color: #000; text-align: left; display: flex; flex-direction: column; gap: 3px; margin: 0px;",4,"ngIf"],[2,"grid-column","1/-1","font-size","11px","line-height","14px","font-weight","400","color","#000","text-align","left","display","flex","flex-direction","column","gap","3px","margin","0px"],[4,"ngFor","ngForOf"],[2,"margin","40px 0px","width","100%","border","0px","border-bottom","1px solid #ebeced"],[2,"line-height","14px","font-size","11px","font-weight","400","color","#000","text-align","left","display","flex","flex-direction","column","gap","3px","margin","0px"],["style","grid-column: 1/-1; font-size: 11px; line-height: 14px; font-weight: 400; color: #000; text-align: left; display: flex; flex-direction: column; gap: 3px; margin: 0px;",4,"ngif"],[2,"font-weight","600","margin-left","3px","text-align","justify"],["class","html2pdf__page-break",4,"ngIf"],["style","margin: 40px 0px 20px; width: 100%; border: 0px;border-bottom: 1px solid #ebeced;",4,"ngIf"],[2,"padding-top","20px","font-weight","700","letter-spacing","1px","font-size","14px","text-transform","uppercase","text-align","left","color","#000","margin","0px 0px -10px 0px"],["style","grid-column: 1/-1; font-size: 11px; line-height: 14px; font-weight: 400; color: #000; text-align: left; display: flex; flex-direction: column; gap: 3px; margin: 0px;",4,"ngIf"],[2,"margin","70px 0px 15px","display","grid","grid-template-columns","repeat(auto-fit,minmax(200px, 1fr))","gap","20px 25px"],[2,"font-size","12px","line-height","25px","font-weight","400","color","#000","text-align","left","margin","0px"],[2,"border-bottom","1px dashed","padding","0px 40px","font-weight","600","color","#000"],["mat-button","","color","primary",1,"download-button",3,"disabled","click"],[1,"button-label"],[2,"font-size","11px","line-height","14px","font-weight","400","color","#000","text-align","left","display","flex","flex-direction","column","gap","3px","margin","0px",3,"checked"],[3,"checked"],[1,"html2pdf__page-break"],[2,"margin","40px 0px 20px","width","100%","border","0px","border-bottom","1px solid #ebeced"],["color","primary"],["value","Yes",3,"checked"]],template:function(t,e){1&t&&(o.Ub(0,"main"),o.Ub(1,"button",0),o.cc("click",function(){return e.onCloseWindow()}),o.Ub(2,"mat-icon"),o.Rc(3,"clear"),o.Tb(),o.Tb(),o.Ub(4,"article",1),o.Pc(5,St,6,1,"button",2),o.Ub(6,"div",3),o.Pb(7,"img",4),o.Tb(),o.Ub(8,"section",5),o.Ub(9,"div"),o.Ub(10,"h1",6),o.Rc(11," Breaches "),o.Tb(),o.Ub(12,"h3",7),o.Rc(13," Organisation "),o.Tb(),o.Ub(14,"div",8),o.Ub(15,"p",9),o.Ub(16,"span"),o.Rc(17,"Name of Organisation"),o.Tb(),o.Ub(18,"b",10),o.Rc(19),o.Tb(),o.Tb(),o.Pc(20,kt,5,1,"p",11),o.Ub(21,"p",9),o.Ub(22,"span"),o.Rc(23,"Organisation Telephone Number"),o.Tb(),o.Ub(24,"b",10),o.Rc(25),o.Tb(),o.Tb(),o.Ub(26,"p",9),o.Ub(27,"span"),o.Rc(28,"Organisation Email Address"),o.Tb(),o.Ub(29,"b",10),o.Rc(30),o.Tb(),o.Tb(),o.Ub(31,"p",9),o.Ub(32,"span"),o.Rc(33,"Date Of Incidence"),o.Tb(),o.Ub(34,"b",10),o.Rc(35),o.Tb(),o.Tb(),o.Ub(36,"p",12),o.Ub(37,"span"),o.Rc(38,"Likely Causes of the breach"),o.Tb(),o.Tb(),o.Pc(39,It,3,2,"div",13),o.Tb(),o.Tb(),o.Ub(40,"div"),o.Pb(41,"hr",14),o.Ub(42,"h3",7),o.Rc(43," Data Subject Affected by breach "),o.Tb(),o.Ub(44,"div",8),o.Ub(45,"p",9),o.Ub(46,"span"),o.Rc(47,"Categories of Data Subject Affected by breach"),o.Tb(),o.Ub(48,"b",10),o.Rc(49),o.Tb(),o.Tb(),o.Ub(50,"p",9),o.Ub(51,"span"),o.Rc(52,"Number of data Subjects"),o.Tb(),o.Ub(53,"b",10),o.Rc(54),o.Tb(),o.Tb(),o.Ub(55,"p",9),o.Ub(56,"span"),o.Rc(57,"Total Number of Records held"),o.Tb(),o.Ub(58,"b",10),o.Rc(59),o.Tb(),o.Tb(),o.Ub(60,"p",9),o.Ub(61,"span"),o.Rc(62,"Details On Likely causes of breaches"),o.Tb(),o.Ub(63,"b",10),o.Rc(64),o.Tb(),o.Tb(),o.Ub(65,"p",9),o.Ub(66,"span"),o.Rc(67,"Remedial Actions taken or proposed"),o.Tb(),o.Ub(68,"b",10),o.Rc(69),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(70,"div"),o.Pb(71,"hr",14),o.Ub(72,"h3",7),o.Rc(73," Personal Data Affected "),o.Tb(),o.Ub(74,"div"),o.Ub(75,"p",15),o.Ub(76,"b",10),o.Rc(77),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(78,"div"),o.Pb(79,"hr",14),o.Ub(80,"h3",7),o.Rc(81," Containment & Recovery "),o.Tb(),o.Ub(82,"div",8),o.Pc(83,Bt,3,1,"p",16),o.Ub(84,"p",12),o.Ub(85,"span"),o.Rc(86,"Details Of Action Taken"),o.Tb(),o.Ub(87,"b",17),o.Ub(88,"span"),o.Rc(89),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Pc(90,At,1,0,"div",18),o.Ub(91,"div"),o.Pc(92,Ft,1,0,"hr",19),o.Ub(93,"h3",20),o.Rc(94," Purpose & Retention "),o.Tb(),o.Ub(95,"div",8),o.Pc(96,Mt,3,1,"p",21),o.Ub(97,"p",9),o.Ub(98,"span"),o.Rc(99,"Data recovery details"),o.Tb(),o.Ub(100,"b",10),o.Rc(101),o.Tb(),o.Tb(),o.Pc(102,Et,5,1,"p",11),o.Pc(103,Nt,5,1,"p",11),o.Tb(),o.Tb(),o.Ub(104,"div"),o.Ub(105,"div"),o.Pb(106,"hr",14),o.Ub(107,"h3",7),o.Rc(108," Breach Consequences "),o.Tb(),o.Pb(109,"br"),o.Pc(110,Lt,4,2,"div",13),o.Tb(),o.Pb(111,"br"),o.Ub(112,"div"),o.Ub(113,"h3",7),o.Rc(114," Potential Harms "),o.Tb(),o.Pb(115,"br"),o.Pc(116,qt,4,2,"div",13),o.Tb(),o.Tb(),o.Ub(117,"div",22),o.Ub(118,"p",23),o.Rc(119," I, "),o.Ub(120,"i",24),o.Rc(121),o.Tb(),o.Rc(122," certify that the above information is correct and complete and here by report a Breach as data collector/ data processor / data controller (This shall be based on th category selected) under the data Protection and Privacy Act. "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Cb(5),o.nc("ngIf",!e.downloading),o.Cb(1),o.nc("ngStyle",o.rc(25,_t,e.downloading?"10px auto 40px":"30px auto 40px")),o.Cb(13),o.Sc(e.data.row.organisation_name),o.Cb(1),o.nc("ngIf",e.data.row.URSBNumber),o.Cb(5),o.Sc(e.data.row.PhoneNumber),o.Cb(5),o.Sc(e.data.row.email),o.Cb(5),o.Sc(e.data.row.IncidentDate),o.Cb(4),o.nc("ngForOf",e.data.row.BreachCauses),o.Cb(10),o.Sc(e.data.row.CategoriesOfDataSubjectAffected),o.Cb(5),o.Sc(e.data.row.NumberOfDataSubjects),o.Cb(5),o.Sc(e.data.row.NumberOfRecordsHeld),o.Cb(5),o.Tc(" ",e.data.row.DetailedDataBreachCause," "),o.Cb(5),o.Sc(e.data.row.RemedialActionsTaken),o.Cb(8),o.Sc(e.data.row.PersonalDataAffected),o.Cb(6),o.nc("ngif",1==e.data.row.IsActionTakenToMinimize),o.Cb(6),o.Tc(" ",e.data.row.ActionTakenToMinimizeDetails,""),o.Cb(1),o.nc("ngIf",e.downloading),o.Cb(2),o.nc("ngIf",!e.downloading),o.Cb(4),o.nc("ngIf",1==e.data.row.IsDataPlacedAtRiskRecovered),o.Cb(5),o.Sc(e.data.row.DataPlacedAtRiskRecoveredDetails),o.Cb(1),o.nc("ngIf",e.data.row.dateOfRecovery),o.Cb(1),o.nc("ngIf",e.data.row.preventionSteps),o.Cb(7),o.nc("ngForOf",e.data.row.PotentialConsequences),o.Cb(6),o.nc("ngForOf",e.data.row.PotentialHarms),o.Cb(5),o.Tc(" ",e.data.row.organisation_name," "))},directives:[E.a,L.a,n.o,n.p,ht.c,n.n,M.a,wt.b,wt.a],styles:["main[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center}main[_ngcontent-%COMP%]   button.close-window-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border-radius:0;width:44px;height:44px;min-width:0;padding:0;z-index:1}main[_ngcontent-%COMP%]   button.close-window-btn[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}main[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;padding:0 24px}main[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin:0 0 5px;font-weight:400}main[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-weight:300;text-align:justify;color:#bf212f;line-height:22px;margin:5px 0 0}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{width:100%;margin:30px 0}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   button.download-button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;border-radius:0;background-color:#abbf11;color:#fff;padding:0 24px 0 7px;font-weight:600}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   button.download-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{display:flex;flex-direction:row}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   button.download-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:40px}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   button.download-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:44px;height:42px;display:flex;align-items:center;justify-content:center;font-size:20px!important}"]}),t})(),Vt=(()=>{class t{constructor(t,e,a,n,i,o,s,c){this.fb=t,this.endpoints=e,this.http=a,this.service=n,this.dialog=i,this.route=o,this.allDialogRef=s,this.parent_data=c,this.processing=!1,this.BreachCommentsFormGroup=this.fb.group({})}ngOnInit(){this.BreachCommentsFormGroup=this.fb.group({Comments:new Z.e("",[Z.u.required]),Status:new Z.e("",[Z.u.required])})}getFormData(){return{Comments:this.BreachCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.DataBreachTrackingNumber,Status:parseInt(this.BreachCommentsFormGroup.get("Status").value),RequestInformation:0,EvidenceFile:""}}onSubmit(){this.processing=!0,console.log("Comments:",this.getFormData()),this.httpSub=this.http.post(this.endpoints.updateBreachStatus,this.getFormData()).pipe(Object(nt.a)(this.service.handleError)).subscribe(t=>{this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Update Breach Status",message:"More information required successfully",status:200===t.code}}),this.dialogRef.afterClosed().subscribe(()=>{this.allDialogRef.closeAll(),this.route.navigate(["/reporting-and-notification/find/all"])}),this.processing=!1},t=>{this.processing=!1,t.error.message?this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:R.a.technicalErrorResponse,status:!1}}):this.service.determineErrorResponse(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(Z.d),o.Ob(y.a),o.Ob(P.c),o.Ob(D.a),o.Ob(S.b),o.Ob(i.f),o.Ob(S.b),o.Ob(S.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["fury-breach-request-for-information"]],decls:26,vars:1,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],[1,"grouped-items"],["color","primary","formControlName","Status"],["value","7"],["value","8"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(o.Ub(0,"div"),o.Ub(1,"form",0),o.Ub(2,"mat-dialog-content"),o.Ub(3,"div",1),o.Ub(4,"div",2),o.Ub(5,"mat-form-field",3),o.Ub(6,"mat-label"),o.Rc(7,"What more information is needed"),o.Tb(),o.Pb(8,"textarea",4),o.Ub(9,"mat-hint"),o.Rc(10,"Request more Information"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Pb(11,"br"),o.Ub(12,"div",5),o.Ub(13,"h3"),o.Rc(14,"More information from:"),o.Tb(),o.Ub(15,"mat-radio-group",6),o.Ub(16,"mat-radio-button",7),o.Rc(17,"Technical"),o.Tb(),o.Ub(18,"mat-radio-button",8),o.Rc(19,"Legal"),o.Tb(),o.Tb(),o.Tb(),o.Pb(20,"br"),o.Ub(21,"div"),o.Ub(22,"button",9),o.cc("click",function(){return e.onSubmit()}),o.Ub(23,"span"),o.Rc(24,"Submit"),o.Tb(),o.Tb(),o.Rc(25,"\xa0 "),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Cb(1),o.nc("formGroup",e.BreachCommentsFormGroup))},directives:[Z.v,Z.o,Z.h,S.e,dt.d,dt.e,ut.d,dt.b,ut.h,mt.b,pt.b,Z.c,Z.n,Z.g,ut.g,wt.b,wt.a,E.a],styles:[""]}),t})(),zt=(()=>{class t{constructor(t,e,a,n,i,o,s,c){this.fb=t,this.endpoints=e,this.http=a,this.service=n,this.dialog=i,this.route=o,this.allDialogRef=s,this.parent_data=c,this.processing=!1,this.BreachCommentsFormGroup=this.fb.group({})}ngOnInit(){this.BreachCommentsFormGroup=this.fb.group({Comments:new Z.e("",[Z.u.required]),RequestedInformation:new Z.e}),this.BreachCommentsFormGroup.get("RequestedInformation").setValue(this.parent_data.RequestedInformation)}getFormData(){return{Comments:this.BreachCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.DataBreachTrackingNumber}}onSubmit(){(this.processing=!0)&&(console.log("Comments:",this.getFormData()),this.httpSub=this.http.post(this.endpoints.CheckBreachRequestForInfo,this.getFormData()).pipe(Object(nt.a)(this.service.handleError)).subscribe(t=>{this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Updated information ",message:"Updated information successfully",status:200===t.code}}),this.dialogRef.afterClosed().subscribe(()=>{this.allDialogRef.closeAll(),this.route.navigate(["/reporting-and-notification/find/all"])}),this.processing=!1},t=>{this.processing=!1,t.error.message?this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:R.a.technicalErrorResponse,status:!1}}):this.service.determineErrorResponse(t)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(Z.d),o.Ob(y.a),o.Ob(P.c),o.Ob(D.a),o.Ob(S.b),o.Ob(i.f),o.Ob(S.b),o.Ob(S.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["fury-breach-manage-more-information"]],decls:22,vars:2,consts:[[2,"padding","10px"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxFlex","2 1 auto"],["formControlName","RequestedInformation","matInput","",3,"readonly"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Rc(2,"Make Comments"),o.Tb(),o.Ub(3,"form",2),o.Ub(4,"mat-dialog-content"),o.Ub(5,"div",3),o.Ub(6,"div"),o.Ub(7,"mat-form-field",4),o.Ub(8,"mat-label"),o.Rc(9,"Requested Information"),o.Tb(),o.Pb(10,"input",5),o.Tb(),o.Tb(),o.Ub(11,"div",6),o.Ub(12,"mat-form-field",7),o.Ub(13,"mat-label"),o.Rc(14,"Provide Comments"),o.Tb(),o.Pb(15,"textarea",8),o.Ub(16,"mat-hint"),o.Rc(17,"Review Comments"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(18,"button",9),o.cc("click",function(){return e.onSubmit()}),o.Ub(19,"span"),o.Rc(20,"Submit"),o.Tb(),o.Tb(),o.Rc(21,"\xa0 "),o.Tb(),o.Tb()),2&t&&(o.Cb(3),o.nc("formGroup",e.BreachCommentsFormGroup),o.Cb(7),o.nc("readonly",!0))},directives:[S.h,Z.v,Z.o,Z.h,S.e,dt.d,dt.e,ut.d,dt.b,ut.h,Z.c,mt.b,Z.n,Z.g,pt.b,ut.g,E.a],styles:[""]}),t})();var jt=a("dNgK"),Ht=a("/t3+"),$t=a("xHqg"),Qt=a("iadO"),Wt=a("d3UM"),Yt=a("CKU1"),Kt=a("zqeb"),Xt=a("aViL"),Zt=a("FKr1");function Jt(t,e){1&t&&o.Rc(0,"Personal Data")}function te(t,e){if(1&t&&(o.Ub(0,"mat-option",44),o.Rc(1),o.Tb()),2&t){const t=e.$implicit,a=o.gc(2);o.nc("disabled",a.disableSubCategories())("value",t),o.Cb(1),o.Tc("",t.name," ")}}function ee(t,e){if(1&t&&(o.Ub(0,"mat-option",45),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.nc("value",t),o.Cb(1),o.Tc("",t.value," ")}}function ae(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",46),o.Ub(1,"button",47),o.cc("click",function(){o.Ec(t);const e=o.gc(2);return e.addOrUpdatePersonalData(e.isEditingPersonalData?2:1)}),o.Ub(2,"mat-icon"),o.Rc(3),o.Tb(),o.Ub(4,"span"),o.Rc(5),o.Tb(),o.Tb(),o.Rc(6,"\xa0 "),o.Pb(7,"span",48),o.Ub(8,"button",49),o.cc("click",function(){return o.Ec(t),o.gc(2).resetPolicy()}),o.Ub(9,"mat-icon"),o.Rc(10,"cancel"),o.Tb(),o.Ub(11,"span"),o.Rc(12,"Cancel"),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=o.gc(2);o.Cb(1),o.nc("disabled",!t.isValidForm()),o.Cb(2),o.Sc(t.buttonIcon),o.Cb(2),o.Sc(t.buttonLabel)}}function ne(t,e){if(1&t){const t=o.Vb();o.Sb(0),o.Ub(1,"form",26),o.Pc(2,Jt,1,0,"ng-template",27),o.Ub(3,"div",1),o.Ub(4,"div",28),o.Ub(5,"mat-form-field",29),o.Ub(6,"mat-label"),o.Rc(7,"Affected Data Category"),o.Tb(),o.Ub(8,"mat-select",30),o.cc("selectionChange",function(e){return o.Ec(t),o.gc().onSelectCategory(e)}),o.Pc(9,te,2,3,"mat-option",31),o.Tb(),o.Ub(10,"mat-hint"),o.Rc(11,"Please specify if any financial or sensitive personal data (special categories*) has been affected "),o.Tb(),o.Tb(),o.Ub(12,"mat-form-field",29),o.Ub(13,"mat-label"),o.Rc(14,"SubCategories"),o.Tb(),o.Ub(15,"mat-select",32),o.Pc(16,ee,2,2,"mat-option",33),o.Tb(),o.Ub(17,"mat-hint"),o.Rc(18,"Please specify if any financial or sensitive personal data has been affected "),o.Tb(),o.Tb(),o.Tb(),o.Ub(19,"div",34),o.Ub(20,"mat-form-field",29),o.Ub(21,"mat-label"),o.Rc(22,"Details To What Extent"),o.Tb(),o.Pb(23,"textarea",35,36),o.Ub(25,"mat-hint"),o.Rc(26,"Provide details of the extent has the data been affected "),o.Tb(),o.Tb(),o.Ub(27,"mat-form-field",37),o.Ub(28,"mat-label"),o.Rc(29,"Affected Individuals"),o.Tb(),o.Pb(30,"input",38),o.Ub(31,"mat-hint",39),o.Rc(32,"How many Individuals have been affected ?"),o.Tb(),o.Tb(),o.Ub(33,"mat-form-field",37),o.Ub(34,"mat-label"),o.Rc(35,"Records Involved"),o.Tb(),o.Pb(36,"input",40),o.Ub(37,"mat-hint",39),o.Rc(38,"How many data records are involved?"),o.Tb(),o.Tb(),o.Tb(),o.Ub(39,"div",1),o.Ub(40,"mat-checkbox",41),o.Rc(41," Are the affected individuals aware that the incident has occurred? "),o.Tb(),o.Ub(42,"mat-checkbox",42),o.Rc(43," Have any affected individuals complained to the Company about the incident? "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Pc(44,ae,13,3,"div",43),o.Rb()}if(2&t){const t=o.gc();o.Cb(1),o.nc("formGroup",t.personalDataFormGroup),o.Cb(8),o.nc("ngForOf",t.$dataCategories),o.Cb(7),o.nc("ngForOf",t.$subCategories),o.Cb(24),o.nc("checked",!1),o.Cb(2),o.nc("checked",!1),o.Cb(2),o.nc("ngIf",!t.isViewOnly)}}function ie(t,e){1&t&&(o.Ub(0,"th",50),o.Rc(1,"# "),o.Tb())}function oe(t,e){if(1&t&&(o.Ub(0,"td",51),o.Rc(1),o.Tb()),2&t){const t=e.index;o.Cb(1),o.Tc(" ",t+1," ")}}function se(t,e){1&t&&(o.Ub(0,"th",52),o.Rc(1," Data Category"),o.Tb())}function ce(t,e){if(1&t&&(o.Ub(0,"td",53),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.dataCategory.name,"")}}function re(t,e){1&t&&(o.Ub(0,"th",52),o.Rc(1," Data SucCategories "),o.Tb())}function le(t,e){if(1&t&&(o.Ub(0,"div"),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.value,", ")}}function be(t,e){if(1&t&&(o.Ub(0,"td",53),o.Pc(1,le,2,1,"div",54),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.nc("ngForOf",t.dataSubCategory)}}function de(t,e){1&t&&(o.Ub(0,"th",52),o.Rc(1," Affected Individuals "),o.Tb())}function ue(t,e){if(1&t&&(o.Ub(0,"td",53),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.affectedIndividuals,"")}}function me(t,e){1&t&&(o.Ub(0,"th",52),o.Rc(1," Affected Records "),o.Tb())}function pe(t,e){if(1&t&&(o.Ub(0,"td",53),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.recordsInvolved,"")}}function he(t,e){1&t&&(o.Ub(0,"th",52),o.Rc(1,"Extent Of the Breach "),o.Tb())}function ge(t,e){if(1&t&&(o.Ub(0,"td",53),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.toWhatExtent,"")}}function fe(t,e){1&t&&(o.Ub(0,"th",52),o.Rc(1," Any Complaints? "),o.Tb())}function Ce(t,e){if(1&t&&(o.Ub(0,"td",53),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.individualAwareness,"")}}function Te(t,e){1&t&&(o.Ub(0,"th",52),o.Rc(1,"Individual Awareness ? "),o.Tb())}function ve(t,e){if(1&t&&(o.Ub(0,"td",53),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.individualComplain,"")}}function ye(t,e){1&t&&o.Pb(0,"th",55)}function De(t,e){if(1&t){const t=o.Vb();o.Sb(0),o.Ub(1,"a",57),o.cc("click",function(){o.Ec(t);const e=o.gc().index;return o.gc().managePersonalData(2,e)}),o.Ub(2,"mat-icon",58),o.Rc(3,"edit "),o.Tb(),o.Tb(),o.Rc(4,"\xa0\xa0 "),o.Ub(5,"a",57),o.cc("click",function(){o.Ec(t);const e=o.gc().index;return o.gc().deleteItem(e)}),o.Ub(6,"mat-icon",59),o.Rc(7,"delete "),o.Tb(),o.Tb(),o.Rb()}}function xe(t,e){if(1&t&&(o.Ub(0,"td",56),o.Pc(1,De,8,0,"ng-container",0),o.Tb()),2&t){const t=o.gc();o.Cb(1),o.nc("ngIf",!t.isViewOnly)}}function Ue(t,e){1&t&&(o.Ub(0,"td",60),o.Rc(1," There is no data! "),o.Tb())}function Re(t,e){1&t&&o.Pb(0,"tr",61)}function Oe(t,e){1&t&&o.Pb(0,"tr",62)}const Pe=function(t){return{hide:t}};function we(t,e){if(1&t&&o.Pb(0,"tr",63),2&t){const t=o.gc();o.nc("ngClass",o.rc(1,Pe,!(0==(null==t.list?null:t.list.length))))}}const Se=function(){return["noData"]};let ke=(()=>{class t{constructor(t,e,a,n){this.fb=t,this.auth=e,this.utilService=a,this.snackBar=n,this.subject$=new l.a(1),this.data$=this.subject$.asObservable(),this.personalDataEvent=new o.o,this.PersonalDataAffected=new o.o,this.personalData=new p,this.subscriptions=[],this.errors=[],this.list=[],this.displayColumns=["nber","personalDataCategory","personalDataSubCategory","toWhatExtent","affectedIndividuals","affectedRecords","complaintsMade","individualAwareness","actions"],this.dataCategories=[],this.$dataCategories=[],this.$subCategories=[],this.$processingEvent=new o.o,this.$errorsEvent=new o.o,this.buttonIcon="add_circle_outline",this.buttonLabel="Add",this.isEditingPersonalData=!1,this.tableEditable=!0,this.personalDataIndex=0,this.personalNumber=1}ngOnInit(){this.initForms(),this.personalDataList&&this.personalDataList.forEach(t=>this.list.push(t)),this.getSampleJson.subscribe(t=>{this.$dataCategories=t}),this.initMainObject()}initMainObject(){this.personalData=new p}initForms(){this.personalDataFormGroup=this.fb.group({dataCategory:[null,Z.u.required],dataSubCategory:[null,Z.u.required],toWhatExtent:[null,Z.u.required],affectedIndividuals:[null,Z.u.required],recordsInvolved:[null,Z.u.required],individualAwareness:[null,Z.u.required],individualComplain:[null,Z.u.required]})}addOrUpdatePersonalData(t){this.personalDataFormGroup.valid&&(this.checkForDuplicates(t)?this.snackBar.snackBarAlert("Error","Potential Consquence Already exist in the Table, Please Update",{duration:3e3}):(this.mapFormControlToControl(1),1===t?(this.list.push(this.personalData),this.personalDataList.push(this.personalData),this.list=[...this.list]):(this.list[this.personalDataIndex]=this.personalData,this.personalDataList[this.personalDataIndex]=this.personalData,this.list=[...this.personalDataList]),this.resetPersonalData()),console.log(this.list),this.PersonalDataAffected.emit(this.personalDataList))}resetPersonalData(){this.personalDataFormGroup.reset(),this.personalData=new p,this.validatePolicyLabels(1),this.managePersonalData(1)}validatePolicyLabels(t){1===t?(this.buttonIcon="add_circle_outline",this.buttonLabel="Add new personal data"):(this.buttonIcon="save",this.buttonLabel="Save")}onSelectCategory(t){this.$subCategories=[],this.$dataCategories.find(e=>e===t.value).subCategories.forEach(t=>this.$subCategories.push(t)),this.personalDataFormGroup.get("dataSubCategory").enable()}disableSubCategories(){0===this.$subCategories.length&&this.personalDataFormGroup.get("dataSubCategory").disable()}managePersonalData(t,e){2===t?(this.personalData=this.personalDataList[e],this.isEditingPersonalData=!0,this.personalDataIndex=e,this.mapFormControlToControl(t)):(this.isEditingPersonalData=!1,this.personalData=new p,this.personalDataIndex=0),this.validatePolicyLabels(t)}checkForDuplicates(t){const e=this.personalDataFormGroup.get("dataCategory").value,a=this.personalDataFormGroup.get("dataSubCategory").value;return console.log(a),1===t?!!this.personalDataList.find(t=>t.dataCategory===e):null}editItem(t){this.personalDataIndex=t,this.personalData=this.personalDataList[this.personalDataIndex],this.isEditingPersonalData=!0,this.mapFormControlToControl(t),this.validatePolicyLabels(2)}deleteItem(t){this.list.splice(t,1),this.personalDataList.splice(t,1),this.list=[...this.list],this.personalDataEvent.emit(this.personalDataList),this.isEditingPersonalData=!1}mapFormControlToControl(t){1===t?(this.personalData.dataCategory=this.personalDataFormGroup.get("dataCategory").value,this.personalData.dataSubCategory=this.personalDataFormGroup.get("dataSubCategory").value,this.personalData.toWhatExtent=this.personalDataFormGroup.get("toWhatExtent").value,this.personalData.affectedIndividuals=this.personalDataFormGroup.get("affectedIndividuals").value,this.personalData.recordsInvolved=this.personalDataFormGroup.get("recordsInvolved").value,this.personalData.individualAwareness=this.personalDataFormGroup.get("individualAwareness").value,this.personalData.individualComplain=this.personalDataFormGroup.get("individualComplain").value):(this.personalDataFormGroup.get("dataCategory").setValue(this.personalData.dataCategory),this.personalDataFormGroup.get("dataSubCategory").setValue(this.personalData.dataSubCategory),this.personalDataFormGroup.get("toWhatExtent").setValue(this.personalData.toWhatExtent),this.personalDataFormGroup.get("affectedIndividuals").setValue(this.personalData.affectedIndividuals),this.personalDataFormGroup.get("recordsInvolved").setValue(this.personalData.recordsInvolved),this.personalDataFormGroup.get("individualAwareness").setValue(this.personalData.individualAwareness),this.personalDataFormGroup.get("individualComplain").setValue(this.personalData.individualComplain))}isValidForm(){return this.personalDataFormGroup.valid}get getSampleJson(){return Object(b.a)(Yt.a.map(t=>t))}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(Z.d),o.Ob(O.c),o.Ob(Kt.a),o.Ob(Xt.a))},t.\u0275cmp=o.Ib({type:t,selectors:[["fury-data-breach-personal-data-itemised"]],inputs:{personalDataList:"personalDataList",isViewOnly:"isViewOnly",personalDataEvent:"personalDataEvent"},outputs:{PersonalDataAffected:"PersonalDataAffected"},decls:46,vars:8,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["mat-table","",3,"dataSource"],["matColumnDef","nber"],["mat-header-cell","","style","width: 5%","class","tableFontSize firstColumnTable alignCenter",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize firstColumnTable alignCenter",4,"matCellDef"],["matColumnDef","personalDataCategory"],["mat-header-cell","","class","tableFontSize ","style","width: 20%",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize ",4,"matCellDef"],["matColumnDef","personalDataSubCategory"],["matColumnDef","affectedIndividuals"],["matColumnDef","affectedRecords"],["matColumnDef","toWhatExtent"],["matColumnDef","complaintsMade"],["matColumnDef","individualAwareness"],["matColumnDef","actions"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-cell","","class","actions",4,"matCellDef"],["matColumnDef","noData"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-button","","matStepperPrevious","","type","button"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled"],[3,"formGroup"],["matStepLabel",""],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["formControlName","dataCategory",3,"selectionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["formControlName","dataSubCategory","multiple",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","column","fxLayout","row","fxLayoutGap","8px"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","toWhatExtent","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["fxFlex","2 1 auto"],["formControlName","affectedIndividuals","matInput",""],["align","end"],["formControlName","recordsInvolved","matInput",""],["formControlName","individualAwareness",3,"checked"],["formControlName","individualComplain",3,"checked"],["style","text-align: right; padding-top: 5px; padding-bottom: 5px;",4,"ngIf"],[3,"disabled","value"],[3,"value"],[2,"text-align","right","padding-top","5px","padding-bottom","5px"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"example-spacer"],["mat-raised-button","","color","warn",3,"click"],["mat-header-cell","",1,"tableFontSize","firstColumnTable","alignCenter",2,"width","5%"],["mat-cell","",1,"tableFontSize","firstColumnTable","alignCenter"],["mat-header-cell","",1,"tableFontSize",2,"width","20%"],["mat-cell","",1,"tableFontSize"],[4,"ngFor","ngForOf"],["mat-header-cell","",2,"width","5%"],["mat-cell","",1,"actions"],[1,"link",3,"click"],["color","primary","matTooltip","Edit item",1,"material-icons-outlined"],["color","warn","matTooltip","Delete item",1,"material-icons-outlined"],["mat-footer-cell","","colspan","7"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",3,"ngClass"]],template:function(t,e){1&t&&(o.Sb(0),o.Ub(1,"fieldset"),o.Ub(2,"legend"),o.Rc(3,"Personal Data Affected"),o.Tb(),o.Pc(4,ne,45,6,"ng-container",0),o.Ub(5,"div",1),o.Ub(6,"table",2),o.Sb(7,3),o.Pc(8,ie,2,0,"th",4),o.Pc(9,oe,2,1,"td",5),o.Rb(),o.Sb(10,6),o.Pc(11,se,2,0,"th",7),o.Pc(12,ce,2,1,"td",8),o.Rb(),o.Sb(13,9),o.Pc(14,re,2,0,"th",7),o.Pc(15,be,2,1,"td",8),o.Rb(),o.Sb(16,10),o.Pc(17,de,2,0,"th",7),o.Pc(18,ue,2,1,"td",8),o.Rb(),o.Sb(19,11),o.Pc(20,me,2,0,"th",7),o.Pc(21,pe,2,1,"td",8),o.Rb(),o.Sb(22,12),o.Pc(23,he,2,0,"th",7),o.Pc(24,ge,2,1,"td",8),o.Rb(),o.Sb(25,13),o.Pc(26,fe,2,0,"th",7),o.Pc(27,Ce,2,1,"td",8),o.Rb(),o.Sb(28,14),o.Pc(29,Te,2,0,"th",7),o.Pc(30,ve,2,1,"td",8),o.Rb(),o.Sb(31,15),o.Pc(32,ye,1,0,"th",16),o.Pc(33,xe,2,1,"td",17),o.Rb(),o.Sb(34,18),o.Pc(35,Ue,2,0,"td",19),o.Rb(),o.Pc(36,Re,1,0,"tr",20),o.Pc(37,Oe,1,0,"tr",21),o.Pc(38,we,1,3,"tr",22),o.Tb(),o.Tb(),o.Pb(39,"br"),o.Tb(),o.Pb(40,"br"),o.Ub(41,"div",23),o.Ub(42,"button",24),o.Rc(43,"PREVIOUS "),o.Tb(),o.Ub(44,"button",25),o.Rc(45,"NEXT "),o.Tb(),o.Tb(),o.Rb()),2&t&&(o.Cb(4),o.nc("ngIf",!e.isViewOnly),o.Cb(2),o.nc("dataSource",e.list),o.Cb(30),o.nc("matHeaderRowDef",e.displayColumns)("matHeaderRowDefSticky",!0),o.Cb(1),o.nc("matRowDefColumns",e.displayColumns),o.Cb(1),o.nc("matFooterRowDef",o.qc(7,Se)),o.Cb(6),o.nc("disabled",(null==e.list?null:e.list.length)<0))},directives:[n.o,dt.d,dt.e,r.n,r.c,r.i,r.b,r.e,r.k,r.m,r.g,dt.c,E.a,$t.f,$t.e,Z.v,Z.o,Z.h,$t.c,ut.d,dt.b,ut.h,Wt.a,Z.n,Z.g,n.n,ut.g,mt.b,pt.b,Z.c,M.a,Zt.m,L.a,r.h,r.a,gt.a,r.d,r.j,r.l,r.f,n.m,ht.a],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}.hide[_ngcontent-%COMP%]{display:none}legend[_ngcontent-%COMP%]{padding:5px}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}"]}),t})();const Ie=["autosize"],Be=function(){return{"margin-right":"30px"}};function Ae(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",64),o.cc("click",function(){return o.Ec(t),o.gc(2).markUnderInvestigation()}),o.Ub(1,"span"),o.Rc(2," Investigate"),o.Tb(),o.Tb()}if(2&t){const t=o.gc(2);o.nc("ngStyle",o.qc(2,Be))("disabled",1==t.disableResolve)}}function Fe(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",65),o.cc("click",function(){return o.Ec(t),o.gc(2).markAsResolved()}),o.Ub(1,"span"),o.Rc(2,"Mark as resolved"),o.Tb(),o.Tb()}if(2&t){const t=o.gc(2);o.nc("disabled",1==t.disableResolve)}}const Me=function(){return{"margin-left":"30px"}};function Ee(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",66),o.cc("click",function(){return o.Ec(t),o.gc(2).forwardComplaint()}),o.Ub(1,"span"),o.Rc(2,"Forward Breach"),o.Tb(),o.Tb()}if(2&t){const t=o.gc(2);o.nc("disabled",1==t.disableForward)("ngStyle",o.qc(2,Me))}}function Ne(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",67),o.cc("click",function(){return o.Ec(t),o.gc(2).moreInformation()}),o.Ub(1,"span"),o.Rc(2,"Request for more information"),o.Tb(),o.Tb()}if(2&t){const t=o.gc(2);o.nc("disabled",1==t.disableResolve)("ngStyle",o.qc(2,Me))}}function Le(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",68),o.cc("click",function(){return o.Ec(t),o.gc(2).manageRequestInfo()}),o.Ub(1,"span"),o.Rc(2,"Manage Request for Information"),o.Tb(),o.Tb()}2&t&&o.nc("ngStyle",o.qc(1,Me))}function qe(t,e){if(1&t&&(o.Ub(0,"mat-toolbar-row"),o.Pb(1,"span",58),o.Pc(2,Ae,3,3,"button",59),o.Pc(3,Fe,3,1,"button",60),o.Pc(4,Ee,3,3,"button",61),o.Pc(5,Ne,3,3,"button",62),o.Pc(6,Le,3,2,"button",63),o.Tb()),2&t){const t=o.gc();o.Cb(2),o.nc("ngIf",1==t.isDirector),o.Cb(1),o.nc("ngIf",1==t.isDirector),o.Cb(1),o.nc("ngIf",0==t.isDirector),o.Cb(1),o.nc("ngIf",1==t.isDirector),o.Cb(1),o.nc("ngIf",1==t.showManageRequestInfo)}}function _e(t,e){1&t&&o.Pb(0,"h3")}function Ge(t,e){1&t&&o.Pb(0,"h3")}function Ve(t,e){if(1&t){const t=o.Vb();o.Ub(0,"mat-option",69),o.cc("onSelectionChange",function(a){o.Ec(t);const n=e.$implicit;return o.gc().onChangeOfBreachCauses(a,n)}),o.Rc(1),o.Tb()}if(2&t){const t=e.$implicit;o.nc("value",t.CauseID),o.Cb(1),o.Tc("",t.CauseName," ")}}function ze(t,e){}function je(t,e){}const He=function(){return{width:"70%","padding-right":"80px"}},$e=function(){return{"padding-right":"70px"}};function Qe(t,e){if(1&t){const t=o.Vb();o.Ub(0,"tr"),o.Ub(1,"td",15),o.Ub(2,"mat-radio-group",76),o.Rc(3),o.Tb(),o.Tb(),o.Ub(4,"td"),o.Ub(5,"mat-radio-group",76),o.Ub(6,"mat-radio-button",77),o.cc("change",function(a){o.Ec(t);const n=e.$implicit;return o.gc(2).changeBreachDescriptionValue(a,n)}),o.Rc(7,"Yes"),o.Tb(),o.Ub(8,"mat-radio-button",78),o.cc("change",function(a){o.Ec(t);const n=e.$implicit;return o.gc(2).changeBreachDescriptionValue(a,n)}),o.Rc(9,"No"),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit;o.Cb(1),o.nc("ngStyle",o.qc(5,He)),o.Cb(2),o.Tc(" ",t.BreachDescription," "),o.Cb(3),o.pc("value","Yes-",t.BreacheDescriptionID,""),o.nc("ngStyle",o.qc(6,$e)),o.Cb(2),o.pc("value","No-",t.BreacheDescriptionID,"")}}function We(t,e){1&t&&(o.Ub(0,"th",79),o.Rc(1," Nature of personal data collected / processed "),o.Tb())}function Ye(t,e){if(1&t&&(o.Ub(0,"td",80),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.NatureOfPersonalDataCollected," ")}}function Ke(t,e){if(1&t){const t=o.Vb();o.Ub(0,"tr"),o.Ub(1,"td",15),o.Ub(2,"mat-radio-group",76),o.Rc(3),o.Tb(),o.Tb(),o.Ub(4,"td"),o.Ub(5,"mat-radio-group",76),o.Ub(6,"mat-radio-button",77),o.cc("change",function(a){o.Ec(t);const n=e.$implicit;return o.gc(3).changeBreachDescriptionValue(a,n)}),o.Rc(7,"Yes"),o.Tb(),o.Ub(8,"mat-radio-button",78),o.cc("change",function(a){o.Ec(t);const n=e.$implicit;return o.gc(3).changeBreachDescriptionValue(a,n)}),o.Rc(9,"No"),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit;o.Cb(1),o.nc("ngStyle",o.qc(5,He)),o.Cb(2),o.Tc(" ",t.BreachDescription," "),o.Cb(3),o.pc("value","Yes-",t.BreacheDescriptionID,""),o.nc("ngStyle",o.qc(6,$e)),o.Cb(2),o.pc("value","No-",t.BreacheDescriptionID,"")}}function Xe(t,e){1&t&&(o.Ub(0,"th",79),o.Rc(1," Nature of personal data collected / processed "),o.Tb())}function Ze(t,e){if(1&t&&(o.Ub(0,"td",80),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.NatureOfPersonalDataCollected," ")}}const Je=function(){return{padding:"10px"}},ta=function(){return{"margin-top":"20px"}};function ea(t,e){if(1&t&&(o.Ub(0,"form",23),o.Ub(1,"div",9),o.Ub(2,"div"),o.Ub(3,"table",15),o.Pc(4,Ke,10,7,"tr",71),o.Tb(),o.Sb(5,72),o.Pc(6,Xe,2,0,"th",73),o.Pc(7,Ze,2,1,"td",74),o.Rb(),o.Tb(),o.Tb(),o.Ub(8,"div",52),o.Ub(9,"button",53),o.Rc(10,"PREVIOUS"),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.gc(2);o.nc("formGroup",t.additionalInfo),o.Cb(3),o.nc("ngStyle",o.qc(4,Je)),o.Cb(1),o.nc("ngForOf",t.BreachDescriptionQuestionsSecond),o.Cb(4),o.nc("ngStyle",o.qc(5,ta))}}function aa(t,e){if(1&t&&(o.Ub(0,"mat-horizontal-stepper",70,5),o.Ub(2,"mat-step",6),o.Ub(3,"form",23),o.Ub(4,"div",9),o.Ub(5,"div"),o.Ub(6,"table",15),o.Pc(7,Qe,10,7,"tr",71),o.Tb(),o.Sb(8,72),o.Pc(9,We,2,0,"th",73),o.Pc(10,Ye,2,1,"td",74),o.Rb(),o.Tb(),o.Tb(),o.Ub(11,"div",52),o.Ub(12,"button",22),o.Rc(13," NEXT "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(14,"mat-step",6),o.Pc(15,ea,11,6,"form",75),o.Tb(),o.Tb()),2&t){const t=o.gc();o.nc("linear",t.isLinear),o.Cb(2),o.nc("stepControl",t.breachConsequences),o.Cb(1),o.nc("formGroup",t.breachConsequences),o.Cb(3),o.nc("ngStyle",o.qc(9,Je)),o.Cb(1),o.nc("ngForOf",t.BreachDescriptionQuestionsFirst),o.Cb(4),o.nc("ngStyle",o.qc(10,ta)),o.Cb(1),o.nc("disabled",t.selectedBreachDescriptionQuestions.length+t.notSelectedBreachDescriptionQuestions.length<t.breachDescriptionQuestionsCount/2),o.Cb(2),o.nc("stepControl",t.additionalInfo),o.Cb(1),o.nc("ngIf",t.notSelectedBreachDescriptionQuestions)}}const na=function(){return{"font-size":"10px"}};function ia(t,e){if(1&t&&(o.Ub(0,"div",85),o.Ub(1,"h3",15),o.Rc(2),o.Tb(),o.Ub(3,"mat-radio-group",76),o.Ub(4,"mat-radio-button",86),o.Rc(5,"Yes"),o.Tb(),o.Tb(),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.nc("ngStyle",o.qc(3,na)),o.Cb(1),o.Sc(t.BreachDescription),o.Cb(2),o.nc("checked",!0)}}function oa(t,e){if(1&t&&(o.Ub(0,"div",81),o.Ub(1,"form",82),o.Ub(2,"div",83),o.Pc(3,ia,6,4,"div",84),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.gc();o.Cb(3),o.nc("ngForOf",t.TotalSelectedBreachDescription)}}function sa(t,e){if(1&t){const t=o.Vb();o.Ub(0,"tr"),o.Ub(1,"td",15),o.Ub(2,"mat-radio-group",76),o.Rc(3),o.Tb(),o.Tb(),o.Ub(4,"td"),o.Ub(5,"mat-radio-group",76),o.Ub(6,"mat-radio-button",77),o.cc("change",function(a){o.Ec(t);const n=e.$implicit;return o.gc(2).changePotentialHarmsValue(a,n)}),o.Rc(7,"Yes"),o.Tb(),o.Ub(8,"mat-radio-button",78),o.cc("change",function(a){o.Ec(t);const n=e.$implicit;return o.gc(2).changePotentialHarmsValue(a,n)}),o.Rc(9,"No"),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit;o.Cb(1),o.nc("ngStyle",o.qc(5,He)),o.Cb(2),o.Tc(" ",t.HarmDescription," "),o.Cb(3),o.pc("value","Yes-",t.HarmDescriptionID,""),o.nc("ngStyle",o.qc(6,$e)),o.Cb(2),o.pc("value","No-",t.HarmDescriptionID,"")}}function ca(t,e){1&t&&(o.Ub(0,"th",79),o.Rc(1," Nature of personal data collected / processed "),o.Tb())}function ra(t,e){if(1&t&&(o.Ub(0,"td",80),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.NatureOfPersonalDataCollected," ")}}function la(t,e){if(1&t){const t=o.Vb();o.Ub(0,"tr"),o.Ub(1,"td",15),o.Ub(2,"mat-radio-group",76),o.Rc(3),o.Tb(),o.Tb(),o.Ub(4,"td"),o.Ub(5,"mat-radio-group",76),o.Ub(6,"mat-radio-button",77),o.cc("change",function(a){o.Ec(t);const n=e.$implicit;return o.gc(2).changePotentialHarmsValue(a,n)}),o.Rc(7,"Yes"),o.Tb(),o.Ub(8,"mat-radio-button",78),o.cc("change",function(a){o.Ec(t);const n=e.$implicit;return o.gc(2).changePotentialHarmsValue(a,n)}),o.Rc(9,"No"),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit;o.Cb(1),o.nc("ngStyle",o.qc(5,He)),o.Cb(2),o.Tc(" ",t.HarmDescription," "),o.Cb(3),o.pc("value","Yes-",t.HarmDescriptionID,""),o.nc("ngStyle",o.qc(6,$e)),o.Cb(2),o.pc("value","No-",t.HarmDescriptionID,"")}}function ba(t,e){1&t&&(o.Ub(0,"th",79),o.Rc(1," Nature of personal data collected / processed "),o.Tb())}function da(t,e){if(1&t&&(o.Ub(0,"td",80),o.Rc(1),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.Tc(" ",t.NatureOfPersonalDataCollected," ")}}function ua(t,e){if(1&t&&(o.Ub(0,"mat-horizontal-stepper"),o.Ub(1,"mat-step",6),o.Ub(2,"form",23),o.Ub(3,"div",9),o.Ub(4,"div"),o.Ub(5,"table",15),o.Pc(6,sa,10,7,"tr",71),o.Tb(),o.Sb(7,72),o.Pc(8,ca,2,0,"th",73),o.Pc(9,ra,2,1,"td",74),o.Rb(),o.Tb(),o.Tb(),o.Ub(10,"div",52),o.Ub(11,"button",22),o.Rc(12," NEXT "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(13,"mat-step",6),o.Ub(14,"form",23),o.Ub(15,"div",9),o.Ub(16,"div"),o.Ub(17,"table",15),o.Pc(18,la,10,7,"tr",71),o.Tb(),o.Sb(19,72),o.Pc(20,ba,2,0,"th",73),o.Pc(21,da,2,1,"td",74),o.Rb(),o.Tb(),o.Tb(),o.Ub(22,"div",52),o.Ub(23,"button",53),o.Rc(24,"PREVIOUS"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.gc();o.Cb(1),o.nc("stepControl",t.potentialHarms),o.Cb(1),o.nc("formGroup",t.potentialHarms),o.Cb(3),o.nc("ngStyle",o.qc(11,Je)),o.Cb(1),o.nc("ngForOf",t.PotentialHarmsFirst),o.Cb(4),o.nc("ngStyle",o.qc(12,ta)),o.Cb(1),o.nc("disabled",t.selectedPotentialHarms.length+t.notSelectedPotentialHarms.length<t.PotentialHarmsCount/2),o.Cb(2),o.nc("stepControl",t.OtherpotentialHarms),o.Cb(1),o.nc("formGroup",t.OtherpotentialHarms),o.Cb(3),o.nc("ngStyle",o.qc(13,Je)),o.Cb(1),o.nc("ngForOf",t.PotentialHarmsSecond),o.Cb(4),o.nc("ngStyle",o.qc(14,ta))}}function ma(t,e){if(1&t&&(o.Ub(0,"div",85),o.Ub(1,"h3",15),o.Rc(2),o.Tb(),o.Ub(3,"mat-radio-group",76),o.Ub(4,"mat-radio-button",86),o.Rc(5,"Yes"),o.Tb(),o.Tb(),o.Tb()),2&t){const t=e.$implicit;o.Cb(1),o.nc("ngStyle",o.qc(3,na)),o.Cb(1),o.Sc(t.HarmDescription),o.Cb(2),o.nc("checked",!0)}}function pa(t,e){if(1&t&&(o.Ub(0,"div",81),o.Ub(1,"form",82),o.Ub(2,"div",83),o.Pc(3,ma,6,4,"div",84),o.Tb(),o.Tb(),o.Tb()),2&t){const t=o.gc();o.Cb(3),o.nc("ngForOf",t.TotalSelectedPotentialHarms)}}function ha(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",87),o.Ub(1,"button",88),o.Rc(2,"PREVIOUS"),o.Tb(),o.Ub(3,"button",89),o.cc("click",function(){return o.Ec(t),o.gc().onPreviewForm(!0)}),o.Ub(4,"div",90),o.Ub(5,"mat-icon"),o.Rc(6,"sim_card_download"),o.Tb(),o.Ub(7,"span"),o.Rc(8,"Download Form"),o.Tb(),o.Tb(),o.Tb(),o.Ub(9,"button",91),o.cc("click",function(){return o.Ec(t),o.gc().onPreviewForm(!1)}),o.Ub(10,"div",90),o.Ub(11,"mat-icon"),o.Rc(12,"visibility"),o.Tb(),o.Ub(13,"span"),o.Rc(14,"Preview Form"),o.Tb(),o.Tb(),o.Tb(),o.Ub(15,"button",92),o.cc("click",function(){return o.Ec(t),o.gc().onSubmit()}),o.Rc(16," SUBMIT "),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.Cb(3),o.nc("disabled",t.selectedPotentialHarms.length+t.notSelectedPotentialHarms.length!=t.PotentialHarmsCount),o.Cb(6),o.nc("disabled",t.selectedPotentialHarms.length+t.notSelectedPotentialHarms.length!=t.PotentialHarmsCount),o.Cb(6),o.nc("disabled",t.selectedPotentialHarms.length+t.notSelectedPotentialHarms.length!=t.PotentialHarmsCount)("ngStyle",o.qc(4,ta))}}const ga=function(){return["Breaches"]},fa=function(){return{"margin-right":"20px"}},Ca=function(){return{"margin-top":"50px"}},Ta=function(){return{"margin-top":"60px"}},va=function(){return{"text-align":"center","font-weight":"bold"}};let ya=(()=>{class t extends it.a{constructor(t,e,a,i,s,c,r,b,d,p,h,g,f,C,T,v,y){super(p,f,C,T),this.fb=t,this.service=e,this.endpoints=a,this.http=i,this.cd=s,this.activateRoute=c,this.auth=r,this.dialog=b,this.allDialogRef=d,this.authService=p,this._auth=h,this.route=g,this._workflowService=f,this.registrationService=C,this.complaintService=T,this.dataBreachService=v,this.snackbar=y,this.subject$=new l.a(1),this.data$=this.subject$.asObservable(),this.$processingEvent=new o.o,this.$errorsEvent=new o.o,this.$resultComplaintsEvent=new o.o,this.processing=!1,this.showManageRequestInfo=!1,this.showManageButtons=!1,this.disableResolve=!0,this.disableForward=!0,this.isDirector=!1,this.ActionTakenCheckboxValue=0,this.DataRecoveredCheckboxValue=0,this.DataSubjectsCategories=[],this.CausesOfBreach=[],this.selectedBreachDescriptionQuestions=[],this.notSelectedBreachDescriptionQuestions=[],this.selectedPotentialHarms=[],this.notSelectedPotentialHarms=[],this.BreachDescriptionQuestions=[],this.PotentialHarms=[],this.application=new u,this.policy=new m,this.policies=[],this.personalData=[],this.personalDataAffected=[],this.impactOfBreaches=[],this.causeOfBreaches=[],this.controls=[],this._controls=[],this.pontentialConsequences=[],this.subscriptions=[],this.pipe=new n.f("en-US"),this.isLinear=!1,this.phonePrefixOptions=["+1","+27","+44","+49","+61","+91"],this.passwordInputType="password",this.list=[],this._displayColumns=["value","details"],this.levels=["Negligible","Limited","Significant","Maximum"],this.operationType=c.routeConfig.data.action,this.accesses=p.getKeycloakInstance().resourceAccess["dps-frontend"].roles,this.OrganisationID=h.getUser(),console.log(this.OrganisationID),"EDIT"===this.operationType?(this.isEditMode=!0,this.application.policies=[],this.application.personalDataAffected=[],this.application.impactOfBreach=[],this.application.controls=[],this.application.potentialConsequences=[],this.isEditMode=!0):"CREATE"===this.operationType?(this.isEditMode=!1,this.application.policies=[],this.application.personalDataAffected=[],this.application.impactOfBreach=[],this.application.controls=[],this.application.potentialConsequences=[]):"VIEW"===this.operationType&&(this.isEditMode=!1,this.isViewOnly=!0,this.showManageButtons=!0)}ngOnInit(){this.maxDate=new Date,("EDIT"===this.operationType||"VIEW"===this.operationType)&&(this.DataBreachTrackingNo=history.state.DataBreachTrackingNo),this.OrganisationDetails=this.fb.group({OrganisationName:new Z.e("",[Z.u.required]),RegNo:new Z.e("",[Z.u.required]),DPOEmail:new Z.e("",[Z.u.required]),DPONumber:new Z.e("",[Z.u.required,Z.u.pattern(/^[0-9]+$/)])}),this.isOfficer=this.auth.isUserInRole("data-protection-officer-nita"),this.isCompanyOfficer=this.auth.isUserInRole("data-protection-officer"),this.getCauseOfBreachJson.subscribe(t=>{this.causeOfBreaches=t}),this.breachDetails=this.fb.group({incidentDate:[null,Z.u.required],delayInReporting:[null],delayInReportings:[null],reasonForDelay:[null,Z.u.required],causesOfBreach:[],measures:[null,Z.u.required],FullDetailsOfComplaint:[null,Z.u.required],DetailsOfComplaint:[null,Z.u.required]}),this.containmentAndRecovery=this.fb.group({actionTaken:[null],detailsOfActionTaken:[null],hasDataBeenRecovered:[null],detailsOfRecovery:[null],dateOfRecovery:[null],preventionSteps:[null]}),this.breachConsequences=this.fb.group({}),this.additionalInfo=this.fb.group({}),this.potentialHarms=this.fb.group({}),this.OtherpotentialHarms=this.fb.group({}),this.accesses.includes("director-rights")&&(this.isDirector=!0),this.isViewOnly&&(this.disableAllControls(),this.getBreach(),this.subscriptions.$resultComplaintsEvent=this.$resultComplaintsEvent.subscribe(t=>{if(t){this.TotalSelectedBreachDescription=t[0].PotentialConsequences,console.log(t[0].PotentialConsequences.length);const e=Math.ceil(t[0].PotentialConsequences/2);console.log(typeof t[0].PotentialConsequences),this.FirstSelectedBreachDescription=t[0].PotentialConsequences.slice(0,e),console.log(this.FirstSelectedBreachDescription),this.SecondSelectedBreachDescription=t[0].PotentialConsequences.slice(-e),console.log(this.SecondSelectedBreachDescription),this.TotalSelectedPotentialHarms=t[0].PotentialHarms,this.TechnicalComments=t[0].TechnicalComments,this.LegalComments=t[0].LegalComments,this.accesses.includes("technical-rights")?1==t[0].BreachStatusID?this.disableForward=!1:7==t[0].BreachStatusID?(this.showManageRequestInfo=!0,this.disableForward=!0):this.disableForward=!0:this.accesses.includes("legal-rights")?3==t[0].BreachStatusID?this.disableForward=!1:8==t[0].BreachStatusID?(this.showManageRequestInfo=!0,this.disableForward=!0):this.disableForward=!0:this.accesses.includes("director-rights")?this.disableResolve=4!=t[0].BreachStatusID:this.disableForward=!0,this.httpSub=this.fetchOrganisation(t[0].OrganisationID).pipe(Object(nt.a)(this.service.handleError)).subscribe(e=>{this.mapFields(t,e[0])},t=>{this.processing=!1,this.service.determineErrorResponse(t)})}else console.log("expected")}))}ngAfterViewInit(){this.httpSub=this.fetchMultiple().pipe(Object(nt.a)(this.service.handleError)).subscribe(t=>{this.breachDescriptionQuestionsCount=t[0].length,console.log(this.breachDescriptionQuestionsCount);const e=Math.ceil(t[0].length/2);this.BreachDescriptionQuestionsFirst=t[0].splice(0,e),console.log(this.BreachDescriptionQuestionsFirst),this.BreachDescriptionQuestionsSecond=t[0].splice(-e),console.log(this.BreachDescriptionQuestionsSecond),this.BreachDescriptionQuestions=this.BreachDescriptionQuestionsFirst.concat(this.BreachDescriptionQuestionsSecond),console.log(this.BreachDescriptionQuestions),this.PotentialHarmsCount=t[2].length,this.BreachCauses=t[1];const a=Math.ceil(t[2].length/2);this.PotentialHarmsFirst=t[2].splice(0,a),this.PotentialHarmsSecond=t[2].splice(-a),this.PotentialHarmsQuestions=this.PotentialHarmsFirst.concat(this.PotentialHarmsSecond),console.log(t[3]),this.prefillOrganisationDetails(t[3]),this.processing=!1},t=>{this.processing=!1,this.service.determineErrorResponse(t)})}changePotentialHarmsValue(t,e){console.log(t.value);const a=t.value;var n;a.startsWith("Yes")?(a.substring(a.indexOf("-")+1),this.selectedPotentialHarms.push(e),console.log(this.selectedPotentialHarms.length),-1!==(n=this.notSelectedPotentialHarms.indexOf(e))&&this.notSelectedPotentialHarms.splice(n,1),console.log(this.notSelectedPotentialHarms.length)):(a.substring(a.indexOf("-")+1),this.notSelectedPotentialHarms.push(e),-1!==(n=this.selectedPotentialHarms.indexOf(e))&&this.selectedPotentialHarms.splice(n,1),console.log(this.selectedPotentialHarms))}changeBreachDescriptionValue(t,e){console.log(t.value);const a=t.value;var n;a.startsWith("Yes")?(a.substring(a.indexOf("-")+1),this.selectedBreachDescriptionQuestions.push(e),-1!==(n=this.notSelectedBreachDescriptionQuestions.indexOf(e))&&this.notSelectedBreachDescriptionQuestions.splice(n,1),console.log(this.selectedBreachDescriptionQuestions)):(a.substring(a.indexOf("-")+1),this.notSelectedBreachDescriptionQuestions.push(e),-1!==(n=this.selectedBreachDescriptionQuestions.indexOf(e))&&this.selectedBreachDescriptionQuestions.splice(n,1),console.log(this.selectedBreachDescriptionQuestions))}fetchMultiple(){this.processing=!0;const t=this.http.get(this.endpoints.getOrgDetailsById+"?OrganizationID="+this.OrganisationID.organisation_id),e=this.http.get(this.endpoints.getBreachDescriptionDetails),a=this.http.get(this.endpoints.getBreachCauses),n=this.http.get(this.endpoints.getPotentialHarms);return Object(ot.a)([e,a,n,t])}mapFields(t,e){console.log(e),console.log(t[0]),this.OrganisationDetails.get("OrganisationName").setValue(e[0].OrganisationName),this.OrganisationDetails.get("RegNo").setValue(e[0].RegTrackingNo),this.OrganisationDetails.get("DPOEmail").setValue(e[0].EmailAddress),this.OrganisationDetails.get("DPONumber").setValue(e[0].PhoneNumber),this.breachDetails.get("incidentDate").setValue(new Date(t[0].IncidentDate)),-1!==t[0].CategoriesOfDataSubjectAffected.split(",").indexOf("adults")&&this.breachDetails.get("delayInReporting").setValue(!0),-1!==t[0].CategoriesOfDataSubjectAffected.split(",").indexOf("children")&&this.breachDetails.get("delayInReportings").setValue(!0),this.breachDetails.get("causesOfBreach").setValue(t[0].BreachCauses),this.breachDetails.get("reasonForDelay").setValue(t[0].NumberOfDataSubjects.toString()),this.breachDetails.get("measures").setValue(t[0].NumberOfRecordsHeld.toString()),this.breachDetails.get("FullDetailsOfComplaint").setValue(t[0].DetailedDataBreachCause),this.breachDetails.get("DetailsOfComplaint").setValue(t[0].RemedialActionsTaken),this.containmentAndRecovery.get("actionTaken").setValue(t[0]),this.containmentAndRecovery.get("detailsOfActionTaken").setValue(t[0].ActionTakenToMinimizeDetails),this.containmentAndRecovery.get("hasDataBeenRecovered").setValue(t[0]),this.containmentAndRecovery.get("detailsOfRecovery").setValue(t[0].DataPlacedAtRiskRecoveredDetails),this.containmentAndRecovery.get("dateOfRecovery").setValue(t[0].DataRecoveryDate),this.containmentAndRecovery.get("preventionSteps").setValue(t[0].PreventiveStepsToPreventRecurrence)}disableAllControls(){this.breachDetails.disable(),this.containmentAndRecovery.disable()}showPassword(){this.passwordInputType="text",this.cd.markForCheck()}hidePassword(){this.passwordInputType="password",this.cd.markForCheck()}submit(){this.snackbar.open("Breach Submitted Succefully your reference is DAB/16/10/21/4651",null,{duration:5e3})}onPolicyChange(t){this.application.policies=t}onPersonalDataChange(t){this.personalDataAffected=t}acceptData(t){this.personalDataAffected=t}filter(t){console.log(t.value)}onChangeBreachImpact(t){this.impactOfBreaches=t}onChangeConsquenceEvent(t){this.pontentialConsequences=t}onBreachControlEvent(t){this.controls=t}formTriggler(t){switch(t){case"EDIT":case"CREATE":break;case"VIEW":this.isViewOnly=!0}}get getSampleJson(){return Object(b.a)(g.map(t=>t))}get getCauseOfBreachJson(){return Object(b.a)(h.map(t=>t))}get getData(){return Object(b.a)(C)}getFormData(){const t=new Date(this.breachDetails.get("incidentDate").value),e=et(t).format("YYYY-MM-DD"),a=new Date(this.containmentAndRecovery.get("dateOfRecovery").value),n=et(a).format("YYYY-MM-DD");return{OrganisationID:parseInt(this.ActualOrganisationID),IncidentDate:e,organisation_name:this.OrganisationDetails.get("OrganisationName").value,RegTrackingNo:this.OrganisationDetails.get("RegNo").value,PhoneNumber:this.OrganisationDetails.get("DPONumber").value,email:this.OrganisationDetails.get("DPOEmail").value,CategoriesOfDataSubjectAffected:this.DataSubjectsCategories.toString(),NumberOfDataSubjects:this.breachDetails.get("reasonForDelay").value?parseInt(this.breachDetails.get("reasonForDelay").value):"",DetailedDataBreachCause:this.breachDetails.get("FullDetailsOfComplaint").value,NumberOfRecordsHeld:parseInt(this.breachDetails.get("measures").value),RemedialActionsTaken:this.breachDetails.get("DetailsOfComplaint").value,PotentialConsequences:this.selectedBreachDescriptionQuestions,PotentialHarms:this.selectedPotentialHarms,IsActionTakenToMinimize:this.ActionTakenCheckboxValue,ActionTakenToMinimizeDetails:this.containmentAndRecovery.get("detailsOfActionTaken").value?this.containmentAndRecovery.get("detailsOfActionTaken").value:"",IsDataPlacedAtRiskRecovered:this.DataRecoveredCheckboxValue,DataPlacedAtRiskRecoveredDetails:this.containmentAndRecovery.get("detailsOfRecovery").value?this.containmentAndRecovery.get("detailsOfRecovery").value:"",DataRecoveryDate:this.containmentAndRecovery.get("dateOfRecovery").value?n:"",PreventiveStepsToPreventRecurrence:this.containmentAndRecovery.get("preventionSteps").value?this.containmentAndRecovery.get("preventionSteps").value:"",PersonalDataAffected:this.personalDataAffected,BreachCauses:this.CausesOfBreach}}onPreviewForm(t){this.dialogRef=this.dialog.open(Gt,{panelClass:["org-breach-preview","dialogs"],disableClose:!0,data:{download:t,row:this.getFormData()}})}onSubmit(){console.log(this.getFormData()),this.httpSub=this.http.post(this.endpoints.reportBreach,this.getFormData()).pipe(Object(nt.a)(this.service.handleError)).subscribe(t=>{this.dialogRef=this.dialog.open(J.a,{disableClose:!0,data:{title:"Breach Submission",message:"Breach Report Created Successfully",status:!0}}),this.dialogRef.afterClosed().subscribe(()=>{this.route.navigate(["/"])}),this.processing=!1},t=>{this.processing=!1,t.error.message?this.dialogRef=this.dialog.open(tt.a,{panelClass:["forward-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:R.a.technicalErrorResponse,status:!1}}):this.service.determineErrorResponse(t)})}markAsResolved(){this.dialog.open(vt,{width:"1391px",height:"595px",data:{DataBreachTrackingNumber:this.DataBreachTrackingNo,Status:5,isDirector:this.isDirector,TechnicalComments:this.TechnicalComments,LegalComments:this.LegalComments}})}forwardComplaint(){let t,e,a;this.accesses.includes("technical-rights")?(t=3,a=!1):this.accesses.includes("legal-rights")&&(e=this.TechnicalComments,t=4,a=!0),this.dialog.open(Dt,{width:"1391px",height:"595px",data:{DataBreachTrackingNumber:this.DataBreachTrackingNo,Status:t,TechnicalComments:e,isLegal:a}})}moreInformation(){this.dialog.open(Vt,{width:"1391px",height:"595px",data:{DataBreachTrackingNumber:this.DataBreachTrackingNo}}).afterClosed().subscribe(t=>{})}ActionTakenCheckboxChange(t){this.ActionTakenCheckboxValue=t.checked?1:0}DataRecoveredCheckboxChange(t){t.checked?(this.DataRecoveredCheckboxValue=1,console.log("here1")):(this.DataRecoveredCheckboxValue=0,console.log("here2"))}ChildrenDataSubjectCategoryChange(t){if(t.checked)-1==this.DataSubjectsCategories.indexOf("children")&&this.DataSubjectsCategories.push("children"),console.log("here1");else{var e=this.DataSubjectsCategories.indexOf("children");-1!==e&&this.DataSubjectsCategories.splice(e,1)}}AdultDataSubjectCategoryChange(t){if(t.checked)-1==this.DataSubjectsCategories.indexOf("adults")&&this.DataSubjectsCategories.push("adults"),console.log("here1");else{var e=this.DataSubjectsCategories.indexOf("adults");-1!==e&&this.DataSubjectsCategories.splice(e,1)}}markUnderInvestigation(){this.dialog.open(Ot,{width:"1391px",height:"595px",data:{BreachTrackingNumber:this.DataBreachTrackingNo,Status:2}}).afterClosed().subscribe(t=>{})}onChangeOfBreachCauses(t,e){if(1==t.source._selected)-1==this.CausesOfBreach.indexOf(e)&&this.CausesOfBreach.push(e);else{var a=this.CausesOfBreach.indexOf(e);-1!==a&&this.CausesOfBreach.splice(a,1)}console.log(this.CausesOfBreach)}getBreach(){this.dataBreachService.getBreach(this.$processingEvent,this.$resultComplaintsEvent,this.$errorsEvent,this.DataBreachTrackingNo)}fetchOrganisation(t){const e=this.http.get(this.endpoints.getOrganisationDetailsById+"?OrganizationID="+t);return Object(ot.a)([e])}prefillOrganisationDetails(t){console.log(t),this.ActualOrganisationID=t[0].OrganisationID,this.OrganisationDetails.get("OrganisationName").setValue(this.OrganisationID.organisation_name),this.OrganisationDetails.get("RegNo").setValue(t[0].RegTrackingNo),this.OrganisationDetails.get("DPOEmail").setValue(t[0].EmailAddress),this.OrganisationDetails.get("DPONumber").setValue(t[0].PhoneNumber)}manageRequestInfo(){this.httpSub=this.http.get(this.endpoints.CheckBreachRequestForInfo+"?DataBreachTrackingNo="+this.DataBreachTrackingNo).pipe(Object(nt.a)(this.service.handleError)).subscribe(t=>{console.log(t.data.Comments),this.dialogRef=this.dialog.open(zt,{width:"1391px",height:"595px",data:{DataBreachTrackingNumber:this.DataBreachTrackingNo,RequestedInformation:t.data.Comments}}),this.dialogRef.afterClosed().subscribe(()=>{this.route.navigate(["/reporting-and-notification/find/all"])}),this.processing=!1},t=>{this.processing=!1,t.error.message?this.dialogRef=this.dialog.open(J.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:R.a.technicalErrorResponse,status:!1}}):this.service.determineErrorResponse(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(Z.d),o.Ob(D.a),o.Ob(y.a),o.Ob(P.c),o.Ob(o.h),o.Ob(i.a),o.Ob(O.c),o.Ob(S.b),o.Ob(S.b),o.Ob(O.c),o.Ob(at.a),o.Ob(i.f),o.Ob(ct.a),o.Ob(rt.a),o.Ob(lt.a),o.Ob(w),o.Ob(jt.c))},t.\u0275cmp=o.Ib({type:t,selectors:[["fury-data-breach-edit"]],viewQuery:function(t,e){if(1&t&&o.Vc(Ie,!0),2&t){let t;o.zc(t=o.dc())&&(e.autosize=t.first)}},features:[o.zb],decls:191,vars:68,consts:[["mode","card"],["current","Notification Breach",3,"crumbs"],[4,"ngIf"],[1,""],["labelPosition","bottom",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[1,"form-OrganisationDetails",3,"formGroup"],[1,"grouped-items"],["fxFlex","2 2 auto",3,"ngStyle"],[1,"required-field"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","OrganisationName","cdkAutosizeMaxRows","5",3,"readonly"],["autosize","cdkTextareaAutosize"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","RegNo","cdkAutosizeMaxRows","5",3,"readonly"],[3,"ngStyle"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","DPOEmail","cdkAutosizeMaxRows","5",3,"readonly"],["fxFlex","2 2 auto"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","DPONumber","cdkAutosizeMaxRows","5",3,"readonly"],[1,"button-wrapper","single-button"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-button","","type","button",3,"disabled","click"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled"],[3,"formGroup"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex",""],["formControlName","incidentDate","matInput","","readonly","",3,"max","matDatepicker","click","focus"],["matSuffix","",3,"for"],["formDatepickerRef",""],["fxFlex","2 2 auto","appearance","fill"],["formControlName","causesOfBreach","multiple",""],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",3,"ngStyle"],["formControlName","delayInReporting",3,"checked","change"],["formControlName","delayInReportings",3,"checked","change"],["matInput","","type","number","formControlName","reasonForDelay",3,"min"],["matInput","","type","number","formControlName","measures",3,"min"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","20px"],["fxFlex","2 2 auto",1,"full-width","margin-top"],["placeholder","Enter here","formControlName","FullDetailsOfComplaint","matInput","","maxlength","1000",1,"textarea-large"],["FullDetailsOfComplaintInput",""],["placeholder","Enter here","formControlName","DetailsOfComplaint","matInput","","maxlength","1000",1,"textarea-large"],["DetailsOfComplaintInput",""],[3,"personalDataList","isViewOnly","PersonalDataAffected","personalDataEvent"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["formControlName","actionTaken",3,"checked","value","change"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","detailsOfActionTaken","cdkAutosizeMaxRows","5"],["formControlName","hasDataBeenRecovered",3,"checked","value","change"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","detailsOfRecovery","cdkAutosizeMaxRows","5"],["formControlName","dateOfRecovery","matInput","","readonly","",3,"max","matDatepicker","click","focus"],["formDatepickerRefRecovery",""],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","preventionSteps","cdkAutosizeMaxRows","5"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions",3,"ngStyle"],["color","primary","mat-button","","matStepperPrevious","","type","button"],["for","Questions"],[3,"linear",4,"ngIf"],["class","flex-container","fxLayout","row","fxLayout","column",4,"ngIf"],["class","actions","fxLayout","row","fxLayoutGap","12px",4,"ngIf"],[1,"example-spacer"],["mat-raised-button","","class","actions-button-padding","color","primary",3,"ngStyle","disabled","click",4,"ngIf"],["mat-raised-button","","class","actions-button-padding","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","class","actions-button-padding","color","primary",3,"disabled","ngStyle","click",4,"ngIf"],["mat-raised-button","","matTooltip","View Timeline","class","actions-button-padding","color","primary",3,"disabled","ngStyle","click",4,"ngIf"],["mat-raised-button","","matTooltip","View Timeline","class","actions-button-padding","color","primary",3,"ngStyle","click",4,"ngIf"],["mat-raised-button","","color","primary",1,"actions-button-padding",3,"ngStyle","disabled","click"],["mat-raised-button","","color","primary",1,"actions-button-padding",3,"disabled","click"],["mat-raised-button","","color","primary",1,"actions-button-padding",3,"disabled","ngStyle","click"],["mat-raised-button","","matTooltip","View Timeline","color","primary",1,"actions-button-padding",3,"disabled","ngStyle","click"],["mat-raised-button","","matTooltip","View Timeline","color","primary",1,"actions-button-padding",3,"ngStyle","click"],[3,"value","onSelectionChange"],[3,"linear"],[4,"ngFor","ngForOf"],["matColumnDef","NatureOfPersonalDataCollected"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"formGroup",4,"ngIf"],["color","primary"],[3,"value","ngStyle","change"],[3,"value","change"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["fxLayout","row","fxLayout","column",1,"flex-container"],["action",""],["layout","row","layout-wrap",""],["class","grouped-items","flex","50",4,"ngFor","ngForOf"],["flex","50",1,"grouped-items"],["value","Yes",3,"checked"],["fxLayout","row","fxLayoutGap","12px",1,"actions"],["color","primary","mat-button","","matStepperPrevious","","type","button",2,"margin-left","50px"],["mat-button","","color","primary","matTooltip","Keep a copy of the information you have filled in",1,"download",3,"disabled","click"],[1,"button-label"],["mat-button","","color","primary","matTooltip","Have a look at all the information you have filled in before sending.",1,"preview",3,"disabled","click"],["color","primary","mat-raised-button","","fxLayout","row","fxLayoutAlign","end end","fxLayoutGap","8px",1,"next-btn","submit-btn",3,"disabled","ngStyle","click"]],template:function(t,e){if(1&t){const t=o.Vb();o.Ub(0,"fury-page-layout",0),o.Ub(1,"fury-page-layout-header"),o.Pb(2,"fury-breadcrumbs",1),o.Tb(),o.Ub(3,"div"),o.Ub(4,"mat-toolbar"),o.Pc(5,qe,7,5,"mat-toolbar-row",2),o.Tb(),o.Tb(),o.Ub(6,"fury-page-layout-content"),o.Ub(7,"div",3),o.Ub(8,"mat-horizontal-stepper",4,5),o.Ub(10,"mat-step",6),o.Pc(11,_e,1,0,"ng-template",7),o.Ub(12,"form",8),o.Ub(13,"div",9),o.Ub(14,"mat-form-field",10),o.Ub(15,"mat-label"),o.Rc(16,"Name of Organisation"),o.Ub(17,"span",11),o.Rc(18,"required"),o.Tb(),o.Tb(),o.Pb(19,"textarea",12,13),o.Ub(21,"mat-hint"),o.Rc(22,"Organisation that is affected"),o.Tb(),o.Tb(),o.Ub(23,"mat-form-field",10),o.Ub(24,"mat-label"),o.Rc(25,"Registration Number"),o.Tb(),o.Pb(26,"textarea",14,13),o.Ub(28,"mat-hint"),o.Rc(29,"The number assigned after registration"),o.Tb(),o.Tb(),o.Tb(),o.Ub(30,"div",15),o.Ub(31,"mat-form-field",10),o.Ub(32,"mat-label"),o.Rc(33,"Email Address of Organisation"),o.Ub(34,"span",11),o.Rc(35,"required"),o.Tb(),o.Tb(),o.Pb(36,"textarea",16,13),o.Ub(38,"mat-hint"),o.Rc(39,"Contact Email of Organisation"),o.Tb(),o.Tb(),o.Ub(40,"mat-form-field",17),o.Ub(41,"mat-label"),o.Rc(42,"Telephone Number of Organisation"),o.Ub(43,"span",11),o.Rc(44,"required"),o.Tb(),o.Tb(),o.Pb(45,"textarea",18,13),o.Ub(47,"mat-hint"),o.Rc(48,"Contact Number of Organisation"),o.Tb(),o.Tb(),o.Tb(),o.Ub(49,"div",19),o.Ub(50,"div",20),o.Ub(51,"button",21),o.cc("click",function(){return o.Ec(t),o.Ac(9).reset()}),o.Rc(52,"RESET "),o.Tb(),o.Ub(53,"button",22),o.Rc(54," NEXT "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(55,"mat-step",6),o.Pc(56,Ge,1,0,"ng-template",7),o.Ub(57,"form",23),o.Ub(58,"div",24),o.Ub(59,"mat-form-field",25),o.Ub(60,"mat-label"),o.Rc(61,"Select date of when incident happen?"),o.Tb(),o.Ub(62,"input",26),o.cc("click",function(){return o.Ec(t),o.Ac(67).open()})("focus",function(){return o.Ec(t),o.Ac(67).open()}),o.Tb(),o.Pb(63,"mat-datepicker-toggle",27),o.Ub(64,"mat-hint"),o.Rc(65,"When did the incident happen?"),o.Tb(),o.Pb(66,"mat-datepicker",null,28),o.Tb(),o.Ub(68,"mat-form-field",29),o.Ub(69,"mat-label"),o.Rc(70,"Likely Causes of the breach"),o.Tb(),o.Ub(71,"mat-select",30),o.Pc(72,Ve,2,2,"mat-option",31),o.Tb(),o.Ub(73,"mat-hint"),o.Rc(74,"Please specify if any financial or sensitive personal data (special categories*) has been affected "),o.Tb(),o.Tb(),o.Tb(),o.Ub(75,"div",32),o.Ub(76,"mat-label"),o.Ub(77,"div"),o.Ub(78,"h5"),o.Rc(79,"Categories of Data Subject Affected by breach"),o.Tb(),o.Tb(),o.Ub(80,"div"),o.Ub(81,"mat-checkbox",33),o.cc("change",function(t){return e.AdultDataSubjectCategoryChange(t)}),o.Rc(82," Adult "),o.Tb(),o.Tb(),o.Ub(83,"div"),o.Ub(84,"mat-checkbox",34),o.cc("change",function(t){return e.ChildrenDataSubjectCategoryChange(t)}),o.Rc(85," Children "),o.Tb(),o.Tb(),o.Tb(),o.Ub(86,"mat-form-field",29),o.Ub(87,"mat-label"),o.Rc(88,"Number of data Subjects"),o.Tb(),o.Pb(89,"input",35),o.Ub(90,"mat-hint"),o.Rc(91,"Subjects affected by breach"),o.Tb(),o.Tb(),o.Ub(92,"mat-form-field",29),o.Ub(93,"mat-label"),o.Rc(94,"Total Number of Records held"),o.Tb(),o.Pb(95,"input",36),o.Ub(96,"mat-hint"),o.Rc(97,"Breached records as a percentage"),o.Tb(),o.Tb(),o.Tb(),o.Ub(98,"div",37),o.Ub(99,"mat-form-field",38),o.Ub(100,"mat-label"),o.Rc(101,"Details On Likely causes of breaches"),o.Ub(102,"span",11),o.Rc(103,"required"),o.Tb(),o.Tb(),o.Pb(104,"textarea",39,40),o.Tb(),o.Tb(),o.Ub(106,"div",37),o.Ub(107,"mat-form-field",38),o.Ub(108,"mat-label"),o.Rc(109,"Remedial Actions taken or proposed"),o.Ub(110,"span",11),o.Rc(111,"required"),o.Tb(),o.Tb(),o.Pb(112,"textarea",41,42),o.Tb(),o.Tb(),o.Ub(114,"div",20),o.Ub(115,"button",21),o.cc("click",function(){return o.Ec(t),o.Ac(9).reset()}),o.Rc(116,"RESET "),o.Tb(),o.Ub(117,"button",22),o.Rc(118," NEXT "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(119,"mat-step",6),o.Pc(120,ze,0,0,"ng-template",7),o.Ub(121,"fury-data-breach-personal-data-itemised",43),o.cc("PersonalDataAffected",function(t){return e.acceptData(t)})("personalDataEvent",function(t){return e.onPersonalDataChange(t)}),o.Tb(),o.Tb(),o.Ub(122,"mat-step",6),o.Ub(123,"form",23),o.Pc(124,je,0,0,"ng-template",7),o.Ub(125,"fieldset"),o.Ub(126,"legend"),o.Rc(127," Containment & Recovery"),o.Tb(),o.Ub(128,"div",44),o.Ub(129,"mat-checkbox",45),o.cc("change",function(t){return e.ActionTakenCheckboxChange(t)}),o.Rc(130," Has any action been taken to minimise/mitigate the effect on the affected individuals? "),o.Tb(),o.Ub(131,"div",24),o.Ub(132,"mat-form-field",29),o.Ub(133,"mat-label"),o.Rc(134,"Details Of Action Taken"),o.Tb(),o.Pb(135,"textarea",46,13),o.Ub(137,"mat-hint"),o.Rc(138,"Provide details taken to minimise/mitigate the effect."),o.Tb(),o.Tb(),o.Tb(),o.Ub(139,"mat-checkbox",47),o.cc("change",function(t){return e.DataRecoveredCheckboxChange(t)}),o.Rc(140," Has the data placed at risk now been recovered? "),o.Tb(),o.Ub(141,"div",32),o.Ub(142,"mat-form-field",29),o.Ub(143,"mat-label"),o.Rc(144,"Data recovery details"),o.Tb(),o.Pb(145,"textarea",48,13),o.Ub(147,"mat-hint"),o.Rc(148,"If so, please provide details of how and when this occurred. "),o.Tb(),o.Tb(),o.Tb(),o.Ub(149,"mat-form-field",25),o.Ub(150,"mat-label"),o.Rc(151,"Select date of data recovery"),o.Tb(),o.Ub(152,"input",49),o.cc("click",function(){return o.Ec(t),o.Ac(157).open()})("focus",function(){return o.Ec(t),o.Ac(157).open()}),o.Tb(),o.Pb(153,"mat-datepicker-toggle",27),o.Ub(154,"mat-hint"),o.Rc(155,"When did the recovery occur?"),o.Tb(),o.Pb(156,"mat-datepicker",null,50),o.Tb(),o.Ub(158,"div",24),o.Ub(159,"mat-form-field",29),o.Ub(160,"mat-label"),o.Rc(161,"Prevention Steps"),o.Tb(),o.Pb(162,"textarea",51,13),o.Ub(164,"mat-hint"),o.Rc(165,"What steps have been taken to prevent a recurrence of this incident ? "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Pb(166,"br"),o.Pb(167,"br"),o.Ub(168,"div",52),o.Ub(169,"button",53),o.Rc(170,"PREVIOUS"),o.Tb(),o.Ub(171,"button",22),o.Rc(172," NEXT "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(173,"mat-step",6),o.Ub(174,"div",15),o.Ub(175,"label",54),o.Rc(176,"Breach Consequences"),o.Tb(),o.Tb(),o.Pc(177,aa,16,11,"mat-horizontal-stepper",55),o.Pc(178,oa,4,1,"div",56),o.Ub(179,"div",52),o.Ub(180,"button",53),o.Rc(181,"PREVIOUS"),o.Tb(),o.Ub(182,"button",22),o.Rc(183," NEXT "),o.Tb(),o.Tb(),o.Tb(),o.Ub(184,"mat-step",6),o.Ub(185,"div",15),o.Ub(186,"label",54),o.Rc(187,"Potential Harms"),o.Tb(),o.Tb(),o.Pc(188,ua,25,15,"mat-horizontal-stepper",2),o.Pc(189,pa,4,1,"div",56),o.Pc(190,ha,17,5,"div",57),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=o.Ac(67),a=o.Ac(157);o.Cb(2),o.nc("@fadeInRight",void 0)("crumbs",o.qc(57,ga)),o.Cb(3),o.nc("ngIf",1==e.showManageButtons),o.Cb(1),o.nc("@fadeInUp",void 0),o.Cb(1),o.nc("@fadeInUp",void 0),o.Cb(1),o.nc("linear",!0),o.Cb(2),o.nc("stepControl",e.OrganisationDetails),o.Cb(2),o.nc("formGroup",e.OrganisationDetails),o.Cb(2),o.nc("ngStyle",o.qc(58,fa)),o.Cb(5),o.nc("readonly",!0),o.Cb(4),o.nc("ngStyle",o.qc(59,fa)),o.Cb(3),o.nc("readonly",!0),o.Cb(4),o.nc("ngStyle",o.qc(60,Ca)),o.Cb(1),o.nc("ngStyle",o.qc(61,fa)),o.Cb(5),o.nc("readonly",!0),o.Cb(9),o.nc("readonly",!0),o.Cb(6),o.nc("disabled",e.OrganisationDetails.pristine),o.Cb(2),o.nc("disabled",e.OrganisationDetails.invalid),o.Cb(2),o.nc("stepControl",e.breachDetails),o.Cb(2),o.nc("formGroup",e.breachDetails),o.Cb(5),o.nc("max",e.maxDate)("matDatepicker",t),o.Cb(1),o.nc("for",t),o.Cb(9),o.nc("ngForOf",e.BreachCauses),o.Cb(3),o.nc("ngStyle",o.qc(62,Ta)),o.Cb(6),o.nc("checked",!1),o.Cb(3),o.nc("checked",!1),o.Cb(5),o.nc("min",1),o.Cb(6),o.nc("min",1),o.Cb(20),o.nc("disabled",e.breachDetails.pristine),o.Cb(2),o.nc("disabled",e.breachDetails.invalid),o.Cb(2),o.nc("stepControl",e.personalData),o.Cb(2),o.nc("personalDataList",e.application.personalDataAffected)("isViewOnly",e.isViewOnly),o.Cb(1),o.nc("stepControl",e.containmentAndRecovery),o.Cb(1),o.nc("formGroup",e.containmentAndRecovery),o.Cb(6),o.nc("checked",!1)("value",e.ActionTakenCheckboxValue),o.Cb(10),o.nc("checked",!1)("value",e.DataRecoveredCheckboxValue),o.Cb(2),o.nc("ngStyle",o.qc(63,ta)),o.Cb(11),o.nc("max",e.maxDate)("matDatepicker",a),o.Cb(1),o.nc("for",a),o.Cb(15),o.nc("ngStyle",o.qc(64,ta)),o.Cb(3),o.nc("disabled",e.containmentAndRecovery.invalid),o.Cb(2),o.nc("stepControl",e.breachConsequences),o.Cb(1),o.nc("ngStyle",o.qc(65,va)),o.Cb(3),o.nc("ngIf",0==e.showManageButtons),o.Cb(1),o.nc("ngIf",1==e.showManageButtons),o.Cb(1),o.nc("ngStyle",o.qc(66,ta)),o.Cb(3),o.nc("disabled",e.selectedBreachDescriptionQuestions.length+e.notSelectedBreachDescriptionQuestions.length!=e.breachDescriptionQuestionsCount),o.Cb(2),o.nc("stepControl",e.potentialHarms),o.Cb(1),o.nc("ngStyle",o.qc(67,va)),o.Cb(3),o.nc("ngIf",0==e.showManageButtons),o.Cb(1),o.nc("ngIf",1==e.showManageButtons),o.Cb(1),o.nc("ngIf",0==e.showManageButtons)}},directives:[k.a,I.a,B.a,Ht.a,n.o,A.a,$t.a,$t.b,$t.c,Z.v,Z.o,Z.h,ut.d,dt.b,n.p,ht.c,ut.h,mt.b,pt.b,Z.c,Z.n,Z.g,ut.g,dt.d,dt.c,dt.e,E.a,$t.e,Qt.b,Qt.d,ut.j,Qt.a,Wt.a,n.n,M.a,Z.r,Z.j,ke,$t.f,Ht.c,gt.a,Zt.m,r.c,r.i,r.b,wt.b,wt.a,r.h,c.b,r.a,Z.p,L.a],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}legend[_ngcontent-%COMP%]{padding:5px}.hide[_ngcontent-%COMP%]{display:none}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}div.grouped-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;align-self:flex-start}div.grouped-items[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:-webkit-fit-content;width:fit-content;width:-moz-fit-content;font-weight:500;font-size:13px}div.grouped-items[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .required-field[_ngcontent-%COMP%]{right:-49px}div.grouped-items[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;gap:40px;font-size:12px!important;font-weight:600}div.grouped-items[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:10px!important;font-weight:500!important}"],data:{animation:[T.a,v.a,st.a]}}),t})();const Da=[{path:"find/all",component:K,canActivate:[X.a],data:{roles:["find.breaches","view.breach"],action:"FIND"}},{path:"create",component:ya,canActivate:[X.a],data:{roles:["report.breach","update.breach"],action:"EDIT"}},{path:"view",component:ya,canActivate:[X.a],data:{roles:["find.breaches","view.breach"],action:"VIEW"}}];let xa=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[i.j.forChild(Da)],i.j]}),t})();var Ua=a("KthW"),Ra=a("AyUp"),Oa=a("WCGO"),Pa=a("VCcF"),wa=a("0jmt"),Sa=a("QMK6"),ka=a("VE2z"),Ia=a("6BeY"),Ba=a("q8Jb");let Aa=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[n.c,xa,Z.i,Ua.a,Ra.a,Z.s,Oa.a,Pa.a,wa.a,Sa.a,ka.a,Ia.a,Ba.a]]}),t})()}}]);