!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,a){if(!e)return;if("string"==typeof e)return t(e,a);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,a)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function a(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=s(e);if(t){var i=s(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return c(this,a)}}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{hktz:function(t,a,o){"use strict";o.r(a),o.d(a,"ReportingAndNotificationModule",function(){return Ka});var c,s=o("ofXK"),b=o("tyNb"),u=o("fXoL"),d=o("M9IT"),m=o("Dh3D"),p=o("+0xr"),f=o("jtHE"),g=o("LRne"),h=o("pbD1"),v=function e(){l(this,e)},C=function e(){l(this,e)},y=function e(){l(this,e)},T=[{cause:"Malicious internal act",code:"CA9238",id:"5"},{cause:"Accidental internal act",code:"C2333",id:"2"},{cause:"Malicious external act",code:"CA0002",id:"1"},{cause:"Unknown",code:"CA0003",id:"4"},{cause:"Other",code:"CA0005",id:"6"}],D=[{id:"1",rating:"1",impact:"Affected Data subject will be required to submit information afresh or fill forms again"},{id:"2",rating:"1",impact:"Affected Data subject may receive unsolicited email as a result of the breach"},{id:"3",rating:"1",impact:"Affected Data subject may be inconvenienced by marketing ads"},{id:"4",rating:"1",impact:"Affected Data subject may be inconvenienced by marketing ads"},{id:"5",rating:"1",impact:"Affected Data subject may experience loss of privacy but without risk of financial, psycological or physical harm"},{id:"2",rating:"1",impact:"Affected Data Subject may suffer fines or additional cost to renew a service as a result of the breach"},{id:"2",rating:"2",impact:"Affected Data subject may receive unsolicited targeted mailings likely to damage theire reputation"},{id:"2",rating:"2",impact:"Affected Data Subject may suffer targeted online advertising on a private aspect that the individual wanted to keep confidential (e.g. pregnancy advertising, drug treatment).  "},{id:"4",rating:"2",impact:"Affected Data Subject may suffer intimidation on social networks or cyber bullying"},{id:"4",rating:"2",impact:"Affected Data Subject may suffer defamation or loss of reputation"},{id:"3",rating:"3",impact:"Data Subjects may suffer financial loss as a result of a fraud (e.g. after an attempted phishing);       "},{id:"3",rating:"3",impact:"Data Subjects may suffer violation of fundametal human rights as a result of a breach e.g Discrimination, Persecution"},{id:"3",rating:"3",impact:"Data Subject may lose opportunities as a result of the breach e.g loss of scholarship"},{id:"3",rating:"3",impact:"Data Subject may suffer damage to property"},{id:"4",rating:"4",impact:"Data subject may fail to work or lose a job."},{id:"4",rating:"4",impact:"Data subject may suffer long-term or permanent psychological ailments;           "},{id:"4",rating:"4",impact:"Data subject may suffer financial risk        "},{id:"4",rating:"4",impact:" The data breach will result in loss of access to vital infrastructure e.g water, electricity"},{id:"4",rating:"4",impact:"The data breach exposed data belonging to chidren"},{id:"4",rating:"4",impact:"Data Breach exposed name, NIN and other personal data"}],x=[{id:"DAB/16/10/21/4651",incidentDate:"2021-02-02T21:00:00.000Z",howIncidentHappened:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",delayInReporting:!0,reasonForDelay:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",measuresInPlace:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",status:"SUBMITTED",policies:[{id:1,policy:"",explanation:"",implementationDate:"2021-02-02T21:00:00.000Z"}],personalDataAffected:[{dataCategory:{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},dataSubCategory:[],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0},{dataCategory:{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},dataSubCategory:[],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0}],containmentAndRecovery:{actionTaken:!0,detailsOfActionTaken:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",hasDataBeenRecovered:!0,detailsOfRecovery:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",dateOfRecovery:"2021-02-02T21:00:00.000Z",preventionSteps:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"},miscellaneous:{medialCoverageOfIncident:!0,regulatoryBodiesNotified:!0},registrationDate:"2021-02-02T21:00:00.000Z",impactOfBreach:[{id:"1",rating:"1",impact:"Affected Data subject will be required to submit information afresh or fill forms again"},{id:"2",rating:"1",impact:"Affected Data subject may receive unsolicited email as a result of the breach"}],potentialConsequences:[{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"A paper file or equipment is lost or stolen."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Paper or equipment left accessible in an unsecured location.  "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Mail lost or opened before being returned to sender.    "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Hacking, malware (e.g. ransomware) and/ or phishing.    "}],controls:[],causes:[{cause:"Malicious internal act",code:"CA9238",id:"5"},{cause:"Accidental internal act",code:"C2333",id:"2"}],reportedBy:"enockm15",companyReporting:"MTN Uganda",assignedTo:"angella",lastModifiedDate:"2021-02-02T21:00:00.000Z"}],U={id:"DAB/16/10/21/4651",incidentDate:"2021-02-02T21:00:00.000Z",howIncidentHappened:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",delayInReporting:!0,reasonForDelay:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. ",measuresInPlace:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",status:"SUBMITTED",policies:[{id:1,policy:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",explanation:"Lorem Ipsum is simply dummy text of the printing and typesetting industry.",implementationDate:"2021-02-02T21:00:00.000Z"}],personalDataAffected:[{dataCategory:{id:"3",name:"Biometric Information",subCategories:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}]},dataSubCategory:[{id:"1",value:"Genetic"},{id:"2",value:"Physiological."},{id:"3",value:"Behavioural."},{id:"4",value:"Biological characteristics."}],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"5",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0},{dataCategory:{id:"3",name:"Individual Commercial Information",subCategories:[{id:"1",value:"Records of personal propert"},{id:"2",value:"Purchasing habits."}]},dataSubCategory:[{id:"1",value:"Records of personal propert"},{id:"2",value:"Purchasing habits."}],toWhatExtent:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",affectedIndividuals:"5",recordsInvolved:"5",individualAwareness:!0,individualComplain:!0}],containmentAndRecovery:{actionTaken:!0,detailsOfActionTaken:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",hasDataBeenRecovered:!0,detailsOfRecovery:"Lorem Ipsum is simply dummy text of the printing and typesetting industry",dateOfRecovery:"2021-02-02T21:00:00.000Z",preventionSteps:"Lorem Ipsum is simply dummy text of the printing and typesetting industry"},miscellaneous:{medialCoverageOfIncident:!0,regulatoryBodiesNotified:!0},registrationDate:"2021-02-02T21:00:00.000Z",impactOfBreach:[{id:"1",rating:"1",impact:"Affected Data subject will be required to submit information afresh or fill forms again"},{id:"2",rating:"1",impact:"Affected Data subject may receive unsolicited email as a result of the breach"}],potentialConsequences:[{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"A paper file or equipment is lost or stolen."},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Paper or equipment left accessible in an unsecured location.  "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Mail lost or opened before being returned to sender.    "},{id:"1",potentialConsquence:"Loss of Confidentiality",additional:"Hacking, malware (e.g. ransomware) and/ or phishing.    "}],controls:[],causes:[{cause:"Malicious internal act",code:"CA9238",id:"5"},{cause:"Accidental internal act",code:"C2333",id:"2"}],reportedBy:"enockm15",companyReporting:"MTN Uganda",assignedTo:"angella",lastModifiedDate:"2021-02-02T21:00:00.000Z"},R=o("Ku73"),O=o("nStZ"),k=o("7R0Y"),P=o("H+bZ"),w=o("3fLY"),S=o("WVpI"),I=o("AytR"),B=o("aTx8"),A=o("tk/3"),F=((c=function(e){i(a,e);var t=r(a);function a(e,n){var i;return l(this,a),(i=t.call(this)).auth=e,i.http=n,i.baseAPIUri=I.a.backend,i.httpUtils=new w.a(e,n),i}return n(a,[{key:"getBreaches",value:function(e,t,a){return this.httpUtils.invokeGet(this.baseAPIUri+"v1.0/data-breach/",e,t,a,this.handleError)}},{key:"getBreach",value:function(e,t,a,n){return this.httpUtils.invokeGet(this.baseAPIUri+"v1.0/data-breach/single?DataBreachTrackingNo="+n,e,t,a,this.handleError)}}]),a}(S.a)).\u0275fac=function(e){return new(e||c)(u.Yb(B.c),u.Yb(A.c))},c.\u0275prov=u.Kb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),M=o("0IaG"),E=o("xBcV"),N=o("Hbgg"),L=o("rnAf"),q=o("rvYj"),_=o("a+RD"),G=o("bSwM"),V=o("bTqV"),j=o("STbY"),z=o("NFeN");function H(e,t){1&e&&(u.Ub(0,"th",13),u.Ub(1,"mat-checkbox",14),u.cc("click",function(e){return e.stopPropagation()}),u.Tb(),u.Tb())}function $(e,t){1&e&&(u.Ub(0,"td",15),u.Ub(1,"mat-checkbox",14),u.cc("click",function(e){return e.stopPropagation()}),u.Tb(),u.Tb())}function Q(e,t){if(1&e&&(u.Ub(0,"th",20),u.Rc(1),u.Tb()),2&e){var a=u.gc(2).$implicit;u.Cb(1),u.Tc(" ",a.name,"")}}function W(e,t){if(1&e&&(u.Ub(0,"td",21),u.Rc(1),u.Tb()),2&e){var a=t.$implicit,n=u.gc(2).$implicit;u.Cb(1),u.Tc(" ",a[n.property]," ")}}function Y(e,t){if(1&e&&(u.Sb(0,17),u.Pc(1,Q,2,1,"th",18),u.Pc(2,W,2,1,"td",19),u.Rb()),2&e){var a=u.gc().$implicit;u.nc("matColumnDef",a.property)}}function K(e,t){if(1&e&&(u.Sb(0),u.Pc(1,Y,3,1,"ng-container",16),u.Rb()),2&e){var a=t.$implicit;u.Cb(1),u.nc("ngIf",a.isModelProperty)}}function X(e,t){1&e&&u.Pb(0,"th",22)}function Z(e,t){if(1&e){var a=u.Vb();u.Ub(0,"td",15),u.Ub(1,"button",23),u.cc("click",function(e){return e.stopPropagation()}),u.Ub(2,"mat-icon"),u.Rc(3,"more_vert"),u.Tb(),u.Tb(),u.Ub(4,"mat-menu",24,25),u.Ub(6,"button",26),u.cc("click",function(){u.Ec(a);var e=t.$implicit;return u.gc().viewBreach(e)}),u.Ub(7,"mat-icon"),u.Rc(8,"visibility"),u.Tb(),u.Ub(9,"span"),u.Rc(10,"Manage"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=u.Ac(5);u.Cb(1),u.nc("matMenuTriggerFor",n)}}function J(e,t){1&e&&u.Pb(0,"tr",27)}function ee(e,t){1&e&&u.Pb(0,"tr",28)}var te,ae=function(){return["Breaches"]},ne=((te=function(){function e(t,a,n,i,o,r,c){l(this,e),this.service=t,this.dialog=a,this.route=n,this.endpoints=i,this.http=o,this.router=r,this.dataBreachService=c,this.subject$=new f.a(1),this.data$=this.subject$.asObservable(),this.$processingEvent=new u.o,this.$errorsEvent=new u.o,this.$resultComplaintsEvent=new u.o,this.statusList=[],this.subscriptions=[],this.columns=[{name:"Tracking No / Reference",property:"DataBreachTrackingNo",visible:!0,isModelProperty:!0},{name:"Data Collector/Controller/Processor",property:"OrganisationName",visible:!0,isModelProperty:!0},{name:"Incident Date",property:"IncidentDate",visible:!0,isModelProperty:!0},{name:"Status",property:"StatusName",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}return n(e,[{key:"ngOnInit",value:function(){var e=this;this.dataSource=new p.o,this.getBreaches(),this.subscriptions.$resultComplaintsEvent=this.$resultComplaintsEvent.subscribe(function(t){t?(e.breaches=t,e.dataSource.data=t):console.log("expected")})}},{key:"getData",value:function(){return Object(g.a)(x.map(function(e){return e}))}},{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"ngOnDestroy",value:function(){}},{key:"defineSearchFields",value:function(){this.searchFields=[{label:"Breach Reference #",fieldName:"breachReference",operators:h.e,dataType:h.a.TEXT},{label:"Delay In Reporting",fieldName:"delayInReporting",operators:h.d,dataType:h.a.BOOLEAN,lookupOptions:this.statusList,multiple:!0},{label:"Status",fieldName:"status",operators:h.d,dataType:h.a.TEXT,lookupOptions:this.statusList,multiple:!0},{label:"Registration date",fieldName:" v",operators:h.c,dataType:h.a.DATETIME}]}},{key:"getBreaches",value:function(){this.dataBreachService.getBreaches(this.$processingEvent,this.$resultComplaintsEvent,this.$errorsEvent)}},{key:"viewBreach",value:function(e){this.router.navigate(["/reporting-and-notification/view/"],{state:{DataBreachTrackingNo:e.DataBreachTrackingNo}}).then()}},{key:"manageBreach",value:function(e){this.router.navigate(["/reporting-and-notification/manage/"],{state:{DataBreachTrackingNo:e.DataBreachTrackingNo}}).then()}},{key:"visibleColumns",get:function(){return this.columns.filter(function(e){return e.visible}).map(function(e){return e.property})}}]),e}()).\u0275fac=function(e){return new(e||te)(u.Ob(P.a),u.Ob(M.b),u.Ob(b.a),u.Ob(k.a),u.Ob(A.c),u.Ob(b.f),u.Ob(F))},te.\u0275cmp=u.Ib({type:te,selectors:[["fury-find-reported-breaches"]],viewQuery:function(e,t){var a;1&e&&(u.Kc(d.a,!0),u.Kc(m.a,!0)),2&e&&(u.zc(a=u.dc())&&(t.paginator=a.first),u.zc(a=u.dc())&&(t.sort=a.first))},inputs:{columns:"columns"},decls:16,vars:11,consts:[["mode","card"],["current","Find",3,"crumbs"],["name","Breaches","finderDialogTitle","Breaches Finder",3,"columns","searchFields"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","checkbox"],["class","actions-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-header-cell","",1,"actions-cell"],["color","primary",3,"click"],["mat-cell","",1,"actions-cell"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","","routerLinkActive","router-link-active",3,"click"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements"]],template:function(e,t){1&e&&(u.Ub(0,"fury-page-layout",0),u.Ub(1,"fury-page-layout-header"),u.Pb(2,"fury-breadcrumbs",1),u.Tb(),u.Ub(3,"fury-page-layout-content"),u.Ub(4,"fury-list",2),u.Ub(5,"table",3),u.Sb(6,4),u.Pc(7,H,2,0,"th",5),u.Pc(8,$,2,0,"td",6),u.Rb(),u.Pc(9,K,2,1,"ng-container",7),u.Sb(10,8),u.Pc(11,X,1,0,"th",9),u.Pc(12,Z,11,1,"td",6),u.Rb(),u.Pc(13,J,1,0,"tr",10),u.Pc(14,ee,1,0,"tr",11),u.Tb(),u.Pb(15,"mat-paginator",12),u.Tb(),u.Tb(),u.Tb()),2&e&&(u.Cb(2),u.nc("@fadeInRight",void 0)("crumbs",u.qc(10,ae)),u.Cb(1),u.nc("@fadeInUp",void 0),u.Cb(1),u.nc("columns",t.columns)("searchFields",t.searchFields),u.Cb(1),u.nc("dataSource",t.dataSource),u.Cb(4),u.nc("ngForOf",t.columns),u.Cb(4),u.nc("matHeaderRowDef",t.visibleColumns),u.Cb(1),u.nc("matRowDefColumns",t.visibleColumns),u.Cb(1),u.nc("pageSize",t.pageSize))},directives:[E.a,N.a,L.a,q.a,_.a,p.n,m.a,p.c,p.i,p.b,s.n,p.k,p.m,d.a,p.h,G.a,p.a,s.o,m.b,V.a,j.e,z.a,j.a,j.c,b.h,p.j,p.l],styles:[""],data:{animation:[R.a,O.a]}}),te),ie=o("sF9m"),oe=o("3Pt+"),re=o("YStQ"),ce=o("Nd1k"),se=o("wd/R"),le=o("9Ku7"),be=o("JIr8"),ue=o("M2Gj"),de=o("cp0P"),me=o("KGtp"),pe=o("3eU1"),fe=o("j7tn"),ge=o("aYi0"),he=o("UjNt"),ve=o("XiUz"),Ce=o("kmnG"),ye=o("qFsG"),Te=o("ihCf"),De=o("znSr"),xe=o("Qu3c");function Ue(e,t){if(1&e){var a=u.Vb();u.Ub(0,"button",16),u.cc("click",function(){return u.Ec(a),u.gc().onRemoveDocument()}),u.Ub(1,"div",12),u.Ub(2,"mat-icon"),u.Rc(3,"clear"),u.Tb(),u.Ub(4,"span"),u.Rc(5," Remove Document "),u.Tb(),u.Tb(),u.Tb()}}function Re(e,t){if(1&e){var a=u.Vb();u.Ub(0,"div",17),u.cc("click",function(){u.Ec(a);var e=u.gc();return e.onReadDocument(e.evidenceDocument)}),u.Pb(1,"img",18),u.Ub(2,"span"),u.Rc(3),u.Ub(4,"span"),u.Rc(5),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=u.gc();u.Cb(3),u.Tc("",null==n.evidenceDocument?null:n.evidenceDocument.Name," "),u.Cb(2),u.Tc(" - ",null==n.evidenceDocument?null:n.evidenceDocument.Size," Mbs")}}var Oe,ke=function(){return{"margin-bottom":"20px","margin-top":"20px","background-color":"#ABC334",color:"#000"}},Pe=((Oe=function(){function e(t,a,n,i,o,r,c,s){l(this,e),this.fb=t,this.endpoints=a,this.http=n,this.service=i,this.dialog=o,this.route=r,this.allDialogRef=c,this.parent_data=s,this.BreachCommentsFormGroup=this.fb.group({}),this.$processingEvent=new u.o,this.$errorsEvent=new u.o,this.$resultBreachesEvent=new u.o,this.processing=!1}return n(e,[{key:"ngOnInit",value:function(){this.BreachCommentsFormGroup=this.fb.group({Comments:new oe.e("",[oe.u.required]),TechnicalForwardedComments:new oe.e(""),LegalForwardedComments:new oe.e("")}),this.BreachCommentsFormGroup.get("TechnicalForwardedComments").setValue(this.parent_data.TechnicalComments),this.BreachCommentsFormGroup.get("LegalForwardedComments").setValue(this.parent_data.LegalComments),console.log(this.parent_data)}},{key:"getBreachData",value:function(){return{Comments:this.BreachCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.DataBreachTrackingNumber,Status:this.parent_data.Status}}},{key:"onSubmit",value:function(){var e=this;this.processing=!0,console.log("Comments:",this.getBreachData()),this.httpSub=this.http.post(this.endpoints.updateBreachStatus,this.getBreachData()).pipe(Object(be.a)(this.service.handleError)).subscribe(function(t){e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Update Breach Status",message:t.message,status:200===t.code}}),e.dialogRef.afterClosed().subscribe(function(){e.allDialogRef.closeAll(),e.route.navigate(["/reporting-and-notification/find/all"])}),e.processing=!1},function(t){e.processing=!1,t.error.message?e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:I.a.technicalErrorResponse,status:!1}}):e.service.determineErrorResponse(t)})}},{key:"onUploadAttachments",value:function(){var e=this;this.dialogRef=this.dialog.open(he.a,{panelClass:["resolution-upload-dialog","dialogs"],disableClose:!0,data:{multiple:!1,maxSize:3}}),this.dialogRef.afterClosed().subscribe(function(t){t.status&&(e.evidenceDocument=t.row,console.log(e.evidenceDocument))})}}]),e}()).\u0275fac=function(e){return new(e||Oe)(u.Ob(oe.d),u.Ob(k.a),u.Ob(A.c),u.Ob(P.a),u.Ob(M.b),u.Ob(b.f),u.Ob(M.b),u.Ob(M.a))},Oe.\u0275cmp=u.Ib({type:Oe,selectors:[["fury-breach-comments"]],decls:40,vars:8,consts:[[2,"padding","10px"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxFlex","2 1 auto"],["formControlName","TechnicalForwardedComments","matInput","",3,"readonly"],["formControlName","LegalForwardedComments","matInput","",3,"readonly"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],[1,"buttons"],["mat-button","","color","primary",1,"add-item-button",3,"ngStyle","click"],[1,"button-label"],["mat-button","","color","primary","class","remove-button",3,"click",4,"ngIf"],["class","uploaded-document","matTooltip","Open Document",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-button","","color","primary",1,"remove-button",3,"click"],["matTooltip","Open Document",1,"uploaded-document",3,"click"],["src","./assets/images/pdf.png","alt",""]],template:function(e,t){1&e&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Rc(2,"Make Comments"),u.Tb(),u.Ub(3,"form",2),u.Ub(4,"mat-dialog-content"),u.Ub(5,"div",3),u.Ub(6,"div"),u.Ub(7,"fieldset"),u.Ub(8,"legend"),u.Rc(9,"Forwarded Comments"),u.Tb(),u.Ub(10,"div"),u.Ub(11,"div"),u.Ub(12,"mat-form-field",4),u.Ub(13,"mat-label"),u.Rc(14,"Technical Comments"),u.Tb(),u.Pb(15,"input",5),u.Tb(),u.Tb(),u.Ub(16,"div"),u.Ub(17,"mat-form-field",4),u.Ub(18,"mat-label"),u.Rc(19,"Legal Comments"),u.Tb(),u.Pb(20,"input",6),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(21,"div",7),u.Ub(22,"mat-form-field",8),u.Ub(23,"mat-label"),u.Rc(24,"Provide Comments"),u.Tb(),u.Pb(25,"textarea",9),u.Ub(26,"mat-hint"),u.Rc(27,"Review Comments"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(28,"section"),u.Ub(29,"div",10),u.Ub(30,"button",11),u.cc("click",function(){return t.onUploadAttachments()}),u.Ub(31,"div",12),u.Ub(32,"span"),u.Rc(33),u.Tb(),u.Tb(),u.Tb(),u.Pc(34,Ue,6,0,"button",13),u.Tb(),u.Pc(35,Re,6,2,"div",14),u.Tb(),u.Ub(36,"button",15),u.cc("click",function(){return t.onSubmit()}),u.Ub(37,"span"),u.Rc(38,"Submit"),u.Tb(),u.Tb(),u.Rc(39,"\xa0 "),u.Tb(),u.Tb()),2&e&&(u.Cb(3),u.nc("formGroup",t.BreachCommentsFormGroup),u.Cb(12),u.nc("readonly",!0),u.Cb(5),u.nc("readonly",!0),u.Cb(10),u.nc("ngStyle",u.qc(7,ke)),u.Cb(3),u.Tc(" ",t.evidenceDocument?"Replace Document":"Upload A Document"," "),u.Cb(1),u.nc("ngIf",null==t.evidenceDocument?null:t.evidenceDocument.Name),u.Cb(1),u.nc("ngIf",null==t.evidenceDocument?null:t.evidenceDocument.Base64))},directives:[M.h,oe.v,oe.o,oe.h,M.e,ve.d,ve.e,Ce.d,ve.b,Ce.h,oe.c,ye.b,oe.n,oe.g,Te.b,Ce.g,V.a,s.p,De.c,s.o,z.a,xe.a],styles:[""]}),Oe);function we(e,t){1&e&&(u.Ub(0,"fieldset"),u.Ub(1,"legend"),u.Rc(2,"Forwarded Comments"),u.Tb(),u.Ub(3,"div"),u.Ub(4,"div"),u.Ub(5,"mat-form-field",7),u.Ub(6,"mat-label"),u.Rc(7,"Technical Comments"),u.Tb(),u.Pb(8,"input",8),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&e&&(u.Cb(8),u.nc("readonly",!0))}var Se,Ie=((Se=function(){function e(t,a,n,i,o,r,c,s){l(this,e),this.fb=t,this.endpoints=a,this.http=n,this.service=i,this.dialog=o,this.route=r,this.allDialogRef=c,this.parent_data=s,this.processing=!1,this.ComplaintCommentsFormGroup=this.fb.group({}),this.BreachCommentsFormGroup=this.fb.group({})}return n(e,[{key:"ngOnInit",value:function(){this.BreachCommentsFormGroup=this.fb.group({Comments:new oe.e("",[oe.u.required]),TechnicalForwardedComments:new oe.e("")}),this.BreachCommentsFormGroup.get("TechnicalForwardedComments").setValue(this.parent_data.TechnicalComments)}},{key:"getBreachData",value:function(){return{Comments:this.BreachCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.DataBreachTrackingNumber,Status:this.parent_data.Status,RequestInformation:0,EvidenceFile:""}}},{key:"onSubmit",value:function(){var e=this;(this.processing=!0)&&(console.log("Comments:",this.getBreachData()),this.httpSub=this.http.post(this.endpoints.updateBreachStatus,this.getBreachData()).pipe(Object(be.a)(this.service.handleError)).subscribe(function(t){e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Update Breach Status",message:"Breach forwarded successfully",status:200===t.code}}),e.dialogRef.afterClosed().subscribe(function(){e.allDialogRef.closeAll(),e.route.navigate(["/reporting-and-notification/find/all"])}),e.processing=!1},function(t){e.processing=!1,t.error.message?e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:I.a.technicalErrorResponse,status:!1}}):e.service.determineErrorResponse(t)}))}}]),e}()).\u0275fac=function(e){return new(e||Se)(u.Ob(oe.d),u.Ob(k.a),u.Ob(A.c),u.Ob(P.a),u.Ob(M.b),u.Ob(b.f),u.Ob(M.b),u.Ob(M.a))},Se.\u0275cmp=u.Ib({type:Se,selectors:[["fury-forward-comments"]],decls:17,vars:2,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],[4,"ngIf"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],["mat-raised-button","","color","primary",3,"click"],["fxFlex","2 1 auto"],["formControlName","TechnicalForwardedComments","matInput","",3,"readonly"]],template:function(e,t){1&e&&(u.Ub(0,"div"),u.Ub(1,"form",0),u.Ub(2,"mat-dialog-content"),u.Ub(3,"div",1),u.Ub(4,"div"),u.Pc(5,we,9,1,"fieldset",2),u.Tb(),u.Ub(6,"div",3),u.Ub(7,"mat-form-field",4),u.Ub(8,"mat-label"),u.Rc(9,"Provide Comments"),u.Tb(),u.Pb(10,"textarea",5),u.Ub(11,"mat-hint"),u.Rc(12,"Review Comments"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(13,"button",6),u.cc("click",function(){return t.onSubmit()}),u.Ub(14,"span"),u.Rc(15,"Submit"),u.Tb(),u.Tb(),u.Rc(16,"\xa0 "),u.Tb(),u.Tb()),2&e&&(u.Cb(1),u.nc("formGroup",t.BreachCommentsFormGroup),u.Cb(4),u.nc("ngIf",1==t.parent_data.isLegal))},directives:[oe.v,oe.o,oe.h,M.e,ve.d,ve.e,s.o,Ce.d,ve.b,Ce.h,ye.b,Te.b,oe.c,oe.n,oe.g,Ce.g,V.a],styles:[""]}),Se);function Be(e,t){if(1&e){var a=u.Vb();u.Ub(0,"button",13),u.cc("click",function(){return u.Ec(a),u.gc().onRemoveDocument()}),u.Ub(1,"div",9),u.Ub(2,"mat-icon"),u.Rc(3,"clear"),u.Tb(),u.Ub(4,"span"),u.Rc(5," Remove Document "),u.Tb(),u.Tb(),u.Tb()}}function Ae(e,t){if(1&e){var a=u.Vb();u.Ub(0,"div",14),u.cc("click",function(){u.Ec(a);var e=u.gc();return e.onReadDocument(e.evidenceDocument)}),u.Pb(1,"img",15),u.Ub(2,"span"),u.Rc(3),u.Ub(4,"span"),u.Rc(5),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=u.gc();u.Cb(3),u.Tc("",null==n.evidenceDocument?null:n.evidenceDocument.Name," "),u.Cb(2),u.Tc(" - ",null==n.evidenceDocument?null:n.evidenceDocument.Size," Mbs")}}o("0/vc");var Fe,Me=function(){return{"margin-bottom":"20px","margin-top":"20px","background-color":"#ABC334",color:"#000"}},Ee=((Fe=function(){function e(t,a,n,i,o,r,c,s){l(this,e),this.fb=t,this.endpoints=a,this.http=n,this.service=i,this.dialog=o,this.route=r,this.allDialogRef=c,this.parent_data=s,this.InvestigationCommentsFormGroup=this.fb.group({}),this.$processingEvent=new u.o,this.$errorsEvent=new u.o,this.$resultComplaintsEvent=new u.o,this.processing=!1}return n(e,[{key:"ngOnInit",value:function(){this.InvestigationCommentsFormGroup=this.fb.group({Comments:new oe.e("",[oe.u.required])}),console.log(this.parent_data)}},{key:"getFormData",value:function(){return{Comments:this.InvestigationCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.BreachTrackingNumber,Status:this.parent_data.Status,EvidenceFile:"",RequestInformation:0}}},{key:"onSubmit",value:function(){var e=this;this.processing=!0,console.log("Comments:",this.getFormData()),this.httpSub=this.http.post(this.endpoints.updateBreachStatus,this.getFormData()).pipe(Object(be.a)(this.service.handleError)).subscribe(function(t){e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Update Breach Status",message:t.message,status:200===t.code}}),e.dialogRef.afterClosed().subscribe(function(){e.allDialogRef.closeAll(),e.route.navigate(["/reporting-and-notification/find/all"])}),e.processing=!1},function(t){e.processing=!1,t.error.message?e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:I.a.technicalErrorResponse,status:!1}}):e.service.determineErrorResponse(t)})}},{key:"onUploadAttachments",value:function(){var e=this;this.dialogRef=this.dialog.open(he.a,{panelClass:["resolution-upload-dialog","dialogs"],disableClose:!0,data:{multiple:!1,maxSize:3}}),this.dialogRef.afterClosed().subscribe(function(t){t.status&&(e.evidenceDocument=t.row,console.log(e.evidenceDocument))})}}]),e}()).\u0275fac=function(e){return new(e||Fe)(u.Ob(oe.d),u.Ob(k.a),u.Ob(A.c),u.Ob(P.a),u.Ob(M.b),u.Ob(b.f),u.Ob(M.b),u.Ob(M.a))},Fe.\u0275cmp=u.Ib({type:Fe,selectors:[["fury-breach-investigations"]],decls:25,vars:6,consts:[[2,"padding","10px"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],[1,"buttons"],["mat-button","","color","primary",1,"add-item-button",3,"ngStyle","click"],[1,"button-label"],["mat-button","","color","primary","class","remove-button",3,"click",4,"ngIf"],["class","uploaded-document","matTooltip","Open Document",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-button","","color","primary",1,"remove-button",3,"click"],["matTooltip","Open Document",1,"uploaded-document",3,"click"],["src","./assets/images/pdf.png","alt",""]],template:function(e,t){1&e&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Rc(2,"Make Investigation Notes"),u.Tb(),u.Ub(3,"form",2),u.Ub(4,"mat-dialog-content"),u.Ub(5,"div",3),u.Ub(6,"div",4),u.Ub(7,"mat-form-field",5),u.Ub(8,"mat-label"),u.Rc(9,"Provide Notes"),u.Tb(),u.Pb(10,"textarea",6),u.Ub(11,"mat-hint"),u.Rc(12,"Review Notes"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(13,"section"),u.Ub(14,"div",7),u.Ub(15,"button",8),u.cc("click",function(){return t.onUploadAttachments()}),u.Ub(16,"div",9),u.Ub(17,"span"),u.Rc(18),u.Tb(),u.Tb(),u.Tb(),u.Pc(19,Be,6,0,"button",10),u.Tb(),u.Pc(20,Ae,6,2,"div",11),u.Tb(),u.Ub(21,"button",12),u.cc("click",function(){return t.onSubmit()}),u.Ub(22,"span"),u.Rc(23,"Submit"),u.Tb(),u.Tb(),u.Rc(24,"\xa0 "),u.Tb(),u.Tb()),2&e&&(u.Cb(3),u.nc("formGroup",t.InvestigationCommentsFormGroup),u.Cb(12),u.nc("ngStyle",u.qc(5,Me)),u.Cb(3),u.Tc(" ",t.evidenceDocument?"Replace Document":"Upload A Document"," "),u.Cb(1),u.nc("ngIf",null==t.evidenceDocument?null:t.evidenceDocument.Name),u.Cb(1),u.nc("ngIf",null==t.evidenceDocument?null:t.evidenceDocument.Base64))},directives:[M.h,oe.v,oe.o,oe.h,M.e,ve.d,ve.e,Ce.d,ve.b,Ce.h,ye.b,Te.b,oe.c,oe.n,oe.g,Ce.g,V.a,s.p,De.c,s.o,z.a,xe.a],styles:[""]}),Fe),Ne=o("1n7x"),Le=o("QibW");function qe(e,t){if(1&e){var a=u.Vb();u.Ub(0,"button",25),u.cc("click",function(){return u.Ec(a),u.gc().onDownloadLetter()}),u.Ub(1,"div",26),u.Ub(2,"mat-icon"),u.Rc(3,"cloud_download"),u.Tb(),u.Ub(4,"span"),u.Rc(5,"Download "),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=u.gc();u.nc("disabled",n.downloading)}}function _e(e,t){if(1&e&&(u.Ub(0,"p",9),u.Ub(1,"span"),u.Rc(2,"Registration Number"),u.Tb(),u.Ub(3,"b",10),u.Rc(4),u.Tb(),u.Tb()),2&e){var a=u.gc();u.Cb(4),u.Sc(a.data.row.RegTrackingNo)}}function Ge(e,t){if(1&e&&(u.Ub(0,"div"),u.Ub(1,"mat-checkbox",27),u.Rc(2),u.Tb(),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.nc("checked",!0),u.Cb(1),u.Sc(a.CauseName)}}function Ve(e,t){1&e&&(u.Ub(0,"p",12),u.Ub(1,"mat-checkbox",28),u.Rc(2," Has any action been taken to minimise/mitigate the effect on the affected individuals? "),u.Tb(),u.Tb()),2&e&&(u.Cb(1),u.nc("checked",!0))}function je(e,t){1&e&&u.Pb(0,"div",29)}function ze(e,t){1&e&&u.Pb(0,"hr",30)}function He(e,t){1&e&&(u.Ub(0,"p",12),u.Ub(1,"mat-checkbox",28),u.Rc(2," Has the data placed at risk now been recovered? "),u.Tb(),u.Tb()),2&e&&(u.Cb(1),u.nc("checked",!0))}function $e(e,t){if(1&e&&(u.Ub(0,"p",9),u.Ub(1,"span"),u.Rc(2,"Date of data recovery"),u.Tb(),u.Ub(3,"b",10),u.Rc(4),u.Tb(),u.Tb()),2&e){var a=u.gc();u.Cb(4),u.Sc(a.data.row.DataRecoveryDate)}}function Qe(e,t){if(1&e&&(u.Ub(0,"p",9),u.Ub(1,"span"),u.Rc(2,"Prevention Steps"),u.Tb(),u.Ub(3,"b",10),u.Rc(4),u.Tb(),u.Tb()),2&e){var a=u.gc();u.Cb(4),u.Sc(a.data.row.PreventiveStepsToPreventRecurrence)}}function We(e,t){if(1&e&&(u.Ub(0,"div"),u.Ub(1,"mat-radio-group",31),u.Ub(2,"mat-radio-button",32),u.Rc(3),u.Tb(),u.Tb(),u.Tb()),2&e){var a=t.$implicit;u.Cb(2),u.nc("checked",!0),u.Cb(1),u.Sc(a.BreachDescription)}}function Ye(e,t){if(1&e&&(u.Ub(0,"div"),u.Ub(1,"mat-radio-group",31),u.Ub(2,"mat-radio-button",32),u.Rc(3),u.Tb(),u.Tb(),u.Tb()),2&e){var a=t.$implicit;u.Cb(2),u.nc("checked",!0),u.Cb(1),u.Sc(a.HarmDescription)}}var Ke,Xe,Ze,Je=function(e){return{margin:e,width:"200px",overflow:"hidden"}},et=((Ze=function(){function e(t,a,n){l(this,e),this.dialogRef=t,this.data=a,this.service=n,this.downloading=!1}return n(e,[{key:"ngOnInit",value:function(){console.log(this.data),this.data.download&&this.onDownloadLetter()}},{key:"onCloseWindow",value:function(){this.dialogRef.close()}},{key:"onDownloadLetter",value:function(){var e=this;this.downloading=!0,setTimeout(function(){e.service.openSnackBar("Downloading. Please wait.","nuetral");var t={filename:e.data.row.OrganisationName+" - Registration.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:2,backgroundColor:null},jspdf:{unit:"in",format:"letter",orientation:"portrait"},margin:[10,2,2,2]},a=document.getElementById("letterBodyContainer");Ne().from(a).set(t).save().then(function(t){setTimeout(function(){e.downloading=!1,e.data.download&&e.onCloseWindow(),e.service.openSnackBar("Downloaded. Please check in your downloads.","success-lg")},1e3)})},1e3)}}]),e}()).\u0275fac=function(e){return new(e||Ze)(u.Ob(M.g),u.Ob(M.a),u.Ob(P.a))},Ze.\u0275cmp=u.Ib({type:Ze,selectors:[["fury-org-breach-preview"]],decls:123,vars:27,consts:[["mat-button","",1,"close-window-btn",3,"click"],["id","letterBodyContainer",2,"width","100%","margin","0px 0px 30px","position","relative"],["mat-button","","color","primary","class","download-button",3,"disabled","click",4,"ngIf"],[1,"image-wrapper",3,"ngStyle"],["src","./assets/icons/Final-logos-28.png","alt","",2,"width","100%"],[1,"letter-body",2,"padding","0px 40px 45px"],[2,"font-weight","700","font-size","14px","text-transform","uppercase","text-align","center","color","#000","margin-top","0px","margin","-30px 0px 25px 0px"],[2,"font-weight","700","letter-spacing","1px","font-size","14px","text-transform","uppercase","text-align","left","color","#000","margin","0px 0px -10px 0px"],[2,"margin","15px 0px","display","grid","grid-template-columns","repeat(auto-fit,minmax(200px, 1fr))","gap","20px 25px"],[2,"font-size","11px","line-height","14px","font-weight","400","color","#000","text-align","left","display","flex","flex-direction","column","gap","3px","margin","0px"],[2,"font-weight","600"],["style","font-size: 11px; line-height: 14px; font-weight: 400; color: #000; text-align: left; display: flex; flex-direction: column; gap: 3px; margin: 0px;",4,"ngIf"],[2,"grid-column","1/-1","font-size","11px","line-height","14px","font-weight","400","color","#000","text-align","left","display","flex","flex-direction","column","gap","3px","margin","0px"],[4,"ngFor","ngForOf"],[2,"margin","40px 0px","width","100%","border","0px","border-bottom","1px solid #ebeced"],[2,"line-height","14px","font-size","11px","font-weight","400","color","#000","text-align","left","display","flex","flex-direction","column","gap","3px","margin","0px"],["style","grid-column: 1/-1; font-size: 11px; line-height: 14px; font-weight: 400; color: #000; text-align: left; display: flex; flex-direction: column; gap: 3px; margin: 0px;",4,"ngif"],[2,"font-weight","600","margin-left","3px","text-align","justify"],["class","html2pdf__page-break",4,"ngIf"],["style","margin: 40px 0px 20px; width: 100%; border: 0px;border-bottom: 1px solid #ebeced;",4,"ngIf"],[2,"padding-top","20px","font-weight","700","letter-spacing","1px","font-size","14px","text-transform","uppercase","text-align","left","color","#000","margin","0px 0px -10px 0px"],["style","grid-column: 1/-1; font-size: 11px; line-height: 14px; font-weight: 400; color: #000; text-align: left; display: flex; flex-direction: column; gap: 3px; margin: 0px;",4,"ngIf"],[2,"margin","70px 0px 15px","display","grid","grid-template-columns","repeat(auto-fit,minmax(200px, 1fr))","gap","20px 25px"],[2,"font-size","12px","line-height","25px","font-weight","400","color","#000","text-align","left","margin","0px"],[2,"border-bottom","1px dashed","padding","0px 40px","font-weight","600","color","#000"],["mat-button","","color","primary",1,"download-button",3,"disabled","click"],[1,"button-label"],[2,"font-size","11px","line-height","14px","font-weight","400","color","#000","text-align","left","display","flex","flex-direction","column","gap","3px","margin","0px",3,"checked"],[3,"checked"],[1,"html2pdf__page-break"],[2,"margin","40px 0px 20px","width","100%","border","0px","border-bottom","1px solid #ebeced"],["color","primary"],["value","Yes",3,"checked"]],template:function(e,t){1&e&&(u.Ub(0,"main"),u.Ub(1,"button",0),u.cc("click",function(){return t.onCloseWindow()}),u.Ub(2,"mat-icon"),u.Rc(3,"clear"),u.Tb(),u.Tb(),u.Ub(4,"article",1),u.Pc(5,qe,6,1,"button",2),u.Ub(6,"div",3),u.Pb(7,"img",4),u.Tb(),u.Ub(8,"section",5),u.Ub(9,"div"),u.Ub(10,"h1",6),u.Rc(11," Breaches "),u.Tb(),u.Ub(12,"h3",7),u.Rc(13," Organisation "),u.Tb(),u.Ub(14,"div",8),u.Ub(15,"p",9),u.Ub(16,"span"),u.Rc(17,"Name of Organisation"),u.Tb(),u.Ub(18,"b",10),u.Rc(19),u.Tb(),u.Tb(),u.Pc(20,_e,5,1,"p",11),u.Ub(21,"p",9),u.Ub(22,"span"),u.Rc(23,"Organisation Telephone Number"),u.Tb(),u.Ub(24,"b",10),u.Rc(25),u.Tb(),u.Tb(),u.Ub(26,"p",9),u.Ub(27,"span"),u.Rc(28,"Organisation Email Address"),u.Tb(),u.Ub(29,"b",10),u.Rc(30),u.Tb(),u.Tb(),u.Ub(31,"p",9),u.Ub(32,"span"),u.Rc(33,"Date Of Incidence"),u.Tb(),u.Ub(34,"b",10),u.Rc(35),u.Tb(),u.Tb(),u.Ub(36,"p",12),u.Ub(37,"span"),u.Rc(38,"Likely Causes of the breach"),u.Tb(),u.Tb(),u.Pc(39,Ge,3,2,"div",13),u.Tb(),u.Tb(),u.Ub(40,"div"),u.Pb(41,"hr",14),u.Ub(42,"h3",7),u.Rc(43," Data Subject Affected by breach "),u.Tb(),u.Ub(44,"div",8),u.Ub(45,"p",9),u.Ub(46,"span"),u.Rc(47,"Categories of Data Subject Affected by breach"),u.Tb(),u.Ub(48,"b",10),u.Rc(49),u.Tb(),u.Tb(),u.Ub(50,"p",9),u.Ub(51,"span"),u.Rc(52,"Number of data Subjects"),u.Tb(),u.Ub(53,"b",10),u.Rc(54),u.Tb(),u.Tb(),u.Ub(55,"p",9),u.Ub(56,"span"),u.Rc(57,"Total Number of Records held"),u.Tb(),u.Ub(58,"b",10),u.Rc(59),u.Tb(),u.Tb(),u.Ub(60,"p",9),u.Ub(61,"span"),u.Rc(62,"Details On Likely causes of breaches"),u.Tb(),u.Ub(63,"b",10),u.Rc(64),u.Tb(),u.Tb(),u.Ub(65,"p",9),u.Ub(66,"span"),u.Rc(67,"Remedial Actions taken or proposed"),u.Tb(),u.Ub(68,"b",10),u.Rc(69),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(70,"div"),u.Pb(71,"hr",14),u.Ub(72,"h3",7),u.Rc(73," Personal Data Affected "),u.Tb(),u.Ub(74,"div"),u.Ub(75,"p",15),u.Ub(76,"b",10),u.Rc(77),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(78,"div"),u.Pb(79,"hr",14),u.Ub(80,"h3",7),u.Rc(81," Containment & Recovery "),u.Tb(),u.Ub(82,"div",8),u.Pc(83,Ve,3,1,"p",16),u.Ub(84,"p",12),u.Ub(85,"span"),u.Rc(86,"Details Of Action Taken"),u.Tb(),u.Ub(87,"b",17),u.Ub(88,"span"),u.Rc(89),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pc(90,je,1,0,"div",18),u.Ub(91,"div"),u.Pc(92,ze,1,0,"hr",19),u.Ub(93,"h3",20),u.Rc(94," Purpose & Retention "),u.Tb(),u.Ub(95,"div",8),u.Pc(96,He,3,1,"p",21),u.Ub(97,"p",9),u.Ub(98,"span"),u.Rc(99,"Data recovery details"),u.Tb(),u.Ub(100,"b",10),u.Rc(101),u.Tb(),u.Tb(),u.Pc(102,$e,5,1,"p",11),u.Pc(103,Qe,5,1,"p",11),u.Tb(),u.Tb(),u.Ub(104,"div"),u.Ub(105,"div"),u.Pb(106,"hr",14),u.Ub(107,"h3",7),u.Rc(108," Breach Consequences "),u.Tb(),u.Pb(109,"br"),u.Pc(110,We,4,2,"div",13),u.Tb(),u.Pb(111,"br"),u.Ub(112,"div"),u.Ub(113,"h3",7),u.Rc(114," Potential Harms "),u.Tb(),u.Pb(115,"br"),u.Pc(116,Ye,4,2,"div",13),u.Tb(),u.Tb(),u.Ub(117,"div",22),u.Ub(118,"p",23),u.Rc(119," I, "),u.Ub(120,"i",24),u.Rc(121),u.Tb(),u.Rc(122," certify that the above information is correct and complete and here by report a Breach as data collector/ data processor / data controller (This shall be based on th category selected) under the data Protection and Privacy Act. "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&e&&(u.Cb(5),u.nc("ngIf",!t.downloading),u.Cb(1),u.nc("ngStyle",u.rc(25,Je,t.downloading?"10px auto 40px":"30px auto 40px")),u.Cb(13),u.Sc(t.data.row.organisation_name),u.Cb(1),u.nc("ngIf",t.data.row.URSBNumber),u.Cb(5),u.Sc(t.data.row.PhoneNumber),u.Cb(5),u.Sc(t.data.row.email),u.Cb(5),u.Sc(t.data.row.IncidentDate),u.Cb(4),u.nc("ngForOf",t.data.row.BreachCauses),u.Cb(10),u.Sc(t.data.row.CategoriesOfDataSubjectAffected),u.Cb(5),u.Sc(t.data.row.NumberOfDataSubjects),u.Cb(5),u.Sc(t.data.row.NumberOfRecordsHeld),u.Cb(5),u.Tc(" ",t.data.row.DetailedDataBreachCause," "),u.Cb(5),u.Sc(t.data.row.RemedialActionsTaken),u.Cb(8),u.Sc(t.data.row.PersonalDataAffected),u.Cb(6),u.nc("ngif",1==t.data.row.IsActionTakenToMinimize),u.Cb(6),u.Tc(" ",t.data.row.ActionTakenToMinimizeDetails,""),u.Cb(1),u.nc("ngIf",t.downloading),u.Cb(2),u.nc("ngIf",!t.downloading),u.Cb(4),u.nc("ngIf",1==t.data.row.IsDataPlacedAtRiskRecovered),u.Cb(5),u.Sc(t.data.row.DataPlacedAtRiskRecoveredDetails),u.Cb(1),u.nc("ngIf",t.data.row.dateOfRecovery),u.Cb(1),u.nc("ngIf",t.data.row.preventionSteps),u.Cb(7),u.nc("ngForOf",t.data.row.PotentialConsequences),u.Cb(6),u.nc("ngForOf",t.data.row.PotentialHarms),u.Cb(5),u.Tc(" ",t.data.row.organisation_name," "))},directives:[V.a,z.a,s.o,s.p,De.c,s.n,G.a,Le.b,Le.a],styles:["main[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center}main[_ngcontent-%COMP%]   button.close-window-btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border-radius:0;width:44px;height:44px;min-width:0;padding:0;z-index:1}main[_ngcontent-%COMP%]   button.close-window-btn[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}main[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{flex-direction:column;padding:0 24px}main[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin:0 0 5px;font-weight:400}main[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-weight:300;text-align:justify;color:#bf212f;line-height:22px;margin:5px 0 0}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{width:100%;margin:30px 0}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   button.download-button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;border-radius:0;background-color:#abbf11;color:#fff;padding:0 24px 0 7px;font-weight:600}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   button.download-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{display:flex;flex-direction:row}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   button.download-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:40px}main[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   button.download-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:44px;height:42px;display:flex;align-items:center;justify-content:center;font-size:20px!important}"]}),Ze),tt=((Xe=function(){function e(t,a,n,i,o,r,c,s){l(this,e),this.fb=t,this.endpoints=a,this.http=n,this.service=i,this.dialog=o,this.route=r,this.allDialogRef=c,this.parent_data=s,this.processing=!1,this.BreachCommentsFormGroup=this.fb.group({})}return n(e,[{key:"ngOnInit",value:function(){this.BreachCommentsFormGroup=this.fb.group({Comments:new oe.e("",[oe.u.required]),Status:new oe.e("",[oe.u.required])})}},{key:"getFormData",value:function(){return{Comments:this.BreachCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.DataBreachTrackingNumber,Status:parseInt(this.BreachCommentsFormGroup.get("Status").value),RequestInformation:0,EvidenceFile:""}}},{key:"onSubmit",value:function(){var e=this;this.processing=!0,console.log("Comments:",this.getFormData()),this.httpSub=this.http.post(this.endpoints.updateBreachStatus,this.getFormData()).pipe(Object(be.a)(this.service.handleError)).subscribe(function(t){e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Update Breach Status",message:"More information required successfully",status:200===t.code}}),e.dialogRef.afterClosed().subscribe(function(){e.allDialogRef.closeAll(),e.route.navigate(["/reporting-and-notification/find/all"])}),e.processing=!1},function(t){e.processing=!1,t.error.message?e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:I.a.technicalErrorResponse,status:!1}}):e.service.determineErrorResponse(t)})}}]),e}()).\u0275fac=function(e){return new(e||Xe)(u.Ob(oe.d),u.Ob(k.a),u.Ob(A.c),u.Ob(P.a),u.Ob(M.b),u.Ob(b.f),u.Ob(M.b),u.Ob(M.a))},Xe.\u0275cmp=u.Ib({type:Xe,selectors:[["fury-breach-request-for-information"]],decls:26,vars:1,consts:[[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],[1,"grouped-items"],["color","primary","formControlName","Status"],["value","7"],["value","8"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(u.Ub(0,"div"),u.Ub(1,"form",0),u.Ub(2,"mat-dialog-content"),u.Ub(3,"div",1),u.Ub(4,"div",2),u.Ub(5,"mat-form-field",3),u.Ub(6,"mat-label"),u.Rc(7,"What more information is needed"),u.Tb(),u.Pb(8,"textarea",4),u.Ub(9,"mat-hint"),u.Rc(10,"Request more Information"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pb(11,"br"),u.Ub(12,"div",5),u.Ub(13,"h3"),u.Rc(14,"More information from:"),u.Tb(),u.Ub(15,"mat-radio-group",6),u.Ub(16,"mat-radio-button",7),u.Rc(17,"Technical"),u.Tb(),u.Ub(18,"mat-radio-button",8),u.Rc(19,"Legal"),u.Tb(),u.Tb(),u.Tb(),u.Pb(20,"br"),u.Ub(21,"div"),u.Ub(22,"button",9),u.cc("click",function(){return t.onSubmit()}),u.Ub(23,"span"),u.Rc(24,"Submit"),u.Tb(),u.Tb(),u.Rc(25,"\xa0 "),u.Tb(),u.Tb(),u.Tb()),2&e&&(u.Cb(1),u.nc("formGroup",t.BreachCommentsFormGroup))},directives:[oe.v,oe.o,oe.h,M.e,ve.d,ve.e,Ce.d,ve.b,Ce.h,ye.b,Te.b,oe.c,oe.n,oe.g,Ce.g,Le.b,Le.a,V.a],styles:[""]}),Xe),at=((Ke=function(){function e(t,a,n,i,o,r,c,s){l(this,e),this.fb=t,this.endpoints=a,this.http=n,this.service=i,this.dialog=o,this.route=r,this.allDialogRef=c,this.parent_data=s,this.processing=!1,this.BreachCommentsFormGroup=this.fb.group({})}return n(e,[{key:"ngOnInit",value:function(){this.BreachCommentsFormGroup=this.fb.group({Comments:new oe.e("",[oe.u.required]),RequestedInformation:new oe.e}),this.BreachCommentsFormGroup.get("RequestedInformation").setValue(this.parent_data.RequestedInformation)}},{key:"getFormData",value:function(){return{Comments:this.BreachCommentsFormGroup.get("Comments").value,DataBreachTrackingNo:this.parent_data.DataBreachTrackingNumber}}},{key:"onSubmit",value:function(){var e=this;(this.processing=!0)&&(console.log("Comments:",this.getFormData()),this.httpSub=this.http.post(this.endpoints.CheckBreachRequestForInfo,this.getFormData()).pipe(Object(be.a)(this.service.handleError)).subscribe(function(t){e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:"Updated information ",message:"Updated information successfully",status:200===t.code}}),e.dialogRef.afterClosed().subscribe(function(){e.allDialogRef.closeAll(),e.route.navigate(["/reporting-and-notification/find/all"])}),e.processing=!1},function(t){e.processing=!1,t.error.message?e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:I.a.technicalErrorResponse,status:!1}}):e.service.determineErrorResponse(t)}))}}]),e}()).\u0275fac=function(e){return new(e||Ke)(u.Ob(oe.d),u.Ob(k.a),u.Ob(A.c),u.Ob(P.a),u.Ob(M.b),u.Ob(b.f),u.Ob(M.b),u.Ob(M.a))},Ke.\u0275cmp=u.Ib({type:Ke,selectors:[["fury-breach-manage-more-information"]],decls:22,vars:2,consts:[[2,"padding","10px"],["mat-dialog-title",""],[3,"formGroup"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxFlex","2 1 auto"],["formControlName","RequestedInformation","matInput","",3,"readonly"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","formControlName","comments","cdkAutosizeMaxRows","10","formControlName","Comments"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Rc(2,"Make Comments"),u.Tb(),u.Ub(3,"form",2),u.Ub(4,"mat-dialog-content"),u.Ub(5,"div",3),u.Ub(6,"div"),u.Ub(7,"mat-form-field",4),u.Ub(8,"mat-label"),u.Rc(9,"Requested Information"),u.Tb(),u.Pb(10,"input",5),u.Tb(),u.Tb(),u.Ub(11,"div",6),u.Ub(12,"mat-form-field",7),u.Ub(13,"mat-label"),u.Rc(14,"Provide Comments"),u.Tb(),u.Pb(15,"textarea",8),u.Ub(16,"mat-hint"),u.Rc(17,"Review Comments"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(18,"button",9),u.cc("click",function(){return t.onSubmit()}),u.Ub(19,"span"),u.Rc(20,"Submit"),u.Tb(),u.Tb(),u.Rc(21,"\xa0 "),u.Tb(),u.Tb()),2&e&&(u.Cb(3),u.nc("formGroup",t.BreachCommentsFormGroup),u.Cb(7),u.nc("readonly",!0))},directives:[M.h,oe.v,oe.o,oe.h,M.e,ve.d,ve.e,Ce.d,ve.b,Ce.h,oe.c,ye.b,oe.n,oe.g,Te.b,Ce.g,V.a],styles:[""]}),Ke),nt=o("dNgK"),it=o("/t3+"),ot=o("xHqg"),rt=o("iadO"),ct=o("d3UM"),st=o("CKU1"),lt=o("zqeb"),bt=o("aViL"),ut=o("FKr1");function dt(e,t){1&e&&u.Rc(0,"Personal Data")}function mt(e,t){if(1&e&&(u.Ub(0,"mat-option",44),u.Rc(1),u.Tb()),2&e){var a=t.$implicit,n=u.gc(2);u.nc("disabled",n.disableSubCategories())("value",a),u.Cb(1),u.Tc("",a.name," ")}}function pt(e,t){if(1&e&&(u.Ub(0,"mat-option",45),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.nc("value",a),u.Cb(1),u.Tc("",a.value," ")}}function ft(e,t){if(1&e){var a=u.Vb();u.Ub(0,"div",46),u.Ub(1,"button",47),u.cc("click",function(){u.Ec(a);var e=u.gc(2);return e.addOrUpdatePersonalData(e.isEditingPersonalData?2:1)}),u.Ub(2,"mat-icon"),u.Rc(3),u.Tb(),u.Ub(4,"span"),u.Rc(5),u.Tb(),u.Tb(),u.Rc(6,"\xa0 "),u.Pb(7,"span",48),u.Ub(8,"button",49),u.cc("click",function(){return u.Ec(a),u.gc(2).resetPolicy()}),u.Ub(9,"mat-icon"),u.Rc(10,"cancel"),u.Tb(),u.Ub(11,"span"),u.Rc(12,"Cancel"),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=u.gc(2);u.Cb(1),u.nc("disabled",!n.isValidForm()),u.Cb(2),u.Sc(n.buttonIcon),u.Cb(2),u.Sc(n.buttonLabel)}}function gt(e,t){if(1&e){var a=u.Vb();u.Sb(0),u.Ub(1,"form",26),u.Pc(2,dt,1,0,"ng-template",27),u.Ub(3,"div",1),u.Ub(4,"div",28),u.Ub(5,"mat-form-field",29),u.Ub(6,"mat-label"),u.Rc(7,"Affected Data Category"),u.Tb(),u.Ub(8,"mat-select",30),u.cc("selectionChange",function(e){return u.Ec(a),u.gc().onSelectCategory(e)}),u.Pc(9,mt,2,3,"mat-option",31),u.Tb(),u.Ub(10,"mat-hint"),u.Rc(11,"Please specify if any financial or sensitive personal data (special categories*) has been affected "),u.Tb(),u.Tb(),u.Ub(12,"mat-form-field",29),u.Ub(13,"mat-label"),u.Rc(14,"SubCategories"),u.Tb(),u.Ub(15,"mat-select",32),u.Pc(16,pt,2,2,"mat-option",33),u.Tb(),u.Ub(17,"mat-hint"),u.Rc(18,"Please specify if any financial or sensitive personal data has been affected "),u.Tb(),u.Tb(),u.Tb(),u.Ub(19,"div",34),u.Ub(20,"mat-form-field",29),u.Ub(21,"mat-label"),u.Rc(22,"Details To What Extent"),u.Tb(),u.Pb(23,"textarea",35,36),u.Ub(25,"mat-hint"),u.Rc(26,"Provide details of the extent has the data been affected "),u.Tb(),u.Tb(),u.Ub(27,"mat-form-field",37),u.Ub(28,"mat-label"),u.Rc(29,"Affected Individuals"),u.Tb(),u.Pb(30,"input",38),u.Ub(31,"mat-hint",39),u.Rc(32,"How many Individuals have been affected ?"),u.Tb(),u.Tb(),u.Ub(33,"mat-form-field",37),u.Ub(34,"mat-label"),u.Rc(35,"Records Involved"),u.Tb(),u.Pb(36,"input",40),u.Ub(37,"mat-hint",39),u.Rc(38,"How many data records are involved?"),u.Tb(),u.Tb(),u.Tb(),u.Ub(39,"div",1),u.Ub(40,"mat-checkbox",41),u.Rc(41," Are the affected individuals aware that the incident has occurred? "),u.Tb(),u.Ub(42,"mat-checkbox",42),u.Rc(43," Have any affected individuals complained to the Company about the incident? "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pc(44,ft,13,3,"div",43),u.Rb()}if(2&e){var n=u.gc();u.Cb(1),u.nc("formGroup",n.personalDataFormGroup),u.Cb(8),u.nc("ngForOf",n.$dataCategories),u.Cb(7),u.nc("ngForOf",n.$subCategories),u.Cb(24),u.nc("checked",!1),u.Cb(2),u.nc("checked",!1),u.Cb(2),u.nc("ngIf",!n.isViewOnly)}}function ht(e,t){1&e&&(u.Ub(0,"th",50),u.Rc(1,"# "),u.Tb())}function vt(e,t){if(1&e&&(u.Ub(0,"td",51),u.Rc(1),u.Tb()),2&e){var a=t.index;u.Cb(1),u.Tc(" ",a+1," ")}}function Ct(e,t){1&e&&(u.Ub(0,"th",52),u.Rc(1," Data Category"),u.Tb())}function yt(e,t){if(1&e&&(u.Ub(0,"td",53),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.dataCategory.name,"")}}function Tt(e,t){1&e&&(u.Ub(0,"th",52),u.Rc(1," Data SucCategories "),u.Tb())}function Dt(e,t){if(1&e&&(u.Ub(0,"div"),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.value,", ")}}function xt(e,t){if(1&e&&(u.Ub(0,"td",53),u.Pc(1,Dt,2,1,"div",54),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.nc("ngForOf",a.dataSubCategory)}}function Ut(e,t){1&e&&(u.Ub(0,"th",52),u.Rc(1," Affected Individuals "),u.Tb())}function Rt(e,t){if(1&e&&(u.Ub(0,"td",53),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.affectedIndividuals,"")}}function Ot(e,t){1&e&&(u.Ub(0,"th",52),u.Rc(1," Affected Records "),u.Tb())}function kt(e,t){if(1&e&&(u.Ub(0,"td",53),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.recordsInvolved,"")}}function Pt(e,t){1&e&&(u.Ub(0,"th",52),u.Rc(1,"Extent Of the Breach "),u.Tb())}function wt(e,t){if(1&e&&(u.Ub(0,"td",53),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.toWhatExtent,"")}}function St(e,t){1&e&&(u.Ub(0,"th",52),u.Rc(1," Any Complaints? "),u.Tb())}function It(e,t){if(1&e&&(u.Ub(0,"td",53),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.individualAwareness,"")}}function Bt(e,t){1&e&&(u.Ub(0,"th",52),u.Rc(1,"Individual Awareness ? "),u.Tb())}function At(e,t){if(1&e&&(u.Ub(0,"td",53),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.individualComplain,"")}}function Ft(e,t){1&e&&u.Pb(0,"th",55)}function Mt(e,t){if(1&e){var a=u.Vb();u.Sb(0),u.Ub(1,"a",57),u.cc("click",function(){u.Ec(a);var e=u.gc().index;return u.gc().managePersonalData(2,e)}),u.Ub(2,"mat-icon",58),u.Rc(3,"edit "),u.Tb(),u.Tb(),u.Rc(4,"\xa0\xa0 "),u.Ub(5,"a",57),u.cc("click",function(){u.Ec(a);var e=u.gc().index;return u.gc().deleteItem(e)}),u.Ub(6,"mat-icon",59),u.Rc(7,"delete "),u.Tb(),u.Tb(),u.Rb()}}function Et(e,t){if(1&e&&(u.Ub(0,"td",56),u.Pc(1,Mt,8,0,"ng-container",0),u.Tb()),2&e){var a=u.gc();u.Cb(1),u.nc("ngIf",!a.isViewOnly)}}function Nt(e,t){1&e&&(u.Ub(0,"td",60),u.Rc(1," There is no data! "),u.Tb())}function Lt(e,t){1&e&&u.Pb(0,"tr",61)}function qt(e,t){1&e&&u.Pb(0,"tr",62)}var _t=function(e){return{hide:e}};function Gt(e,t){if(1&e&&u.Pb(0,"tr",63),2&e){var a=u.gc();u.nc("ngClass",u.rc(1,_t,!(0==(null==a.list?null:a.list.length))))}}var Vt,jt=function(){return["noData"]},zt=((Vt=function(){function t(e,a,n,i){l(this,t),this.fb=e,this.auth=a,this.utilService=n,this.snackBar=i,this.subject$=new f.a(1),this.data$=this.subject$.asObservable(),this.personalDataEvent=new u.o,this.PersonalDataAffected=new u.o,this.personalData=new y,this.subscriptions=[],this.errors=[],this.list=[],this.displayColumns=["nber","personalDataCategory","personalDataSubCategory","toWhatExtent","affectedIndividuals","affectedRecords","complaintsMade","individualAwareness","actions"],this.dataCategories=[],this.$dataCategories=[],this.$subCategories=[],this.$processingEvent=new u.o,this.$errorsEvent=new u.o,this.buttonIcon="add_circle_outline",this.buttonLabel="Add",this.isEditingPersonalData=!1,this.tableEditable=!0,this.personalDataIndex=0,this.personalNumber=1}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.initForms(),this.personalDataList&&this.personalDataList.forEach(function(t){return e.list.push(t)}),this.getSampleJson.subscribe(function(t){e.$dataCategories=t}),this.initMainObject()}},{key:"initMainObject",value:function(){this.personalData=new y}},{key:"initForms",value:function(){this.personalDataFormGroup=this.fb.group({dataCategory:[null,oe.u.required],dataSubCategory:[null,oe.u.required],toWhatExtent:[null,oe.u.required],affectedIndividuals:[null,oe.u.required],recordsInvolved:[null,oe.u.required],individualAwareness:[null,oe.u.required],individualComplain:[null,oe.u.required]})}},{key:"addOrUpdatePersonalData",value:function(t){this.personalDataFormGroup.valid&&(this.checkForDuplicates(t)?this.snackBar.snackBarAlert("Error","Potential Consquence Already exist in the Table, Please Update",{duration:3e3}):(this.mapFormControlToControl(1),1===t?(this.list.push(this.personalData),this.personalDataList.push(this.personalData),this.list=e(this.list)):(this.list[this.personalDataIndex]=this.personalData,this.personalDataList[this.personalDataIndex]=this.personalData,this.list=e(this.personalDataList)),this.resetPersonalData()),console.log(this.list),this.PersonalDataAffected.emit(this.personalDataList))}},{key:"resetPersonalData",value:function(){this.personalDataFormGroup.reset(),this.personalData=new y,this.validatePolicyLabels(1),this.managePersonalData(1)}},{key:"validatePolicyLabels",value:function(e){1===e?(this.buttonIcon="add_circle_outline",this.buttonLabel="Add new personal data"):(this.buttonIcon="save",this.buttonLabel="Save")}},{key:"onSelectCategory",value:function(e){var t=this;this.$subCategories=[],this.$dataCategories.find(function(t){return t===e.value}).subCategories.forEach(function(e){return t.$subCategories.push(e)}),this.personalDataFormGroup.get("dataSubCategory").enable()}},{key:"disableSubCategories",value:function(){0===this.$subCategories.length&&this.personalDataFormGroup.get("dataSubCategory").disable()}},{key:"managePersonalData",value:function(e,t){2===e?(this.personalData=this.personalDataList[t],this.isEditingPersonalData=!0,this.personalDataIndex=t,this.mapFormControlToControl(e)):(this.isEditingPersonalData=!1,this.personalData=new y,this.personalDataIndex=0),this.validatePolicyLabels(e)}},{key:"checkForDuplicates",value:function(e){var t=this.personalDataFormGroup.get("dataCategory").value,a=this.personalDataFormGroup.get("dataSubCategory").value;return console.log(a),1===e?!!this.personalDataList.find(function(e){return e.dataCategory===t}):null}},{key:"editItem",value:function(e){this.personalDataIndex=e,this.personalData=this.personalDataList[this.personalDataIndex],this.isEditingPersonalData=!0,this.mapFormControlToControl(e),this.validatePolicyLabels(2)}},{key:"deleteItem",value:function(t){this.list.splice(t,1),this.personalDataList.splice(t,1),this.list=e(this.list),this.personalDataEvent.emit(this.personalDataList),this.isEditingPersonalData=!1}},{key:"mapFormControlToControl",value:function(e){1===e?(this.personalData.dataCategory=this.personalDataFormGroup.get("dataCategory").value,this.personalData.dataSubCategory=this.personalDataFormGroup.get("dataSubCategory").value,this.personalData.toWhatExtent=this.personalDataFormGroup.get("toWhatExtent").value,this.personalData.affectedIndividuals=this.personalDataFormGroup.get("affectedIndividuals").value,this.personalData.recordsInvolved=this.personalDataFormGroup.get("recordsInvolved").value,this.personalData.individualAwareness=this.personalDataFormGroup.get("individualAwareness").value,this.personalData.individualComplain=this.personalDataFormGroup.get("individualComplain").value):(this.personalDataFormGroup.get("dataCategory").setValue(this.personalData.dataCategory),this.personalDataFormGroup.get("dataSubCategory").setValue(this.personalData.dataSubCategory),this.personalDataFormGroup.get("toWhatExtent").setValue(this.personalData.toWhatExtent),this.personalDataFormGroup.get("affectedIndividuals").setValue(this.personalData.affectedIndividuals),this.personalDataFormGroup.get("recordsInvolved").setValue(this.personalData.recordsInvolved),this.personalDataFormGroup.get("individualAwareness").setValue(this.personalData.individualAwareness),this.personalDataFormGroup.get("individualComplain").setValue(this.personalData.individualComplain))}},{key:"isValidForm",value:function(){return this.personalDataFormGroup.valid}},{key:"getSampleJson",get:function(){return Object(g.a)(st.a.map(function(e){return e}))}}]),t}()).\u0275fac=function(e){return new(e||Vt)(u.Ob(oe.d),u.Ob(B.c),u.Ob(lt.a),u.Ob(bt.a))},Vt.\u0275cmp=u.Ib({type:Vt,selectors:[["fury-data-breach-personal-data-itemised"]],inputs:{personalDataList:"personalDataList",isViewOnly:"isViewOnly",personalDataEvent:"personalDataEvent"},outputs:{PersonalDataAffected:"PersonalDataAffected"},decls:46,vars:8,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["mat-table","",3,"dataSource"],["matColumnDef","nber"],["mat-header-cell","","style","width: 5%","class","tableFontSize firstColumnTable alignCenter",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize firstColumnTable alignCenter",4,"matCellDef"],["matColumnDef","personalDataCategory"],["mat-header-cell","","class","tableFontSize ","style","width: 20%",4,"matHeaderCellDef"],["mat-cell","","class","tableFontSize ",4,"matCellDef"],["matColumnDef","personalDataSubCategory"],["matColumnDef","affectedIndividuals"],["matColumnDef","affectedRecords"],["matColumnDef","toWhatExtent"],["matColumnDef","complaintsMade"],["matColumnDef","individualAwareness"],["matColumnDef","actions"],["mat-header-cell","","style","width: 5%",4,"matHeaderCellDef"],["mat-cell","","class","actions",4,"matCellDef"],["matColumnDef","noData"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",3,"ngClass",4,"matFooterRowDef"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-button","","matStepperPrevious","","type","button"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled"],[3,"formGroup"],["matStepLabel",""],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex","2 2 auto","appearance","fill"],["formControlName","dataCategory",3,"selectionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["formControlName","dataSubCategory","multiple",""],[3,"value",4,"ngFor","ngForOf"],["fxFlex","column","fxLayout","row","fxLayoutGap","8px"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","toWhatExtent","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],["fxFlex","2 1 auto"],["formControlName","affectedIndividuals","matInput",""],["align","end"],["formControlName","recordsInvolved","matInput",""],["formControlName","individualAwareness",3,"checked"],["formControlName","individualComplain",3,"checked"],["style","text-align: right; padding-top: 5px; padding-bottom: 5px;",4,"ngIf"],[3,"disabled","value"],[3,"value"],[2,"text-align","right","padding-top","5px","padding-bottom","5px"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"example-spacer"],["mat-raised-button","","color","warn",3,"click"],["mat-header-cell","",1,"tableFontSize","firstColumnTable","alignCenter",2,"width","5%"],["mat-cell","",1,"tableFontSize","firstColumnTable","alignCenter"],["mat-header-cell","",1,"tableFontSize",2,"width","20%"],["mat-cell","",1,"tableFontSize"],[4,"ngFor","ngForOf"],["mat-header-cell","",2,"width","5%"],["mat-cell","",1,"actions"],[1,"link",3,"click"],["color","primary","matTooltip","Edit item",1,"material-icons-outlined"],["color","warn","matTooltip","Delete item",1,"material-icons-outlined"],["mat-footer-cell","","colspan","7"],["mat-header-row",""],["mat-row",""],["mat-footer-row","",3,"ngClass"]],template:function(e,t){1&e&&(u.Sb(0),u.Ub(1,"fieldset"),u.Ub(2,"legend"),u.Rc(3,"Personal Data Affected"),u.Tb(),u.Pc(4,gt,45,6,"ng-container",0),u.Ub(5,"div",1),u.Ub(6,"table",2),u.Sb(7,3),u.Pc(8,ht,2,0,"th",4),u.Pc(9,vt,2,1,"td",5),u.Rb(),u.Sb(10,6),u.Pc(11,Ct,2,0,"th",7),u.Pc(12,yt,2,1,"td",8),u.Rb(),u.Sb(13,9),u.Pc(14,Tt,2,0,"th",7),u.Pc(15,xt,2,1,"td",8),u.Rb(),u.Sb(16,10),u.Pc(17,Ut,2,0,"th",7),u.Pc(18,Rt,2,1,"td",8),u.Rb(),u.Sb(19,11),u.Pc(20,Ot,2,0,"th",7),u.Pc(21,kt,2,1,"td",8),u.Rb(),u.Sb(22,12),u.Pc(23,Pt,2,0,"th",7),u.Pc(24,wt,2,1,"td",8),u.Rb(),u.Sb(25,13),u.Pc(26,St,2,0,"th",7),u.Pc(27,It,2,1,"td",8),u.Rb(),u.Sb(28,14),u.Pc(29,Bt,2,0,"th",7),u.Pc(30,At,2,1,"td",8),u.Rb(),u.Sb(31,15),u.Pc(32,Ft,1,0,"th",16),u.Pc(33,Et,2,1,"td",17),u.Rb(),u.Sb(34,18),u.Pc(35,Nt,2,0,"td",19),u.Rb(),u.Pc(36,Lt,1,0,"tr",20),u.Pc(37,qt,1,0,"tr",21),u.Pc(38,Gt,1,3,"tr",22),u.Tb(),u.Tb(),u.Pb(39,"br"),u.Tb(),u.Pb(40,"br"),u.Ub(41,"div",23),u.Ub(42,"button",24),u.Rc(43,"PREVIOUS "),u.Tb(),u.Ub(44,"button",25),u.Rc(45,"NEXT "),u.Tb(),u.Tb(),u.Rb()),2&e&&(u.Cb(4),u.nc("ngIf",!t.isViewOnly),u.Cb(2),u.nc("dataSource",t.list),u.Cb(30),u.nc("matHeaderRowDef",t.displayColumns)("matHeaderRowDefSticky",!0),u.Cb(1),u.nc("matRowDefColumns",t.displayColumns),u.Cb(1),u.nc("matFooterRowDef",u.qc(7,jt)),u.Cb(6),u.nc("disabled",(null==t.list?null:t.list.length)<0))},directives:[s.o,ve.d,ve.e,p.n,p.c,p.i,p.b,p.e,p.k,p.m,p.g,ve.c,V.a,ot.f,ot.e,oe.v,oe.o,oe.h,ot.c,Ce.d,ve.b,Ce.h,ct.a,oe.n,oe.g,s.n,Ce.g,ye.b,Te.b,oe.c,G.a,ut.m,z.a,p.h,p.a,xe.a,p.d,p.j,p.l,p.f,s.m,De.a],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}.hide[_ngcontent-%COMP%]{display:none}legend[_ngcontent-%COMP%]{padding:5px}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}"]}),Vt),Ht=["autosize"],$t=function(){return{"margin-right":"30px"}};function Qt(e,t){if(1&e){var a=u.Vb();u.Ub(0,"button",64),u.cc("click",function(){return u.Ec(a),u.gc(2).markUnderInvestigation()}),u.Ub(1,"span"),u.Rc(2," Investigate"),u.Tb(),u.Tb()}if(2&e){var n=u.gc(2);u.nc("ngStyle",u.qc(2,$t))("disabled",1==n.disableResolve)}}function Wt(e,t){if(1&e){var a=u.Vb();u.Ub(0,"button",65),u.cc("click",function(){return u.Ec(a),u.gc(2).markAsResolved()}),u.Ub(1,"span"),u.Rc(2,"Mark as resolved"),u.Tb(),u.Tb()}if(2&e){var n=u.gc(2);u.nc("disabled",1==n.disableResolve)}}var Yt=function(){return{"margin-left":"30px"}};function Kt(e,t){if(1&e){var a=u.Vb();u.Ub(0,"button",66),u.cc("click",function(){return u.Ec(a),u.gc(2).forwardComplaint()}),u.Ub(1,"span"),u.Rc(2,"Forward Breach"),u.Tb(),u.Tb()}if(2&e){var n=u.gc(2);u.nc("disabled",1==n.disableForward)("ngStyle",u.qc(2,Yt))}}function Xt(e,t){if(1&e){var a=u.Vb();u.Ub(0,"button",67),u.cc("click",function(){return u.Ec(a),u.gc(2).moreInformation()}),u.Ub(1,"span"),u.Rc(2,"Request for more information"),u.Tb(),u.Tb()}if(2&e){var n=u.gc(2);u.nc("disabled",1==n.disableResolve)("ngStyle",u.qc(2,Yt))}}function Zt(e,t){if(1&e){var a=u.Vb();u.Ub(0,"button",68),u.cc("click",function(){return u.Ec(a),u.gc(2).manageRequestInfo()}),u.Ub(1,"span"),u.Rc(2,"Manage Request for Information"),u.Tb(),u.Tb()}2&e&&u.nc("ngStyle",u.qc(1,Yt))}function Jt(e,t){if(1&e&&(u.Ub(0,"mat-toolbar-row"),u.Pb(1,"span",58),u.Pc(2,Qt,3,3,"button",59),u.Pc(3,Wt,3,1,"button",60),u.Pc(4,Kt,3,3,"button",61),u.Pc(5,Xt,3,3,"button",62),u.Pc(6,Zt,3,2,"button",63),u.Tb()),2&e){var a=u.gc();u.Cb(2),u.nc("ngIf",1==a.isDirector),u.Cb(1),u.nc("ngIf",1==a.isDirector),u.Cb(1),u.nc("ngIf",0==a.isDirector),u.Cb(1),u.nc("ngIf",1==a.isDirector),u.Cb(1),u.nc("ngIf",1==a.showManageRequestInfo)}}function ea(e,t){1&e&&u.Pb(0,"h3")}function ta(e,t){1&e&&u.Pb(0,"h3")}function aa(e,t){if(1&e){var a=u.Vb();u.Ub(0,"mat-option",69),u.cc("onSelectionChange",function(e){u.Ec(a);var n=t.$implicit;return u.gc().onChangeOfBreachCauses(e,n)}),u.Rc(1),u.Tb()}if(2&e){var n=t.$implicit;u.nc("value",n.CauseID),u.Cb(1),u.Tc("",n.CauseName," ")}}function na(e,t){}function ia(e,t){}var oa=function(){return{width:"70%","padding-right":"80px"}},ra=function(){return{"padding-right":"70px"}};function ca(e,t){if(1&e){var a=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td",15),u.Ub(2,"mat-radio-group",76),u.Rc(3),u.Tb(),u.Tb(),u.Ub(4,"td"),u.Ub(5,"mat-radio-group",76),u.Ub(6,"mat-radio-button",77),u.cc("change",function(e){u.Ec(a);var n=t.$implicit;return u.gc(2).changeBreachDescriptionValue(e,n)}),u.Rc(7,"Yes"),u.Tb(),u.Ub(8,"mat-radio-button",78),u.cc("change",function(e){u.Ec(a);var n=t.$implicit;return u.gc(2).changeBreachDescriptionValue(e,n)}),u.Rc(9,"No"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=t.$implicit;u.Cb(1),u.nc("ngStyle",u.qc(5,oa)),u.Cb(2),u.Tc(" ",n.BreachDescription," "),u.Cb(3),u.pc("value","Yes-",n.BreacheDescriptionID,""),u.nc("ngStyle",u.qc(6,ra)),u.Cb(2),u.pc("value","No-",n.BreacheDescriptionID,"")}}function sa(e,t){1&e&&(u.Ub(0,"th",79),u.Rc(1," Nature of personal data collected / processed "),u.Tb())}function la(e,t){if(1&e&&(u.Ub(0,"td",80),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.NatureOfPersonalDataCollected," ")}}function ba(e,t){if(1&e){var a=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td",15),u.Ub(2,"mat-radio-group",76),u.Rc(3),u.Tb(),u.Tb(),u.Ub(4,"td"),u.Ub(5,"mat-radio-group",76),u.Ub(6,"mat-radio-button",77),u.cc("change",function(e){u.Ec(a);var n=t.$implicit;return u.gc(3).changeBreachDescriptionValue(e,n)}),u.Rc(7,"Yes"),u.Tb(),u.Ub(8,"mat-radio-button",78),u.cc("change",function(e){u.Ec(a);var n=t.$implicit;return u.gc(3).changeBreachDescriptionValue(e,n)}),u.Rc(9,"No"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=t.$implicit;u.Cb(1),u.nc("ngStyle",u.qc(5,oa)),u.Cb(2),u.Tc(" ",n.BreachDescription," "),u.Cb(3),u.pc("value","Yes-",n.BreacheDescriptionID,""),u.nc("ngStyle",u.qc(6,ra)),u.Cb(2),u.pc("value","No-",n.BreacheDescriptionID,"")}}function ua(e,t){1&e&&(u.Ub(0,"th",79),u.Rc(1," Nature of personal data collected / processed "),u.Tb())}function da(e,t){if(1&e&&(u.Ub(0,"td",80),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.NatureOfPersonalDataCollected," ")}}var ma=function(){return{padding:"10px"}},pa=function(){return{"margin-top":"20px"}};function fa(e,t){if(1&e&&(u.Ub(0,"form",23),u.Ub(1,"div",9),u.Ub(2,"div"),u.Ub(3,"table",15),u.Pc(4,ba,10,7,"tr",71),u.Tb(),u.Sb(5,72),u.Pc(6,ua,2,0,"th",73),u.Pc(7,da,2,1,"td",74),u.Rb(),u.Tb(),u.Tb(),u.Ub(8,"div",52),u.Ub(9,"button",53),u.Rc(10,"PREVIOUS"),u.Tb(),u.Tb(),u.Tb()),2&e){var a=u.gc(2);u.nc("formGroup",a.additionalInfo),u.Cb(3),u.nc("ngStyle",u.qc(4,ma)),u.Cb(1),u.nc("ngForOf",a.BreachDescriptionQuestionsSecond),u.Cb(4),u.nc("ngStyle",u.qc(5,pa))}}function ga(e,t){if(1&e&&(u.Ub(0,"mat-horizontal-stepper",70,5),u.Ub(2,"mat-step",6),u.Ub(3,"form",23),u.Ub(4,"div",9),u.Ub(5,"div"),u.Ub(6,"table",15),u.Pc(7,ca,10,7,"tr",71),u.Tb(),u.Sb(8,72),u.Pc(9,sa,2,0,"th",73),u.Pc(10,la,2,1,"td",74),u.Rb(),u.Tb(),u.Tb(),u.Ub(11,"div",52),u.Ub(12,"button",22),u.Rc(13," NEXT "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(14,"mat-step",6),u.Pc(15,fa,11,6,"form",75),u.Tb(),u.Tb()),2&e){var a=u.gc();u.nc("linear",a.isLinear),u.Cb(2),u.nc("stepControl",a.breachConsequences),u.Cb(1),u.nc("formGroup",a.breachConsequences),u.Cb(3),u.nc("ngStyle",u.qc(9,ma)),u.Cb(1),u.nc("ngForOf",a.BreachDescriptionQuestionsFirst),u.Cb(4),u.nc("ngStyle",u.qc(10,pa)),u.Cb(1),u.nc("disabled",a.selectedBreachDescriptionQuestions.length+a.notSelectedBreachDescriptionQuestions.length<a.breachDescriptionQuestionsCount/2),u.Cb(2),u.nc("stepControl",a.additionalInfo),u.Cb(1),u.nc("ngIf",a.notSelectedBreachDescriptionQuestions)}}var ha=function(){return{"font-size":"10px"}};function va(e,t){if(1&e&&(u.Ub(0,"div",85),u.Ub(1,"h3",15),u.Rc(2),u.Tb(),u.Ub(3,"mat-radio-group",76),u.Ub(4,"mat-radio-button",86),u.Rc(5,"Yes"),u.Tb(),u.Tb(),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.nc("ngStyle",u.qc(3,ha)),u.Cb(1),u.Sc(a.BreachDescription),u.Cb(2),u.nc("checked",!0)}}function Ca(e,t){if(1&e&&(u.Ub(0,"div",81),u.Ub(1,"form",82),u.Ub(2,"div",83),u.Pc(3,va,6,4,"div",84),u.Tb(),u.Tb(),u.Tb()),2&e){var a=u.gc();u.Cb(3),u.nc("ngForOf",a.TotalSelectedBreachDescription)}}function ya(e,t){if(1&e){var a=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td",15),u.Ub(2,"mat-radio-group",76),u.Rc(3),u.Tb(),u.Tb(),u.Ub(4,"td"),u.Ub(5,"mat-radio-group",76),u.Ub(6,"mat-radio-button",77),u.cc("change",function(e){u.Ec(a);var n=t.$implicit;return u.gc(2).changePotentialHarmsValue(e,n)}),u.Rc(7,"Yes"),u.Tb(),u.Ub(8,"mat-radio-button",78),u.cc("change",function(e){u.Ec(a);var n=t.$implicit;return u.gc(2).changePotentialHarmsValue(e,n)}),u.Rc(9,"No"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=t.$implicit;u.Cb(1),u.nc("ngStyle",u.qc(5,oa)),u.Cb(2),u.Tc(" ",n.HarmDescription," "),u.Cb(3),u.pc("value","Yes-",n.HarmDescriptionID,""),u.nc("ngStyle",u.qc(6,ra)),u.Cb(2),u.pc("value","No-",n.HarmDescriptionID,"")}}function Ta(e,t){1&e&&(u.Ub(0,"th",79),u.Rc(1," Nature of personal data collected / processed "),u.Tb())}function Da(e,t){if(1&e&&(u.Ub(0,"td",80),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.NatureOfPersonalDataCollected," ")}}function xa(e,t){if(1&e){var a=u.Vb();u.Ub(0,"tr"),u.Ub(1,"td",15),u.Ub(2,"mat-radio-group",76),u.Rc(3),u.Tb(),u.Tb(),u.Ub(4,"td"),u.Ub(5,"mat-radio-group",76),u.Ub(6,"mat-radio-button",77),u.cc("change",function(e){u.Ec(a);var n=t.$implicit;return u.gc(2).changePotentialHarmsValue(e,n)}),u.Rc(7,"Yes"),u.Tb(),u.Ub(8,"mat-radio-button",78),u.cc("change",function(e){u.Ec(a);var n=t.$implicit;return u.gc(2).changePotentialHarmsValue(e,n)}),u.Rc(9,"No"),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=t.$implicit;u.Cb(1),u.nc("ngStyle",u.qc(5,oa)),u.Cb(2),u.Tc(" ",n.HarmDescription," "),u.Cb(3),u.pc("value","Yes-",n.HarmDescriptionID,""),u.nc("ngStyle",u.qc(6,ra)),u.Cb(2),u.pc("value","No-",n.HarmDescriptionID,"")}}function Ua(e,t){1&e&&(u.Ub(0,"th",79),u.Rc(1," Nature of personal data collected / processed "),u.Tb())}function Ra(e,t){if(1&e&&(u.Ub(0,"td",80),u.Rc(1),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.Tc(" ",a.NatureOfPersonalDataCollected," ")}}function Oa(e,t){if(1&e&&(u.Ub(0,"mat-horizontal-stepper"),u.Ub(1,"mat-step",6),u.Ub(2,"form",23),u.Ub(3,"div",9),u.Ub(4,"div"),u.Ub(5,"table",15),u.Pc(6,ya,10,7,"tr",71),u.Tb(),u.Sb(7,72),u.Pc(8,Ta,2,0,"th",73),u.Pc(9,Da,2,1,"td",74),u.Rb(),u.Tb(),u.Tb(),u.Ub(10,"div",52),u.Ub(11,"button",22),u.Rc(12," NEXT "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(13,"mat-step",6),u.Ub(14,"form",23),u.Ub(15,"div",9),u.Ub(16,"div"),u.Ub(17,"table",15),u.Pc(18,xa,10,7,"tr",71),u.Tb(),u.Sb(19,72),u.Pc(20,Ua,2,0,"th",73),u.Pc(21,Ra,2,1,"td",74),u.Rb(),u.Tb(),u.Tb(),u.Ub(22,"div",52),u.Ub(23,"button",53),u.Rc(24,"PREVIOUS"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&e){var a=u.gc();u.Cb(1),u.nc("stepControl",a.potentialHarms),u.Cb(1),u.nc("formGroup",a.potentialHarms),u.Cb(3),u.nc("ngStyle",u.qc(11,ma)),u.Cb(1),u.nc("ngForOf",a.PotentialHarmsFirst),u.Cb(4),u.nc("ngStyle",u.qc(12,pa)),u.Cb(1),u.nc("disabled",a.selectedPotentialHarms.length+a.notSelectedPotentialHarms.length<a.PotentialHarmsCount/2),u.Cb(2),u.nc("stepControl",a.OtherpotentialHarms),u.Cb(1),u.nc("formGroup",a.OtherpotentialHarms),u.Cb(3),u.nc("ngStyle",u.qc(13,ma)),u.Cb(1),u.nc("ngForOf",a.PotentialHarmsSecond),u.Cb(4),u.nc("ngStyle",u.qc(14,pa))}}function ka(e,t){if(1&e&&(u.Ub(0,"div",85),u.Ub(1,"h3",15),u.Rc(2),u.Tb(),u.Ub(3,"mat-radio-group",76),u.Ub(4,"mat-radio-button",86),u.Rc(5,"Yes"),u.Tb(),u.Tb(),u.Tb()),2&e){var a=t.$implicit;u.Cb(1),u.nc("ngStyle",u.qc(3,ha)),u.Cb(1),u.Sc(a.HarmDescription),u.Cb(2),u.nc("checked",!0)}}function Pa(e,t){if(1&e&&(u.Ub(0,"div",81),u.Ub(1,"form",82),u.Ub(2,"div",83),u.Pc(3,ka,6,4,"div",84),u.Tb(),u.Tb(),u.Tb()),2&e){var a=u.gc();u.Cb(3),u.nc("ngForOf",a.TotalSelectedPotentialHarms)}}function wa(e,t){if(1&e){var a=u.Vb();u.Ub(0,"div",87),u.Ub(1,"button",88),u.Rc(2,"PREVIOUS"),u.Tb(),u.Ub(3,"button",89),u.cc("click",function(){return u.Ec(a),u.gc().onPreviewForm(!0)}),u.Ub(4,"div",90),u.Ub(5,"mat-icon"),u.Rc(6,"sim_card_download"),u.Tb(),u.Ub(7,"span"),u.Rc(8,"Download Form"),u.Tb(),u.Tb(),u.Tb(),u.Ub(9,"button",91),u.cc("click",function(){return u.Ec(a),u.gc().onPreviewForm(!1)}),u.Ub(10,"div",90),u.Ub(11,"mat-icon"),u.Rc(12,"visibility"),u.Tb(),u.Ub(13,"span"),u.Rc(14,"Preview Form"),u.Tb(),u.Tb(),u.Tb(),u.Ub(15,"button",92),u.cc("click",function(){return u.Ec(a),u.gc().onSubmit()}),u.Rc(16," SUBMIT "),u.Tb(),u.Tb()}if(2&e){var n=u.gc();u.Cb(3),u.nc("disabled",n.selectedPotentialHarms.length+n.notSelectedPotentialHarms.length!=n.PotentialHarmsCount),u.Cb(6),u.nc("disabled",n.selectedPotentialHarms.length+n.notSelectedPotentialHarms.length!=n.PotentialHarmsCount),u.Cb(6),u.nc("disabled",n.selectedPotentialHarms.length+n.notSelectedPotentialHarms.length!=n.PotentialHarmsCount)("ngStyle",u.qc(4,pa))}}var Sa,Ia,Ba,Aa=function(){return["Breaches"]},Fa=function(){return{"margin-right":"20px"}},Ma=function(){return{"margin-top":"50px"}},Ea=function(){return{"margin-top":"60px"}},Na=function(){return{"text-align":"center","font-weight":"bold"}},La=((Sa=function(e){i(a,e);var t=r(a);function a(e,n,i,o,r,c,b,d,m,p,g,h,y,T,D,x,U){var R;return l(this,a),(R=t.call(this,p,y,T,D)).fb=e,R.service=n,R.endpoints=i,R.http=o,R.cd=r,R.activateRoute=c,R.auth=b,R.dialog=d,R.allDialogRef=m,R.authService=p,R._auth=g,R.route=h,R._workflowService=y,R.registrationService=T,R.complaintService=D,R.dataBreachService=x,R.snackbar=U,R.subject$=new f.a(1),R.data$=R.subject$.asObservable(),R.$processingEvent=new u.o,R.$errorsEvent=new u.o,R.$resultComplaintsEvent=new u.o,R.processing=!1,R.showManageRequestInfo=!1,R.showManageButtons=!1,R.disableResolve=!0,R.disableForward=!0,R.isDirector=!1,R.ActionTakenCheckboxValue=0,R.DataRecoveredCheckboxValue=0,R.DataSubjectsCategories=[],R.CausesOfBreach=[],R.selectedBreachDescriptionQuestions=[],R.notSelectedBreachDescriptionQuestions=[],R.selectedPotentialHarms=[],R.notSelectedPotentialHarms=[],R.BreachDescriptionQuestions=[],R.PotentialHarms=[],R.application=new v,R.policy=new C,R.policies=[],R.personalData=[],R.personalDataAffected=[],R.impactOfBreaches=[],R.causeOfBreaches=[],R.controls=[],R._controls=[],R.pontentialConsequences=[],R.subscriptions=[],R.pipe=new s.f("en-US"),R.isLinear=!1,R.phonePrefixOptions=["+1","+27","+44","+49","+61","+91"],R.passwordInputType="password",R.list=[],R._displayColumns=["value","details"],R.levels=["Negligible","Limited","Significant","Maximum"],R.operationType=c.routeConfig.data.action,R.accesses=p.getKeycloakInstance().resourceAccess["dps-frontend"].roles,R.OrganisationID=g.getUser(),console.log(R.OrganisationID),"EDIT"===R.operationType?(R.isEditMode=!0,R.application.policies=[],R.application.personalDataAffected=[],R.application.impactOfBreach=[],R.application.controls=[],R.application.potentialConsequences=[],R.isEditMode=!0):"CREATE"===R.operationType?(R.isEditMode=!1,R.application.policies=[],R.application.personalDataAffected=[],R.application.impactOfBreach=[],R.application.controls=[],R.application.potentialConsequences=[]):"VIEW"===R.operationType&&(R.isEditMode=!1,R.isViewOnly=!0,R.showManageButtons=!0),R}return n(a,[{key:"ngOnInit",value:function(){var e=this;this.maxDate=new Date,("EDIT"===this.operationType||"VIEW"===this.operationType)&&(this.DataBreachTrackingNo=history.state.DataBreachTrackingNo),this.OrganisationDetails=this.fb.group({OrganisationName:new oe.e("",[oe.u.required]),RegNo:new oe.e("",[oe.u.required]),DPOEmail:new oe.e("",[oe.u.required]),DPONumber:new oe.e("",[oe.u.required,oe.u.pattern(/^[0-9]+$/)])}),this.isOfficer=this.auth.isUserInRole("data-protection-officer-nita"),this.isCompanyOfficer=this.auth.isUserInRole("data-protection-officer"),this.getCauseOfBreachJson.subscribe(function(t){e.causeOfBreaches=t}),this.breachDetails=this.fb.group({incidentDate:[null,oe.u.required],delayInReporting:[null],delayInReportings:[null],reasonForDelay:[null,oe.u.required],causesOfBreach:[],measures:[null,oe.u.required],FullDetailsOfComplaint:[null,oe.u.required],DetailsOfComplaint:[null,oe.u.required]}),this.containmentAndRecovery=this.fb.group({actionTaken:[null],detailsOfActionTaken:[null],hasDataBeenRecovered:[null],detailsOfRecovery:[null],dateOfRecovery:[null],preventionSteps:[null]}),this.breachConsequences=this.fb.group({}),this.additionalInfo=this.fb.group({}),this.potentialHarms=this.fb.group({}),this.OtherpotentialHarms=this.fb.group({}),this.accesses.includes("director-rights")&&(this.isDirector=!0),this.isViewOnly&&(this.disableAllControls(),this.getBreach(),this.subscriptions.$resultComplaintsEvent=this.$resultComplaintsEvent.subscribe(function(t){if(t){e.TotalSelectedBreachDescription=t[0].PotentialConsequences,console.log(t[0].PotentialConsequences.length);var a=Math.ceil(t[0].PotentialConsequences/2);console.log(typeof t[0].PotentialConsequences),e.FirstSelectedBreachDescription=t[0].PotentialConsequences.slice(0,a),console.log(e.FirstSelectedBreachDescription),e.SecondSelectedBreachDescription=t[0].PotentialConsequences.slice(-a),console.log(e.SecondSelectedBreachDescription),e.TotalSelectedPotentialHarms=t[0].PotentialHarms,e.TechnicalComments=t[0].TechnicalComments,e.LegalComments=t[0].LegalComments,e.accesses.includes("technical-rights")?1==t[0].BreachStatusID?e.disableForward=!1:7==t[0].BreachStatusID?(e.showManageRequestInfo=!0,e.disableForward=!0):e.disableForward=!0:e.accesses.includes("legal-rights")?3==t[0].BreachStatusID?e.disableForward=!1:8==t[0].BreachStatusID?(e.showManageRequestInfo=!0,e.disableForward=!0):e.disableForward=!0:e.accesses.includes("director-rights")?e.disableResolve=4!=t[0].BreachStatusID:e.disableForward=!0,e.httpSub=e.fetchOrganisation(t[0].OrganisationID).pipe(Object(be.a)(e.service.handleError)).subscribe(function(a){e.mapFields(t,a[0])},function(t){e.processing=!1,e.service.determineErrorResponse(t)})}else console.log("expected")}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.httpSub=this.fetchMultiple().pipe(Object(be.a)(this.service.handleError)).subscribe(function(t){e.breachDescriptionQuestionsCount=t[0].length,console.log(e.breachDescriptionQuestionsCount);var a=Math.ceil(t[0].length/2);e.BreachDescriptionQuestionsFirst=t[0].splice(0,a),console.log(e.BreachDescriptionQuestionsFirst),e.BreachDescriptionQuestionsSecond=t[0].splice(-a),console.log(e.BreachDescriptionQuestionsSecond),e.BreachDescriptionQuestions=e.BreachDescriptionQuestionsFirst.concat(e.BreachDescriptionQuestionsSecond),console.log(e.BreachDescriptionQuestions),e.PotentialHarmsCount=t[2].length,e.BreachCauses=t[1];var n=Math.ceil(t[2].length/2);e.PotentialHarmsFirst=t[2].splice(0,n),e.PotentialHarmsSecond=t[2].splice(-n),e.PotentialHarmsQuestions=e.PotentialHarmsFirst.concat(e.PotentialHarmsSecond),console.log(t[3]),e.prefillOrganisationDetails(t[3]),e.processing=!1},function(t){e.processing=!1,e.service.determineErrorResponse(t)})}},{key:"changePotentialHarmsValue",value:function(e,t){console.log(e.value);var a,n=e.value;n.startsWith("Yes")?(n.substring(n.indexOf("-")+1),this.selectedPotentialHarms.push(t),console.log(this.selectedPotentialHarms.length),-1!==(a=this.notSelectedPotentialHarms.indexOf(t))&&this.notSelectedPotentialHarms.splice(a,1),console.log(this.notSelectedPotentialHarms.length)):(n.substring(n.indexOf("-")+1),this.notSelectedPotentialHarms.push(t),-1!==(a=this.selectedPotentialHarms.indexOf(t))&&this.selectedPotentialHarms.splice(a,1),console.log(this.selectedPotentialHarms))}},{key:"changeBreachDescriptionValue",value:function(e,t){console.log(e.value);var a,n=e.value;n.startsWith("Yes")?(n.substring(n.indexOf("-")+1),this.selectedBreachDescriptionQuestions.push(t),-1!==(a=this.notSelectedBreachDescriptionQuestions.indexOf(t))&&this.notSelectedBreachDescriptionQuestions.splice(a,1),console.log(this.selectedBreachDescriptionQuestions)):(n.substring(n.indexOf("-")+1),this.notSelectedBreachDescriptionQuestions.push(t),-1!==(a=this.selectedBreachDescriptionQuestions.indexOf(t))&&this.selectedBreachDescriptionQuestions.splice(a,1),console.log(this.selectedBreachDescriptionQuestions))}},{key:"fetchMultiple",value:function(){this.processing=!0;var e=this.http.get(this.endpoints.getOrgDetailsById+"?OrganizationID="+this.OrganisationID.organisation_id),t=this.http.get(this.endpoints.getBreachDescriptionDetails),a=this.http.get(this.endpoints.getBreachCauses),n=this.http.get(this.endpoints.getPotentialHarms);return Object(de.a)([t,a,n,e])}},{key:"mapFields",value:function(e,t){console.log(t),console.log(e[0]),this.OrganisationDetails.get("OrganisationName").setValue(t[0].OrganisationName),this.OrganisationDetails.get("RegNo").setValue(t[0].RegTrackingNo),this.OrganisationDetails.get("DPOEmail").setValue(t[0].EmailAddress),this.OrganisationDetails.get("DPONumber").setValue(t[0].PhoneNumber),this.breachDetails.get("incidentDate").setValue(new Date(e[0].IncidentDate)),-1!==e[0].CategoriesOfDataSubjectAffected.split(",").indexOf("adults")&&this.breachDetails.get("delayInReporting").setValue(!0),-1!==e[0].CategoriesOfDataSubjectAffected.split(",").indexOf("children")&&this.breachDetails.get("delayInReportings").setValue(!0),this.breachDetails.get("causesOfBreach").setValue(e[0].BreachCauses),this.breachDetails.get("reasonForDelay").setValue(e[0].NumberOfDataSubjects.toString()),this.breachDetails.get("measures").setValue(e[0].NumberOfRecordsHeld.toString()),this.breachDetails.get("FullDetailsOfComplaint").setValue(e[0].DetailedDataBreachCause),this.breachDetails.get("DetailsOfComplaint").setValue(e[0].RemedialActionsTaken),this.containmentAndRecovery.get("actionTaken").setValue(e[0]),this.containmentAndRecovery.get("detailsOfActionTaken").setValue(e[0].ActionTakenToMinimizeDetails),this.containmentAndRecovery.get("hasDataBeenRecovered").setValue(e[0]),this.containmentAndRecovery.get("detailsOfRecovery").setValue(e[0].DataPlacedAtRiskRecoveredDetails),this.containmentAndRecovery.get("dateOfRecovery").setValue(e[0].DataRecoveryDate),this.containmentAndRecovery.get("preventionSteps").setValue(e[0].PreventiveStepsToPreventRecurrence)}},{key:"disableAllControls",value:function(){this.breachDetails.disable(),this.containmentAndRecovery.disable()}},{key:"showPassword",value:function(){this.passwordInputType="text",this.cd.markForCheck()}},{key:"hidePassword",value:function(){this.passwordInputType="password",this.cd.markForCheck()}},{key:"submit",value:function(){this.snackbar.open("Breach Submitted Succefully your reference is DAB/16/10/21/4651",null,{duration:5e3})}},{key:"onPolicyChange",value:function(e){this.application.policies=e}},{key:"onPersonalDataChange",value:function(e){this.personalDataAffected=e}},{key:"acceptData",value:function(e){this.personalDataAffected=e}},{key:"filter",value:function(e){console.log(e.value)}},{key:"onChangeBreachImpact",value:function(e){this.impactOfBreaches=e}},{key:"onChangeConsquenceEvent",value:function(e){this.pontentialConsequences=e}},{key:"onBreachControlEvent",value:function(e){this.controls=e}},{key:"formTriggler",value:function(e){switch(e){case"EDIT":case"CREATE":break;case"VIEW":this.isViewOnly=!0}}},{key:"getFormData",value:function(){var e=new Date(this.breachDetails.get("incidentDate").value),t=se(e).format("YYYY-MM-DD"),a=new Date(this.containmentAndRecovery.get("dateOfRecovery").value),n=se(a).format("YYYY-MM-DD");return{OrganisationID:parseInt(this.ActualOrganisationID),IncidentDate:t,organisation_name:this.OrganisationDetails.get("OrganisationName").value,RegTrackingNo:this.OrganisationDetails.get("RegNo").value,PhoneNumber:this.OrganisationDetails.get("DPONumber").value,email:this.OrganisationDetails.get("DPOEmail").value,CategoriesOfDataSubjectAffected:this.DataSubjectsCategories.toString(),NumberOfDataSubjects:this.breachDetails.get("reasonForDelay").value?parseInt(this.breachDetails.get("reasonForDelay").value):"",DetailedDataBreachCause:this.breachDetails.get("FullDetailsOfComplaint").value,NumberOfRecordsHeld:parseInt(this.breachDetails.get("measures").value),RemedialActionsTaken:this.breachDetails.get("DetailsOfComplaint").value,PotentialConsequences:this.selectedBreachDescriptionQuestions,PotentialHarms:this.selectedPotentialHarms,IsActionTakenToMinimize:this.ActionTakenCheckboxValue,ActionTakenToMinimizeDetails:this.containmentAndRecovery.get("detailsOfActionTaken").value?this.containmentAndRecovery.get("detailsOfActionTaken").value:"",IsDataPlacedAtRiskRecovered:this.DataRecoveredCheckboxValue,DataPlacedAtRiskRecoveredDetails:this.containmentAndRecovery.get("detailsOfRecovery").value?this.containmentAndRecovery.get("detailsOfRecovery").value:"",DataRecoveryDate:this.containmentAndRecovery.get("dateOfRecovery").value?n:"",PreventiveStepsToPreventRecurrence:this.containmentAndRecovery.get("preventionSteps").value?this.containmentAndRecovery.get("preventionSteps").value:"",PersonalDataAffected:this.personalDataAffected,BreachCauses:this.CausesOfBreach}}},{key:"onPreviewForm",value:function(e){this.dialogRef=this.dialog.open(et,{panelClass:["org-breach-preview","dialogs"],disableClose:!0,data:{download:e,row:this.getFormData()}})}},{key:"onSubmit",value:function(){var e=this;console.log(this.getFormData()),this.httpSub=this.http.post(this.endpoints.reportBreach,this.getFormData()).pipe(Object(be.a)(this.service.handleError)).subscribe(function(t){e.dialogRef=e.dialog.open(re.a,{disableClose:!0,data:{title:"Breach Submission",message:"Breach Report Created Successfully",status:!0}}),e.dialogRef.afterClosed().subscribe(function(){e.route.navigate(["/"])}),e.processing=!1},function(t){e.processing=!1,t.error.message?e.dialogRef=e.dialog.open(ce.a,{panelClass:["forward-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:I.a.technicalErrorResponse,status:!1}}):e.service.determineErrorResponse(t)})}},{key:"markAsResolved",value:function(){this.dialog.open(Pe,{width:"1391px",height:"595px",data:{DataBreachTrackingNumber:this.DataBreachTrackingNo,Status:5,isDirector:this.isDirector,TechnicalComments:this.TechnicalComments,LegalComments:this.LegalComments}})}},{key:"forwardComplaint",value:function(){var e,t,a;this.accesses.includes("technical-rights")?(e=3,a=!1):this.accesses.includes("legal-rights")&&(t=this.TechnicalComments,e=4,a=!0),this.dialog.open(Ie,{width:"1391px",height:"595px",data:{DataBreachTrackingNumber:this.DataBreachTrackingNo,Status:e,TechnicalComments:t,isLegal:a}})}},{key:"moreInformation",value:function(){this.dialog.open(tt,{width:"1391px",height:"595px",data:{DataBreachTrackingNumber:this.DataBreachTrackingNo}}).afterClosed().subscribe(function(e){})}},{key:"ActionTakenCheckboxChange",value:function(e){this.ActionTakenCheckboxValue=e.checked?1:0}},{key:"DataRecoveredCheckboxChange",value:function(e){e.checked?(this.DataRecoveredCheckboxValue=1,console.log("here1")):(this.DataRecoveredCheckboxValue=0,console.log("here2"))}},{key:"ChildrenDataSubjectCategoryChange",value:function(e){if(e.checked)-1==this.DataSubjectsCategories.indexOf("children")&&this.DataSubjectsCategories.push("children"),console.log("here1");else{var t=this.DataSubjectsCategories.indexOf("children");-1!==t&&this.DataSubjectsCategories.splice(t,1)}}},{key:"AdultDataSubjectCategoryChange",value:function(e){if(e.checked)-1==this.DataSubjectsCategories.indexOf("adults")&&this.DataSubjectsCategories.push("adults"),console.log("here1");else{var t=this.DataSubjectsCategories.indexOf("adults");-1!==t&&this.DataSubjectsCategories.splice(t,1)}}},{key:"markUnderInvestigation",value:function(){this.dialog.open(Ee,{width:"1391px",height:"595px",data:{BreachTrackingNumber:this.DataBreachTrackingNo,Status:2}}).afterClosed().subscribe(function(e){})}},{key:"onChangeOfBreachCauses",value:function(e,t){if(1==e.source._selected)-1==this.CausesOfBreach.indexOf(t)&&this.CausesOfBreach.push(t);else{var a=this.CausesOfBreach.indexOf(t);-1!==a&&this.CausesOfBreach.splice(a,1)}console.log(this.CausesOfBreach)}},{key:"getBreach",value:function(){this.dataBreachService.getBreach(this.$processingEvent,this.$resultComplaintsEvent,this.$errorsEvent,this.DataBreachTrackingNo)}},{key:"fetchOrganisation",value:function(e){var t=this.http.get(this.endpoints.getOrganisationDetailsById+"?OrganizationID="+e);return Object(de.a)([t])}},{key:"prefillOrganisationDetails",value:function(e){console.log(e),this.ActualOrganisationID=e[0].OrganisationID,this.OrganisationDetails.get("OrganisationName").setValue(this.OrganisationID.organisation_name),this.OrganisationDetails.get("RegNo").setValue(e[0].RegTrackingNo),this.OrganisationDetails.get("DPOEmail").setValue(e[0].EmailAddress),this.OrganisationDetails.get("DPONumber").setValue(e[0].PhoneNumber)}},{key:"manageRequestInfo",value:function(){var e=this;this.httpSub=this.http.get(this.endpoints.CheckBreachRequestForInfo+"?DataBreachTrackingNo="+this.DataBreachTrackingNo).pipe(Object(be.a)(this.service.handleError)).subscribe(function(t){console.log(t.data.Comments),e.dialogRef=e.dialog.open(at,{width:"1391px",height:"595px",data:{DataBreachTrackingNumber:e.DataBreachTrackingNo,RequestedInformation:t.data.Comments}}),e.dialogRef.afterClosed().subscribe(function(){e.route.navigate(["/reporting-and-notification/find/all"])}),e.processing=!1},function(t){e.processing=!1,t.error.message?e.dialogRef=e.dialog.open(re.a,{panelClass:["successful-message-dialog","dialogs"],disableClose:!0,data:{title:t.error.message.title?t.error.message.title:"Operation Failed",message:t.error.message.body?t.error.message.body:I.a.technicalErrorResponse,status:!1}}):e.service.determineErrorResponse(t)})}},{key:"getSampleJson",get:function(){return Object(g.a)(D.map(function(e){return e}))}},{key:"getCauseOfBreachJson",get:function(){return Object(g.a)(T.map(function(e){return e}))}},{key:"getData",get:function(){return Object(g.a)(U)}}]),a}(ue.a)).\u0275fac=function(e){return new(e||Sa)(u.Ob(oe.d),u.Ob(P.a),u.Ob(k.a),u.Ob(A.c),u.Ob(u.h),u.Ob(b.a),u.Ob(B.c),u.Ob(M.b),u.Ob(M.b),u.Ob(B.c),u.Ob(le.a),u.Ob(b.f),u.Ob(pe.a),u.Ob(fe.a),u.Ob(ge.a),u.Ob(F),u.Ob(nt.c))},Sa.\u0275cmp=u.Ib({type:Sa,selectors:[["fury-data-breach-edit"]],viewQuery:function(e,t){var a;1&e&&u.Vc(Ht,!0),2&e&&u.zc(a=u.dc())&&(t.autosize=a.first)},features:[u.zb],decls:191,vars:68,consts:[["mode","card"],["current","Notification Breach",3,"crumbs"],[4,"ngIf"],[1,""],["labelPosition","bottom",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[1,"form-OrganisationDetails",3,"formGroup"],[1,"grouped-items"],["fxFlex","2 2 auto",3,"ngStyle"],[1,"required-field"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","OrganisationName","cdkAutosizeMaxRows","5",3,"readonly"],["autosize","cdkTextareaAutosize"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","RegNo","cdkAutosizeMaxRows","5",3,"readonly"],[3,"ngStyle"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","DPOEmail","cdkAutosizeMaxRows","5",3,"readonly"],["fxFlex","2 2 auto"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","DPONumber","cdkAutosizeMaxRows","5",3,"readonly"],[1,"button-wrapper","single-button"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-button","","type","button",3,"disabled","click"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled"],[3,"formGroup"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px"],["fxFlex",""],["formControlName","incidentDate","matInput","","readonly","",3,"max","matDatepicker","click","focus"],["matSuffix","",3,"for"],["formDatepickerRef",""],["fxFlex","2 2 auto","appearance","fill"],["formControlName","causesOfBreach","multiple",""],[3,"value","onSelectionChange",4,"ngFor","ngForOf"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",3,"ngStyle"],["formControlName","delayInReporting",3,"checked","change"],["formControlName","delayInReportings",3,"checked","change"],["matInput","","type","number","formControlName","reasonForDelay",3,"min"],["matInput","","type","number","formControlName","measures",3,"min"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutGap","8px","fxLayoutGap.gt-xs","20px"],["fxFlex","2 2 auto",1,"full-width","margin-top"],["placeholder","Enter here","formControlName","FullDetailsOfComplaint","matInput","","maxlength","1000",1,"textarea-large"],["FullDetailsOfComplaintInput",""],["placeholder","Enter here","formControlName","DetailsOfComplaint","matInput","","maxlength","1000",1,"textarea-large"],["DetailsOfComplaintInput",""],[3,"personalDataList","isViewOnly","PersonalDataAffected","personalDataEvent"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["formControlName","actionTaken",3,"checked","value","change"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","detailsOfActionTaken","cdkAutosizeMaxRows","5"],["formControlName","hasDataBeenRecovered",3,"checked","value","change"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","detailsOfRecovery","cdkAutosizeMaxRows","5"],["formControlName","dateOfRecovery","matInput","","readonly","",3,"max","matDatepicker","click","focus"],["formDatepickerRefRecovery",""],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","formControlName","preventionSteps","cdkAutosizeMaxRows","5"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions",3,"ngStyle"],["color","primary","mat-button","","matStepperPrevious","","type","button"],["for","Questions"],[3,"linear",4,"ngIf"],["class","flex-container","fxLayout","row","fxLayout","column",4,"ngIf"],["class","actions","fxLayout","row","fxLayoutGap","12px",4,"ngIf"],[1,"example-spacer"],["mat-raised-button","","class","actions-button-padding","color","primary",3,"ngStyle","disabled","click",4,"ngIf"],["mat-raised-button","","class","actions-button-padding","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","class","actions-button-padding","color","primary",3,"disabled","ngStyle","click",4,"ngIf"],["mat-raised-button","","matTooltip","View Timeline","class","actions-button-padding","color","primary",3,"disabled","ngStyle","click",4,"ngIf"],["mat-raised-button","","matTooltip","View Timeline","class","actions-button-padding","color","primary",3,"ngStyle","click",4,"ngIf"],["mat-raised-button","","color","primary",1,"actions-button-padding",3,"ngStyle","disabled","click"],["mat-raised-button","","color","primary",1,"actions-button-padding",3,"disabled","click"],["mat-raised-button","","color","primary",1,"actions-button-padding",3,"disabled","ngStyle","click"],["mat-raised-button","","matTooltip","View Timeline","color","primary",1,"actions-button-padding",3,"disabled","ngStyle","click"],["mat-raised-button","","matTooltip","View Timeline","color","primary",1,"actions-button-padding",3,"ngStyle","click"],[3,"value","onSelectionChange"],[3,"linear"],[4,"ngFor","ngForOf"],["matColumnDef","NatureOfPersonalDataCollected"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[3,"formGroup",4,"ngIf"],["color","primary"],[3,"value","ngStyle","change"],[3,"value","change"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["fxLayout","row","fxLayout","column",1,"flex-container"],["action",""],["layout","row","layout-wrap",""],["class","grouped-items","flex","50",4,"ngFor","ngForOf"],["flex","50",1,"grouped-items"],["value","Yes",3,"checked"],["fxLayout","row","fxLayoutGap","12px",1,"actions"],["color","primary","mat-button","","matStepperPrevious","","type","button",2,"margin-left","50px"],["mat-button","","color","primary","matTooltip","Keep a copy of the information you have filled in",1,"download",3,"disabled","click"],[1,"button-label"],["mat-button","","color","primary","matTooltip","Have a look at all the information you have filled in before sending.",1,"preview",3,"disabled","click"],["color","primary","mat-raised-button","","fxLayout","row","fxLayoutAlign","end end","fxLayoutGap","8px",1,"next-btn","submit-btn",3,"disabled","ngStyle","click"]],template:function(e,t){if(1&e){var a=u.Vb();u.Ub(0,"fury-page-layout",0),u.Ub(1,"fury-page-layout-header"),u.Pb(2,"fury-breadcrumbs",1),u.Tb(),u.Ub(3,"div"),u.Ub(4,"mat-toolbar"),u.Pc(5,Jt,7,5,"mat-toolbar-row",2),u.Tb(),u.Tb(),u.Ub(6,"fury-page-layout-content"),u.Ub(7,"div",3),u.Ub(8,"mat-horizontal-stepper",4,5),u.Ub(10,"mat-step",6),u.Pc(11,ea,1,0,"ng-template",7),u.Ub(12,"form",8),u.Ub(13,"div",9),u.Ub(14,"mat-form-field",10),u.Ub(15,"mat-label"),u.Rc(16,"Name of Organisation"),u.Ub(17,"span",11),u.Rc(18,"required"),u.Tb(),u.Tb(),u.Pb(19,"textarea",12,13),u.Ub(21,"mat-hint"),u.Rc(22,"Organisation that is affected"),u.Tb(),u.Tb(),u.Ub(23,"mat-form-field",10),u.Ub(24,"mat-label"),u.Rc(25,"Registration Number"),u.Tb(),u.Pb(26,"textarea",14,13),u.Ub(28,"mat-hint"),u.Rc(29,"The number assigned after registration"),u.Tb(),u.Tb(),u.Tb(),u.Ub(30,"div",15),u.Ub(31,"mat-form-field",10),u.Ub(32,"mat-label"),u.Rc(33,"Email Address of Organisation"),u.Ub(34,"span",11),u.Rc(35,"required"),u.Tb(),u.Tb(),u.Pb(36,"textarea",16,13),u.Ub(38,"mat-hint"),u.Rc(39,"Contact Email of Organisation"),u.Tb(),u.Tb(),u.Ub(40,"mat-form-field",17),u.Ub(41,"mat-label"),u.Rc(42,"Telephone Number of Organisation"),u.Ub(43,"span",11),u.Rc(44,"required"),u.Tb(),u.Tb(),u.Pb(45,"textarea",18,13),u.Ub(47,"mat-hint"),u.Rc(48,"Contact Number of Organisation"),u.Tb(),u.Tb(),u.Tb(),u.Ub(49,"div",19),u.Ub(50,"div",20),u.Ub(51,"button",21),u.cc("click",function(){return u.Ec(a),u.Ac(9).reset()}),u.Rc(52,"RESET "),u.Tb(),u.Ub(53,"button",22),u.Rc(54," NEXT "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(55,"mat-step",6),u.Pc(56,ta,1,0,"ng-template",7),u.Ub(57,"form",23),u.Ub(58,"div",24),u.Ub(59,"mat-form-field",25),u.Ub(60,"mat-label"),u.Rc(61,"Select date of when incident happen?"),u.Tb(),u.Ub(62,"input",26),u.cc("click",function(){return u.Ec(a),u.Ac(67).open()})("focus",function(){return u.Ec(a),u.Ac(67).open()}),u.Tb(),u.Pb(63,"mat-datepicker-toggle",27),u.Ub(64,"mat-hint"),u.Rc(65,"When did the incident happen?"),u.Tb(),u.Pb(66,"mat-datepicker",null,28),u.Tb(),u.Ub(68,"mat-form-field",29),u.Ub(69,"mat-label"),u.Rc(70,"Likely Causes of the breach"),u.Tb(),u.Ub(71,"mat-select",30),u.Pc(72,aa,2,2,"mat-option",31),u.Tb(),u.Ub(73,"mat-hint"),u.Rc(74,"Please specify if any financial or sensitive personal data (special categories*) has been affected "),u.Tb(),u.Tb(),u.Tb(),u.Ub(75,"div",32),u.Ub(76,"mat-label"),u.Ub(77,"div"),u.Ub(78,"h5"),u.Rc(79,"Categories of Data Subject Affected by breach"),u.Tb(),u.Tb(),u.Ub(80,"div"),u.Ub(81,"mat-checkbox",33),u.cc("change",function(e){return t.AdultDataSubjectCategoryChange(e)}),u.Rc(82," Adult "),u.Tb(),u.Tb(),u.Ub(83,"div"),u.Ub(84,"mat-checkbox",34),u.cc("change",function(e){return t.ChildrenDataSubjectCategoryChange(e)}),u.Rc(85," Children "),u.Tb(),u.Tb(),u.Tb(),u.Ub(86,"mat-form-field",29),u.Ub(87,"mat-label"),u.Rc(88,"Number of data Subjects"),u.Tb(),u.Pb(89,"input",35),u.Ub(90,"mat-hint"),u.Rc(91,"Subjects affected by breach"),u.Tb(),u.Tb(),u.Ub(92,"mat-form-field",29),u.Ub(93,"mat-label"),u.Rc(94,"Total Number of Records held"),u.Tb(),u.Pb(95,"input",36),u.Ub(96,"mat-hint"),u.Rc(97,"Breached records as a percentage"),u.Tb(),u.Tb(),u.Tb(),u.Ub(98,"div",37),u.Ub(99,"mat-form-field",38),u.Ub(100,"mat-label"),u.Rc(101,"Details On Likely causes of breaches"),u.Ub(102,"span",11),u.Rc(103,"required"),u.Tb(),u.Tb(),u.Pb(104,"textarea",39,40),u.Tb(),u.Tb(),u.Ub(106,"div",37),u.Ub(107,"mat-form-field",38),u.Ub(108,"mat-label"),u.Rc(109,"Remedial Actions taken or proposed"),u.Ub(110,"span",11),u.Rc(111,"required"),u.Tb(),u.Tb(),u.Pb(112,"textarea",41,42),u.Tb(),u.Tb(),u.Ub(114,"div",20),u.Ub(115,"button",21),u.cc("click",function(){return u.Ec(a),u.Ac(9).reset()}),u.Rc(116,"RESET "),u.Tb(),u.Ub(117,"button",22),u.Rc(118," NEXT "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(119,"mat-step",6),u.Pc(120,na,0,0,"ng-template",7),u.Ub(121,"fury-data-breach-personal-data-itemised",43),u.cc("PersonalDataAffected",function(e){return t.acceptData(e)})("personalDataEvent",function(e){return t.onPersonalDataChange(e)}),u.Tb(),u.Tb(),u.Ub(122,"mat-step",6),u.Ub(123,"form",23),u.Pc(124,ia,0,0,"ng-template",7),u.Ub(125,"fieldset"),u.Ub(126,"legend"),u.Rc(127," Containment & Recovery"),u.Tb(),u.Ub(128,"div",44),u.Ub(129,"mat-checkbox",45),u.cc("change",function(e){return t.ActionTakenCheckboxChange(e)}),u.Rc(130," Has any action been taken to minimise/mitigate the effect on the affected individuals? "),u.Tb(),u.Ub(131,"div",24),u.Ub(132,"mat-form-field",29),u.Ub(133,"mat-label"),u.Rc(134,"Details Of Action Taken"),u.Tb(),u.Pb(135,"textarea",46,13),u.Ub(137,"mat-hint"),u.Rc(138,"Provide details taken to minimise/mitigate the effect."),u.Tb(),u.Tb(),u.Tb(),u.Ub(139,"mat-checkbox",47),u.cc("change",function(e){return t.DataRecoveredCheckboxChange(e)}),u.Rc(140," Has the data placed at risk now been recovered? "),u.Tb(),u.Ub(141,"div",32),u.Ub(142,"mat-form-field",29),u.Ub(143,"mat-label"),u.Rc(144,"Data recovery details"),u.Tb(),u.Pb(145,"textarea",48,13),u.Ub(147,"mat-hint"),u.Rc(148,"If so, please provide details of how and when this occurred. "),u.Tb(),u.Tb(),u.Tb(),u.Ub(149,"mat-form-field",25),u.Ub(150,"mat-label"),u.Rc(151,"Select date of data recovery"),u.Tb(),u.Ub(152,"input",49),u.cc("click",function(){return u.Ec(a),u.Ac(157).open()})("focus",function(){return u.Ec(a),u.Ac(157).open()}),u.Tb(),u.Pb(153,"mat-datepicker-toggle",27),u.Ub(154,"mat-hint"),u.Rc(155,"When did the recovery occur?"),u.Tb(),u.Pb(156,"mat-datepicker",null,50),u.Tb(),u.Ub(158,"div",24),u.Ub(159,"mat-form-field",29),u.Ub(160,"mat-label"),u.Rc(161,"Prevention Steps"),u.Tb(),u.Pb(162,"textarea",51,13),u.Ub(164,"mat-hint"),u.Rc(165,"What steps have been taken to prevent a recurrence of this incident ? "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Pb(166,"br"),u.Pb(167,"br"),u.Ub(168,"div",52),u.Ub(169,"button",53),u.Rc(170,"PREVIOUS"),u.Tb(),u.Ub(171,"button",22),u.Rc(172," NEXT "),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(173,"mat-step",6),u.Ub(174,"div",15),u.Ub(175,"label",54),u.Rc(176,"Breach Consequences"),u.Tb(),u.Tb(),u.Pc(177,ga,16,11,"mat-horizontal-stepper",55),u.Pc(178,Ca,4,1,"div",56),u.Ub(179,"div",52),u.Ub(180,"button",53),u.Rc(181,"PREVIOUS"),u.Tb(),u.Ub(182,"button",22),u.Rc(183," NEXT "),u.Tb(),u.Tb(),u.Tb(),u.Ub(184,"mat-step",6),u.Ub(185,"div",15),u.Ub(186,"label",54),u.Rc(187,"Potential Harms"),u.Tb(),u.Tb(),u.Pc(188,Oa,25,15,"mat-horizontal-stepper",2),u.Pc(189,Pa,4,1,"div",56),u.Pc(190,wa,17,5,"div",57),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb()}if(2&e){var n=u.Ac(67),i=u.Ac(157);u.Cb(2),u.nc("@fadeInRight",void 0)("crumbs",u.qc(57,Aa)),u.Cb(3),u.nc("ngIf",1==t.showManageButtons),u.Cb(1),u.nc("@fadeInUp",void 0),u.Cb(1),u.nc("@fadeInUp",void 0),u.Cb(1),u.nc("linear",!0),u.Cb(2),u.nc("stepControl",t.OrganisationDetails),u.Cb(2),u.nc("formGroup",t.OrganisationDetails),u.Cb(2),u.nc("ngStyle",u.qc(58,Fa)),u.Cb(5),u.nc("readonly",!0),u.Cb(4),u.nc("ngStyle",u.qc(59,Fa)),u.Cb(3),u.nc("readonly",!0),u.Cb(4),u.nc("ngStyle",u.qc(60,Ma)),u.Cb(1),u.nc("ngStyle",u.qc(61,Fa)),u.Cb(5),u.nc("readonly",!0),u.Cb(9),u.nc("readonly",!0),u.Cb(6),u.nc("disabled",t.OrganisationDetails.pristine),u.Cb(2),u.nc("disabled",t.OrganisationDetails.invalid),u.Cb(2),u.nc("stepControl",t.breachDetails),u.Cb(2),u.nc("formGroup",t.breachDetails),u.Cb(5),u.nc("max",t.maxDate)("matDatepicker",n),u.Cb(1),u.nc("for",n),u.Cb(9),u.nc("ngForOf",t.BreachCauses),u.Cb(3),u.nc("ngStyle",u.qc(62,Ea)),u.Cb(6),u.nc("checked",!1),u.Cb(3),u.nc("checked",!1),u.Cb(5),u.nc("min",1),u.Cb(6),u.nc("min",1),u.Cb(20),u.nc("disabled",t.breachDetails.pristine),u.Cb(2),u.nc("disabled",t.breachDetails.invalid),u.Cb(2),u.nc("stepControl",t.personalData),u.Cb(2),u.nc("personalDataList",t.application.personalDataAffected)("isViewOnly",t.isViewOnly),u.Cb(1),u.nc("stepControl",t.containmentAndRecovery),u.Cb(1),u.nc("formGroup",t.containmentAndRecovery),u.Cb(6),u.nc("checked",!1)("value",t.ActionTakenCheckboxValue),u.Cb(10),u.nc("checked",!1)("value",t.DataRecoveredCheckboxValue),u.Cb(2),u.nc("ngStyle",u.qc(63,pa)),u.Cb(11),u.nc("max",t.maxDate)("matDatepicker",i),u.Cb(1),u.nc("for",i),u.Cb(15),u.nc("ngStyle",u.qc(64,pa)),u.Cb(3),u.nc("disabled",t.containmentAndRecovery.invalid),u.Cb(2),u.nc("stepControl",t.breachConsequences),u.Cb(1),u.nc("ngStyle",u.qc(65,Na)),u.Cb(3),u.nc("ngIf",0==t.showManageButtons),u.Cb(1),u.nc("ngIf",1==t.showManageButtons),u.Cb(1),u.nc("ngStyle",u.qc(66,pa)),u.Cb(3),u.nc("disabled",t.selectedBreachDescriptionQuestions.length+t.notSelectedBreachDescriptionQuestions.length!=t.breachDescriptionQuestionsCount),u.Cb(2),u.nc("stepControl",t.potentialHarms),u.Cb(1),u.nc("ngStyle",u.qc(67,Na)),u.Cb(3),u.nc("ngIf",0==t.showManageButtons),u.Cb(1),u.nc("ngIf",1==t.showManageButtons),u.Cb(1),u.nc("ngIf",0==t.showManageButtons)}},directives:[E.a,N.a,L.a,it.a,s.o,q.a,ot.a,ot.b,ot.c,oe.v,oe.o,oe.h,Ce.d,ve.b,s.p,De.c,Ce.h,ye.b,Te.b,oe.c,oe.n,oe.g,Ce.g,ve.d,ve.c,ve.e,V.a,ot.e,rt.b,rt.d,Ce.j,rt.a,ct.a,s.n,G.a,oe.r,oe.j,zt,ot.f,it.c,xe.a,ut.m,p.c,p.i,p.b,Le.b,Le.a,p.h,m.b,p.a,oe.p,z.a],styles:[".title[_ngcontent-%COMP%]{color:#fff}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background:#e0e0e0!important}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}fieldset[_ngcontent-%COMP%]{border-width:1px!important;border-color:#f5f5f5!important}legend[_ngcontent-%COMP%]{padding:5px}.hide[_ngcontent-%COMP%]{display:none}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}div.grouped-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;align-self:flex-start}div.grouped-items[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:-webkit-fit-content;width:fit-content;width:-moz-fit-content;font-weight:500;font-size:13px}div.grouped-items[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   .required-field[_ngcontent-%COMP%]{right:-49px}div.grouped-items[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;gap:40px;font-size:12px!important;font-weight:600}div.grouped-items[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{font-size:10px!important;font-weight:500!important}"],data:{animation:[R.a,O.a,me.a]}}),Sa),qa=[{path:"find/all",component:ne,canActivate:[ie.a],data:{roles:["find.breaches","view.breach"],action:"FIND"}},{path:"create",component:La,canActivate:[ie.a],data:{roles:["report.breach","update.breach"],action:"EDIT"}},{path:"view",component:La,canActivate:[ie.a],data:{roles:["find.breaches","view.breach"],action:"VIEW"}}],_a=((Ia=function e(){l(this,e)}).\u0275mod=u.Mb({type:Ia}),Ia.\u0275inj=u.Lb({factory:function(e){return new(e||Ia)},imports:[[b.j.forChild(qa)],b.j]}),Ia),Ga=o("KthW"),Va=o("AyUp"),ja=o("WCGO"),za=o("VCcF"),Ha=o("0jmt"),$a=o("QMK6"),Qa=o("VE2z"),Wa=o("6BeY"),Ya=o("q8Jb"),Ka=((Ba=function e(){l(this,e)}).\u0275mod=u.Mb({type:Ba}),Ba.\u0275inj=u.Lb({factory:function(e){return new(e||Ba)},imports:[[s.c,_a,oe.i,Ga.a,Va.a,oe.s,ja.a,za.a,Ha.a,$a.a,Qa.a,Wa.a,Ya.a]]}),Ba)}}])}();